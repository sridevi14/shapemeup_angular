(self.webpackChunkshapmeup=self.webpackChunkshapmeup||[]).push([[179],{8255:pt=>{function Oe($){return Promise.resolve().then(()=>{var B=new Error("Cannot find module '"+$+"'");throw B.code="MODULE_NOT_FOUND",B})}Oe.keys=()=>[],Oe.resolve=Oe,Oe.id=8255,pt.exports=Oe},8583:(pt,Oe,$)=>{"use strict";$.d(Oe,{mr:()=>ht,ez:()=>bc,K0:()=>ve,Do:()=>ft,V_:()=>re,Ye:()=>et,S$:()=>at,sg:()=>xt,O5:()=>kn,b0:()=>z,lw:()=>se,EM:()=>Kn,JF:()=>Sl,NF:()=>Cu,PM:()=>Eu,w_:()=>ne,bD:()=>Tl,q:()=>G,Mx:()=>Di,HT:()=>Ee});var B=$(7716);let v=null;function G(){return v}function Ee(k){v||(v=k)}class ne{}const ve=new B.OlP("DocumentToken");let se=(()=>{class k{historyGo(F){throw new Error("Not implemented")}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275prov=(0,B.Yz7)({factory:ue,token:k,providedIn:"platform"}),k})();function ue(){return(0,B.LFG)(le)}const re=new B.OlP("Location Initialized");let le=(()=>{class k extends se{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(F){const J=G().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",F,!1),()=>J.removeEventListener("popstate",F)}onHashChange(F){const J=G().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",F,!1),()=>J.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,J,he){te()?this._history.pushState(F,J,he):this.location.hash=he}replaceState(F,J,he){te()?this._history.replaceState(F,J,he):this.location.hash=he}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return k.\u0275fac=function(F){return new(F||k)(B.LFG(ve))},k.\u0275prov=(0,B.Yz7)({factory:_e,token:k,providedIn:"platform"}),k})();function te(){return!!window.history.pushState}function _e(){return new le((0,B.LFG)(ve))}function Ne(k,q){if(0==k.length)return q;if(0==q.length)return k;let F=0;return k.endsWith("/")&&F++,q.startsWith("/")&&F++,2==F?k+q.substring(1):1==F?k+q:k+"/"+q}function ot(k){const q=k.match(/#|\?|$/),F=q&&q.index||k.length;return k.slice(0,F-("/"===k[F-1]?1:0))+k.slice(F)}function ze(k){return k&&"?"!==k[0]?"?"+k:k}let at=(()=>{class k{historyGo(F){throw new Error("Not implemented")}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275prov=(0,B.Yz7)({factory:Ze,token:k,providedIn:"root"}),k})();function Ze(k){const q=(0,B.LFG)(ve).location;return new z((0,B.LFG)(se),q&&q.origin||"")}const ht=new B.OlP("appBaseHref");let z=(()=>{class k extends at{constructor(F,J){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==J&&(J=this._platformLocation.getBaseHrefFromDOM()),null==J)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=J}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Ne(this._baseHref,F)}path(F=!1){const J=this._platformLocation.pathname+ze(this._platformLocation.search),he=this._platformLocation.hash;return he&&F?`${J}${he}`:J}pushState(F,J,he,Be){const Le=this.prepareExternalUrl(he+ze(Be));this._platformLocation.pushState(F,J,Le)}replaceState(F,J,he,Be){const Le=this.prepareExternalUrl(he+ze(Be));this._platformLocation.replaceState(F,J,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var J,he;null===(he=(J=this._platformLocation).historyGo)||void 0===he||he.call(J,F)}}return k.\u0275fac=function(F){return new(F||k)(B.LFG(se),B.LFG(ht,8))},k.\u0275prov=B.Yz7({token:k,factory:k.\u0275fac}),k})(),ft=(()=>{class k extends at{constructor(F,J){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(F){const J=Ne(this._baseHref,F);return J.length>0?"#"+J:J}pushState(F,J,he,Be){let Le=this.prepareExternalUrl(he+ze(Be));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.pushState(F,J,Le)}replaceState(F,J,he,Be){let Le=this.prepareExternalUrl(he+ze(Be));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.replaceState(F,J,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var J,he;null===(he=(J=this._platformLocation).historyGo)||void 0===he||he.call(J,F)}}return k.\u0275fac=function(F){return new(F||k)(B.LFG(se),B.LFG(ht,8))},k.\u0275prov=B.Yz7({token:k,factory:k.\u0275fac}),k})(),et=(()=>{class k{constructor(F,J){this._subject=new B.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const he=this._platformStrategy.getBaseHref();this._platformLocation=J,this._baseHref=ot(nn(he)),this._platformStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,J=""){return this.path()==this.normalize(F+ze(J))}normalize(F){return k.stripTrailingSlash(function(k,q){return k&&q.startsWith(k)?q.substring(k.length):q}(this._baseHref,nn(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,J="",he=null){this._platformStrategy.pushState(he,"",F,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ze(J)),he)}replaceState(F,J="",he=null){this._platformStrategy.replaceState(he,"",F,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ze(J)),he)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var J,he;null===(he=(J=this._platformStrategy).historyGo)||void 0===he||he.call(J,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)}))}_notifyUrlChangeListeners(F="",J){this._urlChangeListeners.forEach(he=>he(F,J))}subscribe(F,J,he){return this._subject.subscribe({next:F,error:J,complete:he})}}return k.\u0275fac=function(F){return new(F||k)(B.LFG(at),B.LFG(se))},k.normalizeQueryParams=ze,k.joinWithSlash=Ne,k.stripTrailingSlash=ot,k.\u0275prov=(0,B.Yz7)({factory:Kt,token:k,providedIn:"root"}),k})();function Kt(){return new et((0,B.LFG)(at),(0,B.LFG)(se))}function nn(k){return k.replace(/\/index.html$/,"")}var Pe=(()=>((Pe=Pe||{})[Pe.Zero=0]="Zero",Pe[Pe.One=1]="One",Pe[Pe.Two=2]="Two",Pe[Pe.Few=3]="Few",Pe[Pe.Many=4]="Many",Pe[Pe.Other=5]="Other",Pe))();const St=B.kL8;class yr{}let nr=(()=>{class k extends yr{constructor(F){super(),this.locale=F}getPluralCategory(F,J){switch(St(J||this.locale)(F)){case Pe.Zero:return"zero";case Pe.One:return"one";case Pe.Two:return"two";case Pe.Few:return"few";case Pe.Many:return"many";default:return"other"}}}return k.\u0275fac=function(F){return new(F||k)(B.LFG(B.soG))},k.\u0275prov=B.Yz7({token:k,factory:k.\u0275fac}),k})();function Di(k,q){q=encodeURIComponent(q);for(const F of k.split(";")){const J=F.indexOf("="),[he,Be]=-1==J?[F,""]:[F.slice(0,J),F.slice(J+1)];if(he.trim()===q)return decodeURIComponent(Be)}return null}class yn{constructor(q,F,J,he){this.$implicit=q,this.ngForOf=F,this.index=J,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xt=(()=>{class k{constructor(F,J,he){this._viewContainer=F,this._template=J,this._differs=he,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;if(!this._differ&&F)try{this._differ=this._differs.find(F).create(this.ngForTrackBy)}catch(J){throw new Error(`Cannot find a differ supporting object '${F}' of type '${function(k){return k.name||typeof k}(F)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const J=[];F.forEachOperation((he,Be,Le)=>{if(null==he.previousIndex){const Mt=this._viewContainer.createEmbeddedView(this._template,new yn(null,this._ngForOf,-1,-1),null===Le?void 0:Le),Cn=new rn(he,Mt);J.push(Cn)}else if(null==Le)this._viewContainer.remove(null===Be?void 0:Be);else if(null!==Be){const Mt=this._viewContainer.get(Be);this._viewContainer.move(Mt,Le);const Cn=new rn(he,Mt);J.push(Cn)}});for(let he=0;he<J.length;he++)this._perViewChange(J[he].view,J[he].record);for(let he=0,Be=this._viewContainer.length;he<Be;he++){const Le=this._viewContainer.get(he);Le.context.index=he,Le.context.count=Be,Le.context.ngForOf=this._ngForOf}F.forEachIdentityChange(he=>{this._viewContainer.get(he.currentIndex).context.$implicit=he.item})}_perViewChange(F,J){F.context.$implicit=J.item}static ngTemplateContextGuard(F,J){return!0}}return k.\u0275fac=function(F){return new(F||k)(B.Y36(B.s_b),B.Y36(B.Rgc),B.Y36(B.ZZ4))},k.\u0275dir=B.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),k})();class rn{constructor(q,F){this.record=q,this.view=F}}let kn=(()=>{class k{constructor(F,J){this._viewContainer=F,this._context=new yl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){as("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){as("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,J){return!0}}return k.\u0275fac=function(F){return new(F||k)(B.Y36(B.s_b),B.Y36(B.Rgc))},k.\u0275dir=B.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),k})();class yl{constructor(){this.$implicit=null,this.ngIf=null}}function as(k,q){if(q&&!q.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,B.AaK)(q)}'.`)}let bc=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=B.oAB({type:k}),k.\u0275inj=B.cJS({providers:[{provide:yr,useClass:nr}]}),k})();const Tl="browser";function Cu(k){return k===Tl}function Eu(k){return"server"===k}let Kn=(()=>{class k{}return k.\u0275prov=(0,B.Yz7)({token:k,providedIn:"root",factory:()=>new Oa((0,B.LFG)(ve),window)}),k})();class Oa{constructor(q,F){this.document=q,this.window=F,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const F=function(k,q){const F=k.getElementById(q)||k.getElementsByName(q)[0];if(F)return F;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const J=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let he=J.currentNode;for(;he;){const Be=he.shadowRoot;if(Be){const Le=Be.getElementById(q)||Be.querySelector(`[name="${q}"]`);if(Le)return Le}he=J.nextNode()}}return null}(this.document,q);F&&(this.scrollToElement(F),this.attemptFocus(F))}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=q)}}scrollToElement(q){const F=q.getBoundingClientRect(),J=F.left+this.window.pageXOffset,he=F.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(J-Be[0],he-Be[1])}attemptFocus(q){return q.focus(),this.document.activeElement===q}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=wu(this.window.history)||wu(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch(q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(q){return!1}}}function wu(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Sl{}},7716:(pt,Oe,$)=>{"use strict";$.d(Oe,{deG:()=>_g,tb:()=>rD,AFp:()=>eD,ip1:()=>dw,CZH:()=>v_,hGG:()=>fA,z2F:()=>fb,sBO:()=>oT,Sil:()=>hb,_Vd:()=>Lf,EJc:()=>oD,SBq:()=>dc,qLn:()=>Xi,vpe:()=>Dh,gxx:()=>sh,tBr:()=>Co,XFs:()=>Je,OlP:()=>vr,zs3:()=>En,ZZ4:()=>c_,aQg:()=>eb,soG:()=>fC,YKP:()=>K0,v3s:()=>qI,h0i:()=>Vf,PXZ:()=>BI,R0b:()=>pl,FiY:()=>$o,Lbi:()=>nD,g9A:()=>tD,Qsj:()=>L0,FYo:()=>a_,JOm:()=>So,Tiy:()=>u_,q3G:()=>$n,tp0:()=>Eo,EAV:()=>YI,Rgc:()=>Bm,dDg:()=>lD,DyG:()=>Vo,q4F:()=>l_,GfV:()=>U0,s_b:()=>h_,ifc:()=>At,eFA:()=>pD,G48:()=>RI,Gpc:()=>le,f3M:()=>Rc,X6Q:()=>_w,_c5:()=>sA,VLi:()=>PI,c2e:()=>iD,zSh:()=>rd,wAp:()=>qt,vHH:()=>ot,EiD:()=>la,mCW:()=>Qi,qzn:()=>ri,JVY:()=>Un,pB0:()=>Ul,eBb:()=>Uu,L6k:()=>Eg,LAX:()=>Vd,cg1:()=>Dv,Tjo:()=>iA,kL8:()=>Sv,yhl:()=>Ka,dqk:()=>Bn,sIi:()=>js,CqO:()=>ov,QGY:()=>iv,F4k:()=>Pb,RDi:()=>ls,AaK:()=>se,z3N:()=>Rs,qOj:()=>Vp,TTD:()=>bc,_Bn:()=>O0,xp6:()=>Ng,uIk:()=>Ea,ekj:()=>pv,Suo:()=>OT,Xpm:()=>Dn,lG2:()=>ml,Yz7:()=>dn,cJS:()=>Qe,oAB:()=>ss,Yjl:()=>vd,Y36:()=>Zp,_UZ:()=>Sm,qZA:()=>nv,TgZ:()=>tv,n5z:()=>Uh,Ikx:()=>Tv,LFG:()=>Xn,$8M:()=>Bh,NdJ:()=>sv,CRH:()=>PT,oxw:()=>Fb,Hsn:()=>kb,F$t:()=>Im,Q6J:()=>Yp,s9C:()=>xf,iGM:()=>MT,LSH:()=>ms,kYT:()=>mc,YNc:()=>$p,_uU:()=>Qb,hij:()=>zy,Gf:()=>xT});var B=$(9765),v=$(5319),G=$(8891),ae=$(6682),Ee=$(8345);function ne(t){for(let i in t)if(t[i]===ne)return i;throw Error("Could not find renamed property on target object.")}function ve(t,i){for(const l in i)i.hasOwnProperty(l)&&!t.hasOwnProperty(l)&&(t[l]=i[l])}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const l=i.indexOf("\n");return-1===l?i:i.substring(0,l)}function ue(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const re=ne({__forward_ref__:ne});function le(t){return t.__forward_ref__=le,t.toString=function(){return se(this())},t}function te(t){return _e(t)?t():t}function _e(t){return"function"==typeof t&&t.hasOwnProperty(re)&&t.__forward_ref__===le}class ot extends Error{constructor(i,l){super(function(t,i){return`${t?`NG0${t}: `:""}${i}`}(i,l)),this.code=i}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}function Kt(t,i){const l=i?` in ${i}`:"";throw new ot("201",`No provider for ${ht(t)} found${l}`)}function _t(t,i){null==t&&function(t,i,l,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${l} ${d} ${i} <=Actual]`))}(i,t,null,"!=")}function dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function ct(t){return Pt(t,St)||Pt(t,wn)}function Pt(t,i){return t.hasOwnProperty(i)?t[i]:null}function On(t){return t&&(t.hasOwnProperty(Et)||t.hasOwnProperty(gn))?t[Et]:null}const St=ne({\u0275prov:ne}),Et=ne({\u0275inj:ne}),wn=ne({ngInjectableDef:ne}),gn=ne({ngInjectorDef:ne});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let Fn;function cr(t){const i=Fn;return Fn=t,i}function Cs(t,i,l){const d=ct(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Je.Optional?null:void 0!==i?i:void Kt(se(t),"Injector")}function zi(t){return{toString:t}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),At=(()=>((At=At||{})[At.Emulated=0]="Emulated",At[At.None=2]="None",At[At.ShadowDom=3]="ShadowDom",At))();const Zt="undefined"!=typeof globalThis&&globalThis,yu="undefined"!=typeof window&&window,Hs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fi="undefined"!=typeof global&&global,Bn=Zt||Fi||yu||Hs,jn={},fe=[],de=ne({\u0275cmp:ne}),Se=ne({\u0275dir:ne}),Fe=ne({\u0275pipe:ne}),Ie=ne({\u0275mod:ne}),vt=ne({\u0275loc:ne}),It=ne({\u0275fac:ne}),hn=ne({__NG_ELEMENT_ID__:ne});let Gn=0;function Dn(t){return zi(()=>{const l={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,id:"c",styles:t.styles||fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},m=t.directives,b=t.features,T=t.pipes;return d.id+=Gn++,d.inputs=Ma(t.inputs,l),d.outputs=Ma(t.outputs),b&&b.forEach(S=>S(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(li):null,d.pipeDefs=T?()=>("function"==typeof T?T():T).map(Or):null,d})}function li(t){return Ur(t)||function(t){return t[Se]||null}(t)}function Or(t){return function(t){return t[Fe]||null}(t)}const Oo={};function ss(t){return zi(()=>{const i={type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Oo[t.id]=t.type),i})}function mc(t,i){return zi(()=>{const l=ki(t,!0);l.declarations=i.declarations||fe,l.imports=i.imports||fe,l.exports=i.exports||fe})}function Ma(t,i){if(null==t)return jn;const l={};for(const d in t)if(t.hasOwnProperty(d)){let m=t[d],b=m;Array.isArray(m)&&(b=m[1],m=m[0]),l[m]=d,i&&(i[m]=b)}return l}const ml=Dn;function vd(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ur(t){return t[de]||null}function ki(t,i){const l=t[Ie]||null;if(!l&&!0===i)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return l}function _r(t){return Array.isArray(t)&&"object"==typeof t[1]}function uo(t){return Array.isArray(t)&&!0===t[1]}function us(t){return 0!=(8&t.flags)}function Si(t){return 2==(2&t.flags)}function yc(t){return 1==(1&t.flags)}function ci(t){return null!==t.template}function lo(t){return 0!=(512&t[2])}function No(t,i){return t.hasOwnProperty(It)?t[It]:null}class vc{constructor(i,l,d){this.previousValue=i,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function bc(){return Tl}function Tl(t){return t.type.prototype.ngOnChanges&&(t.setInput=bu),Ah}function Ah(){const t=Cu(this),i=null==t?void 0:t.current;if(i){const l=t.previous;if(l===jn)t.previous=i;else for(let d in i)l[d]=i[d];t.current=null,this.ngOnChanges(i)}}function bu(t,i,l,d){const m=Cu(t)||function(t,i){return t[Ks]=i}(t,{previous:jn,current:null}),b=m.current||(m.current={}),T=m.previous,S=this.declaredInputs[l],O=T[S];b[S]=new vc(O&&O.currentValue,i,T===jn),t[d]=i}bc.ngInherit=!0;const Ks="__ngSimpleChanges__";function Cu(t){return t[Ks]||null}let wu;function ls(t){wu=t}function k(t){return!!t.listen}const F={createRenderer:(t,i)=>void 0!==wu?wu:"undefined"!=typeof document?document:void 0};function he(t){for(;Array.isArray(t);)t=t[0];return t}function Mt(t,i){return he(i[t])}function Cn(t,i){return he(i[t.index])}function Pn(t,i){return t.data[i]}function Zn(t,i){const l=i[t];return _r(l)?l:l[0]}function ir(t){return 4==(4&t[2])}function Jr(t){return 128==(128&t[2])}function Ii(t,i){return null==i?null:t[i]}function Du(t){t[18]=0}function Xr(t,i){t[5]+=i;let l=t,d=t[3];for(;null!==d&&(1===i&&1===l[5]||-1===i&&0===l[5]);)d[5]+=i,l=d,d=d[3]}const Nt={lFrame:di(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dg(){return Nt.bindingsEnabled}function Ye(){return Nt.lFrame.lView}function Ln(){return Nt.lFrame.tView}function Rr(){let t=Cc();for(;null!==t&&64===t.type;)t=t.parent;return t}function Cc(){return Nt.lFrame.currentTNode}function ho(t,i){const l=Nt.lFrame;l.currentTNode=t,l.isParent=i}function wc(){return Nt.lFrame.isParent}function Ph(){Nt.lFrame.isParent=!1}function Ys(){return Nt.isInCheckNoChangesMode}function ko(t){Nt.isInCheckNoChangesMode=t}function Ts(){return Nt.lFrame.bindingIndex++}function pg(t,i){const l=Nt.lFrame;l.bindingIndex=l.bindingRootIndex=t,go(i)}function go(t){Nt.lFrame.currentDirectiveIndex=t}function Rh(){return Nt.lFrame.currentQueryIndex}function Tc(t){Nt.lFrame.currentQueryIndex=t}function gg(t){const i=t[1];return 2===i.type?i.declTNode:1===i.type?t[6]:null}function Nh(t,i,l){if(l&Je.SkipSelf){let m=i,b=t;for(;!(m=m.parent,null!==m||l&Je.Host||(m=gg(b),null===m||(b=b[15],10&m.type))););if(null===m)return!1;i=m,t=b}const d=Nt.lFrame=Td();return d.currentTNode=i,d.lView=t,!0}function Qs(t){const i=Td(),l=t[1];Nt.lFrame=i,i.currentTNode=l.firstChild,i.lView=t,i.tView=l,i.contextLView=t,i.bindingIndex=l.bindingStartIndex,i.inI18n=!1}function Td(){const t=Nt.lFrame,i=null===t?null:t.child;return null===i?di(t):i}function di(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Fh(){const t=Nt.lFrame;return Nt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Su=Fh;function mo(){const t=Fh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fr(){return Nt.lFrame.selectedIndex}function Ai(t){Nt.lFrame.selectedIndex=t}function Qn(){const t=Nt.lFrame;return Pn(t.tView,t.selectedIndex)}function Ra(t,i){for(let l=i.directiveStart,d=i.directiveEnd;l<d;l++){const b=t.data[l].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:S,ngAfterViewInit:O,ngAfterViewChecked:N,ngOnDestroy:j}=b;T&&(t.contentHooks||(t.contentHooks=[])).push(-l,T),S&&((t.contentHooks||(t.contentHooks=[])).push(l,S),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(l,S)),O&&(t.viewHooks||(t.viewHooks=[])).push(-l,O),N&&((t.viewHooks||(t.viewHooks=[])).push(l,N),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(l,N)),null!=j&&(t.destroyHooks||(t.destroyHooks=[])).push(l,j)}}function Au(t,i,l){yo(t,i,3,l)}function Lo(t,i,l,d){(3&t[2])===l&&yo(t,i,l,d)}function Sc(t,i){let l=t[2];(3&l)===i&&(l&=2047,l+=1,t[2]=l)}function yo(t,i,l,d){const b=null!=d?d:-1,T=i.length-1;let S=0;for(let O=void 0!==d?65535&t[18]:0;O<T;O++)if("number"==typeof i[O+1]){if(S=i[O],null!=d&&S>=d)break}else i[O]<0&&(t[18]+=65536),(S<b||-1==b)&&(_o(t,l,i,O),t[18]=(4294901760&t[18])+O+2),O++}function _o(t,i,l,d){const m=l[d]<0,b=l[d+1],S=t[m?-l[d]:l[d]];if(m){if(t[2]>>11<t[18]>>16&&(3&t[2])===i){t[2]+=2048;try{b.call(S)}finally{}}}else try{b.call(S)}finally{}}class ti{constructor(i,l,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Fa(t,i,l){const d=k(t);let m=0;for(;m<l.length;){const b=l[m];if("number"==typeof b){if(0!==b)break;m++;const T=l[m++],S=l[m++],O=l[m++];d?t.setAttribute(i,S,O,T):i.setAttributeNS(T,S,O)}else{const T=b,S=l[++m];Ac(T)?d&&t.setProperty(i,T,S):d?t.setAttribute(i,T,S):i.setAttribute(T,S),m++}}return m}function Ic(t){return 3===t||4===t||6===t}function Ac(t){return 64===t.charCodeAt(0)}function ka(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let l=-1;for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?l=m:0===l||Lh(t,l,m,null,-1===l||2===l?i[++d]:null)}}return t}function Lh(t,i,l,d,m){let b=0,T=t.length;if(-1===i)T=-1;else for(;b<t.length;){const S=t[b++];if("number"==typeof S){if(S===i){T=-1;break}if(S>i){T=b-1;break}}}for(;b<t.length;){const S=t[b];if("number"==typeof S)break;if(S===l){if(null===d)return void(null!==m&&(t[b+1]=m));if(d===t[b+1])return void(t[b+2]=m)}b++,null!==d&&b++,null!==m&&b++}-1!==T&&(t.splice(T,0,i),b=T+1),t.splice(b++,0,l),null!==d&&t.splice(b++,0,d),null!==m&&t.splice(b++,0,m)}function xu(t){return-1!==t}function jr(t){return 32767&t}function Is(t,i){let l=function(t){return t>>16}(t),d=i;for(;l>0;)d=d[15],l--;return d}let Sd=!0;function Ml(t){const i=Sd;return Sd=t,i}let tt=0;function Xs(t,i){const l=Sr(t,i);if(-1!==l)return l;const d=i[1];d.firstCreatePass&&(t.injectorIndex=i.length,dt(d.data,t),dt(i,null),dt(d.blueprint,null));const m=ea(t,i),b=t.injectorIndex;if(xu(m)){const T=jr(m),S=Is(m,i),O=S[1].data;for(let N=0;N<8;N++)i[b+N]=S[T+N]|O[T+N]}return i[b+8]=m,b}function dt(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Sr(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function ea(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let l=0,d=null,m=i;for(;null!==m;){const b=m[1],T=b.type;if(d=2===T?b.declTNode:1===T?m[6]:null,null===d)return-1;if(l++,m=m[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function xl(t,i,l){!function(t,i,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(hn)&&(d=l[hn]),null==d&&(d=l[hn]=tt++);const m=255&d;i.data[t+(m>>5)]|=1<<m}(t,i,l)}function Yt(t,i,l){if(l&Je.Optional)return t;Kt(i,"NodeInjector")}function wt(t,i,l,d){if(l&Je.Optional&&void 0===d&&(d=null),0==(l&(Je.Self|Je.Host))){const m=t[9],b=cr(void 0);try{return m?m.get(i,d,l&Je.Optional):Cs(i,d,l&Je.Optional)}finally{cr(b)}}return Yt(d,i,l)}function yg(t,i,l,d=Je.Default,m){if(null!==t){const b=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(hn)?t[hn]:void 0;return"number"==typeof i?i>=0?255&i:Rn:i}(l);if("function"==typeof b){if(!Nh(i,t,d))return d&Je.Host?Yt(m,l,d):wt(i,l,d,m);try{const T=b(d);if(null!=T||d&Je.Optional)return T;Kt(l)}finally{Su()}}else if("number"==typeof b){let T=null,S=Sr(t,i),O=-1,N=d&Je.Host?i[16][6]:null;for((-1===S||d&Je.SkipSelf)&&(O=-1===S?ea(t,i):i[S+8],-1!==O&&ta(d,!1)?(T=i[1],S=jr(O),i=Is(O,i)):S=-1);-1!==S;){const j=i[1];if(Vh(b,S,j.data)){const Q=La(S,i,l,T,d,N);if(Q!==Qf)return Q}O=i[S+8],-1!==O&&ta(d,i[1].data[S+8]===N)&&Vh(b,S,i)?(T=j,S=jr(O),i=Is(O,i)):S=-1}}}return wt(i,l,d,m)}const Qf={};function Rn(){return new Va(Rr(),Ye())}function La(t,i,l,d,m,b){const T=i[1],S=T.data[t+8],j=Ol(S,T,l,null==d?Si(S)&&Sd:d!=T&&0!=(3&S.type),m&Je.Host&&b===S);return null!==j?ni(i,T,j,S):Qf}function Ol(t,i,l,d,m){const b=t.providerIndexes,T=i.data,S=1048575&b,O=t.directiveStart,j=b>>20,ee=m?S+j:t.directiveEnd;for(let ge=d?S:S+j;ge<ee;ge++){const Ce=T[ge];if(ge<O&&l===Ce||ge>=O&&Ce.type===l)return ge}if(m){const ge=T[O];if(ge&&ci(ge)&&ge.type===l)return O}return null}function ni(t,i,l,d){let m=t[l];const b=i.data;if(function(t){return t instanceof ti}(m)){const T=m;T.resolving&&function(t,i){throw new ot("200",`Circular dependency in DI detected for ${t}`)}(ht(b[l]));const S=Ml(T.canSeeViewProviders);T.resolving=!0;const O=T.injectImpl?cr(T.injectImpl):null;Nh(t,d,Je.Default);try{m=t[l]=T.factory(void 0,b,t,d),i.firstCreatePass&&l>=d.directiveStart&&function(t,i,l){const{ngOnChanges:d,ngOnInit:m,ngDoCheck:b}=i.type.prototype;if(d){const T=Tl(i);(l.preOrderHooks||(l.preOrderHooks=[])).push(t,T),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(t,T)}m&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-t,m),b&&((l.preOrderHooks||(l.preOrderHooks=[])).push(t,b),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(t,b))}(l,b[l],i)}finally{null!==O&&cr(O),Ml(S),T.resolving=!1,Su()}}return m}function Vh(t,i,l){return!!(l[i+(t>>5)]&1<<t)}function ta(t,i){return!(t&Je.Self||t&Je.Host&&i)}class Va{constructor(i,l){this._tNode=i,this._lView=l}get(i,l){return yg(this._tNode,this._lView,i,void 0,l)}}function Uh(t){return zi(()=>{const i=t.prototype.constructor,l=i[It]||Vn(i),d=Object.prototype;let m=Object.getPrototypeOf(t.prototype).constructor;for(;m&&m!==d;){const b=m[It]||Vn(m);if(b&&b!==l)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function Vn(t){return _e(t)?()=>{const i=Vn(te(t));return i&&i()}:No(t)}function Bh(t){return function(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const l=t.attrs;if(l){const d=l.length;let m=0;for(;m<d;){const b=l[m];if(Ic(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<d&&"string"==typeof l[m];)m++;else{if(b===i)return l[m+1];m+=2}}}return null}(Rr(),t)}const cs="__parameters__";function tr(t,i,l){return zi(()=>{const d=function(t){return function(...l){if(t){const d=t(...l);for(const m in d)this[m]=d[m]}}}(i);function m(...b){if(this instanceof m)return d.apply(this,b),this;const T=new m(...b);return S.annotation=T,S;function S(O,N,j){const Q=O.hasOwnProperty(cs)?O[cs]:Object.defineProperty(O,cs,{value:[]})[cs];for(;Q.length<=j;)Q.push(null);return(Q[j]=Q[j]||[]).push(T),O}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=t,m.annotationCls=m,m})}class vr{constructor(i,l){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=dn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _g=new vr("AnalyzeForEntryComponents"),Vo=Function;function Jn(t,i){void 0===i&&(i=t);for(let l=0;l<t.length;l++){let d=t[l];Array.isArray(d)?(i===t&&(i=t.slice(0,l)),Jn(d,i)):i!==t&&i.push(d)}return i}function pi(t,i){t.forEach(l=>Array.isArray(l)?pi(l,i):i(l))}function Ga(t,i,l){i>=t.length?t.push(l):t.splice(i,0,l)}function Uo(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Zi(t,i){const l=[];for(let d=0;d<t;d++)l.push(i);return l}function Bo(t,i,l){let d=Ru(t,i);return d>=0?t[1|d]=l:(d=~d,function(t,i,l,d){let m=t.length;if(m==i)t.push(l,d);else if(1===m)t.push(d,t[0]),t[0]=l;else{for(m--,t.push(t[m-1],t[m]);m>i;)t[m]=t[m-2],m--;t[i]=l,t[i+1]=d}}(t,d,i,l)),d}function ra(t,i){const l=Ru(t,i);if(l>=0)return t[1|l]}function Ru(t,i){return function(t,i,l){let d=0,m=t.length>>l;for(;m!==d;){const b=d+(m-d>>1),T=t[b<<l];if(i===T)return b<<l;T>i?m=b:d=b+1}return~(m<<l)}(t,i,1)}const ia={},Rd="__NG_DI_FLAG__",Fu="ngTempTokenPath",Fl=/\n/gm,Hh="__source",Pc=ne({provide:String,useValue:ne});let Os;function gi(t){const i=Os;return Os=t,i}function kl(t,i=Je.Default){if(void 0===Os)throw new Error("inject() must be called from an injection context");return null===Os?Cs(t,void 0,i):Os.get(t,i&Je.Optional?null:void 0,i)}function Xn(t,i=Je.Default){return(Fn||kl)(te(t),i)}const Rc=Xn;function Ui(t){const i=[];for(let l=0;l<t.length;l++){const d=te(t[l]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let m,b=Je.Default;for(let T=0;T<d.length;T++){const S=d[T],O=Fd(S);"number"==typeof O?-1===O?m=S.token:b|=O:m=S}i.push(Xn(m,b))}else i.push(Xn(d))}return i}function Ho(t,i){return t[Rd]=i,t.prototype[Rd]=i,t}function Fd(t){return t[Rd]}function kd(t,i,l,d){const m=t[Fu];throw i[Hh]&&m.unshift(i[Hh]),t.message=function(t,i,l,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let m=se(i);if(Array.isArray(i))m=i.map(se).join(" -> ");else if("object"==typeof i){let b=[];for(let T in i)if(i.hasOwnProperty(T)){let S=i[T];b.push(T+":"+("string"==typeof S?JSON.stringify(S):se(S)))}m=`{${b.join(", ")}}`}return`${l}${d?"("+d+")":""}[${m}]: ${t.replace(Fl,"\n  ")}`}("\n"+t.message,m,l,d),t.ngTokenPath=m,t[Fu]=null,t}const Co=Ho(tr("Inject",t=>({token:t})),-1),$o=Ho(tr("Optional"),8),Eo=Ho(tr("SkipSelf"),4);let qa;function Ht(t){var i;return(null===(i=function(){if(void 0===qa&&(qa=null,Bn.trustedTypes))try{qa=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return qa}())||void 0===i?void 0:i.createHTML(t))||t}class er{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ip extends er{getTypeName(){return"HTML"}}class Lu extends er{getTypeName(){return"Style"}}class To extends er{getTypeName(){return"Script"}}class Ps extends er{getTypeName(){return"URL"}}class Vu extends er{getTypeName(){return"ResourceURL"}}function Rs(t){return t instanceof er?t.changingThisBreaksApplicationSecurity:t}function ri(t,i){const l=Ka(t);if(null!=l&&l!==i){if("ResourceURL"===l&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===i}function Ka(t){return t instanceof er&&t.getTypeName()||null}function Un(t){return new ip(t)}function Eg(t){return new Lu(t)}function Uu(t){return new To(t)}function Vd(t){return new Ps(t)}function Ul(t){return new Vu(t)}class Ud{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const l=(new window.DOMParser).parseFromString(Ht(i),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(i):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Uc{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(i){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ht(i),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Ht(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(i){const l=i.attributes;for(let m=l.length-1;0<m;m--){const T=l.item(m).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&i.removeAttribute(T)}let d=i.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const sp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qi(t){return(t=String(t)).match(sp)||t.match($r)?t:"unsafe:"+t}function Ko(t){const i={};for(const l of t.split(","))i[l]=!0;return i}function Zo(...t){const i={};for(const l of t)for(const d in l)l.hasOwnProperty(d)&&(i[d]=!0);return i}const Wh=Ko("area,br,col,hr,img,wbr"),Ns=Ko("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wr=Ko("rp,rt"),mi=Zo(Wh,Zo(Ns,Ko("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zo(wr,Ko("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zo(wr,Ns)),Ya=Ko("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bl=Ko("srcset"),Gc=Zo(Ya,Bl,Ko("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ko("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),up=Ko("script,style,template");class Qa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let l=i.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=this.checkClobberedElement(l,l.nextSibling);if(m){l=m;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(i){const l=i.nodeName.toLowerCase();if(!mi.hasOwnProperty(l))return this.sanitizedSomething=!0,!up.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=i.attributes;for(let m=0;m<d.length;m++){const b=d.item(m),T=b.name,S=T.toLowerCase();if(!Gc.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let O=b.value;Ya[S]&&(O=Qi(O)),Bl[S]&&(t=O,O=(t=String(t)).split(",").map(i=>Qi(i.trim())).join(", ")),this.buf.push(" ",T,'="',Hc(O),'"')}var t;return this.buf.push(">"),!0}endElement(i){const l=i.nodeName.toLowerCase();mi.hasOwnProperty(l)&&!Wh.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(i){this.buf.push(Hc(i))}checkClobberedElement(i,l){if(l&&(i.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return l}}const Zh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ua=/([^\#-~ |!])/g;function Hc(t){return t.replace(/&/g,"&amp;").replace(Zh,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(ua,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ii;function la(t,i){let l=null;try{ii=ii||function(t){const i=new Uc(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ht(""),"text/html")}catch(t){return!1}}()?new Ud(i):i}(t);let d=i?String(i):"";l=ii.getInertBodyElement(d);let m=5,b=d;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,d=b,b=l.innerHTML,l=ii.getInertBodyElement(d)}while(d!==b);return Ht((new Qa).sanitizeChildren(gs(l)||l))}finally{if(l){const d=gs(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function gs(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var $n=(()=>(($n=$n||{})[$n.NONE=0]="NONE",$n[$n.HTML=1]="HTML",$n[$n.STYLE=2]="STYLE",$n[$n.SCRIPT=3]="SCRIPT",$n[$n.URL=4]="URL",$n[$n.RESOURCE_URL=5]="RESOURCE_URL",$n))();function ms(t){const i=function(){const t=Ye();return t&&t[12]}();return i?i.sanitize($n.URL,t)||"":ri(t,"URL")?Rs(t):Qi(Ze(t))}const oi="__ngContext__";function yi(t,i){t[oi]=i}function ar(t){const i=function(t){return t[oi]||null}(t);return i?Array.isArray(i)?i:i.lView:null}function ha(t){return t.ngOriginalError}function Qo(t,...i){t.error(...i)}class Xi{constructor(){this._console=console}handleError(i){const l=this._findOriginalError(i),d=this._findContext(i),m=(t=i)&&t.ngErrorLogger||Qo;var t;m(this._console,"ERROR",i),l&&m(this._console,"ORIGINAL ERROR",l),d&&m(this._console,"ERROR CONTEXT",d)}_findContext(i){return i?i.ngDebugContext||this._findContext(ha(i)):null}_findOriginalError(i){let l=i&&ha(i);for(;l&&ha(l);)l=ha(l);return l||null}}const Fs=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bn))();function Jo(t){return t instanceof Function?t():t}var So=(()=>((So=So||{})[So.Important=1]="Important",So[So.DashCase=2]="DashCase",So))();function Ls(t,i){return undefined(t,i)}function Vs(t){const i=t[3];return uo(i)?i[3]:i}function Wd(t){return Wu(t[13])}function _s(t){return Wu(t[4])}function Wu(t){for(;null!==t&&!uo(t);)t=t[4];return t}function Us(t,i,l,d,m){if(null!=d){let b,T=!1;uo(d)?b=d:_r(d)&&(T=!0,d=d[0]);const S=he(d);0===t&&null!==l?null==m?Y(i,l,S):V(i,l,S,m||null,!0):1===t&&null!==l?V(i,l,S,m||null,!0):2===t?function(t,i,l){const d=ce(t,i);d&&function(t,i,l,d){k(t)?t.removeChild(i,l,d):i.removeChild(l)}(t,d,i,l)}(i,S,T):3===t&&i.destroyNode(S),null!=b&&function(t,i,l,d,m){const b=l[7];b!==he(l)&&Us(i,t,d,b,m);for(let S=10;S<l.length;S++){const O=l[S];ql(O[1],O,t,i,d,b)}}(i,t,b,l,m)}}function Xo(t,i,l){return k(t)?t.createElement(i,l):null===l?t.createElement(i):t.createElementNS(l,i)}function $l(t,i){const l=t[9],d=l.indexOf(i),m=i[3];1024&i[2]&&(i[2]&=-1025,Xr(m,-1)),l.splice(d,1)}function fa(t,i){if(t.length<=10)return;const l=10+i,d=t[l];if(d){const m=d[17];null!==m&&m!==t&&$l(m,d),i>0&&(t[l-1][4]=d[4]);const b=Uo(t,10+i);!function(t,i){ql(t,i,i[11],2,null,null),i[0]=null,i[6]=null}(d[1],d);const T=b[19];null!==T&&T.detachView(b[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function g(t,i){if(!(256&i[2])){const l=i[11];k(l)&&l.destroyNode&&ql(t,i,l,3,null,null),function(t){let i=t[13];if(!i)return p(t[1],t);for(;i;){let l=null;if(_r(i))l=i[13];else{const d=i[10];d&&(l=d)}if(!l){for(;i&&!i[4]&&i!==t;)_r(i)&&p(i[1],i),i=i[3];null===i&&(i=t),_r(i)&&p(i[1],i),l=i&&i[4]}i=l}}(i)}}function p(t,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(t,i){let l;if(null!=t&&null!=(l=t.destroyHooks))for(let d=0;d<l.length;d+=2){const m=i[l[d]];if(!(m instanceof ti)){const b=l[d+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const S=m[b[T]],O=b[T+1];try{O.call(S)}finally{}}else try{b.call(m)}finally{}}}}(t,i),function(t,i){const l=t.cleanup,d=i[7];let m=-1;if(null!==l)for(let b=0;b<l.length-1;b+=2)if("string"==typeof l[b]){const T=l[b+1],S="function"==typeof T?T(i):he(i[T]),O=d[m=l[b+2]],N=l[b+3];"boolean"==typeof N?S.removeEventListener(l[b],O,N):N>=0?d[m=N]():d[m=-N].unsubscribe(),b+=2}else{const T=d[m=l[b+1]];l[b].call(T)}if(null!==d){for(let b=m+1;b<d.length;b++)d[b]();i[7]=null}}(t,i),1===i[1].type&&k(i[11])&&i[11].destroy();const l=i[17];if(null!==l&&uo(i[3])){l!==i[3]&&$l(l,i);const d=i[19];null!==d&&d.detachView(t)}}}function M(t,i,l){return function(t,i,l){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return l[0];if(2&d.flags){const m=t.data[d.directiveStart].encapsulation;if(m===At.None||m===At.Emulated)return null}return Cn(d,l)}(t,i.parent,l)}function V(t,i,l,d,m){k(t)?t.insertBefore(i,l,d,m):i.insertBefore(l,d,m)}function Y(t,i,l){k(t)?t.appendChild(i,l):i.appendChild(l)}function X(t,i,l,d,m){null!==d?V(t,i,l,d,m):Y(t,i,l)}function ce(t,i){return k(t)?t.parentNode(i):i.parentNode}function Ge(t,i,l){return Ct(t,i,l)}let Ct=function(t,i,l){return 40&t.type?Cn(t,l):null};function sn(t,i,l,d){const m=M(t,d,i),b=i[11],S=Ge(d.parent||i[6],d,i);if(null!=m)if(Array.isArray(l))for(let O=0;O<l.length;O++)X(b,m,l[O],S,!1);else X(b,m,l,S,!1)}function Er(t,i){if(null!==i){const l=i.type;if(3&l)return Cn(i,t);if(4&l)return zl(-1,t[i.index]);if(8&l){const d=i.child;if(null!==d)return Er(t,d);{const m=t[i.index];return uo(m)?zl(-1,m):he(m)}}if(32&l)return Ls(i,t)()||he(t[i.index]);{const d=es(t,i);return null!==d?Array.isArray(d)?d[0]:Er(Vs(t[16]),d):Er(t,i.next)}}return null}function es(t,i){return null!==i?t[16][6].projection[i.projection]:null}function zl(t,i){const l=10+t+1;if(l<i.length){const d=i[l],m=d[1].firstChild;if(null!==m)return Er(d,m)}return i[7]}function Jc(t,i,l,d,m,b,T){for(;null!=l;){const S=d[l.index],O=l.type;if(T&&0===i&&(S&&yi(he(S),d),l.flags|=4),64!=(64&l.flags))if(8&O)Jc(t,i,l.child,d,m,b,!1),Us(i,t,m,S,b);else if(32&O){const N=Ls(l,d);let j;for(;j=N();)Us(i,t,m,j,b);Us(i,t,m,S,b)}else 16&O?Wl(t,i,d,l,m,b):Us(i,t,m,S,b);l=T?l.projectionNext:l.next}}function ql(t,i,l,d,m,b){Jc(l,d,t.firstChild,i,m,b,!1)}function Wl(t,i,l,d,m,b){const T=l[16],O=T[6].projection[d.projection];if(Array.isArray(O))for(let N=0;N<O.length;N++)Us(i,t,m,O[N],b);else Jc(t,i,O,T[3],m,b,!0)}function Pg(t,i,l){k(t)?t.setAttribute(i,"style",l):i.style.cssText=l}function Rg(t,i,l){k(t)?""===l?t.removeAttribute(i,"class"):t.setAttribute(i,"class",l):i.className=l}function Xm(t,i,l){let d=t.length;for(;;){const m=t.indexOf(i,l);if(-1===m)return m;if(0===m||t.charCodeAt(m-1)<=32){const b=i.length;if(m+b===d||t.charCodeAt(m+b)<=32)return m}l=m+1}}const ey="ng-template";function S_(t,i,l){let d=0;for(;d<t.length;){let m=t[d++];if(l&&"class"===m){if(m=t[d],-1!==Xm(m.toLowerCase(),i,0))return!0}else if(1===m){for(;d<t.length&&"string"==typeof(m=t[d++]);)if(m.toLowerCase()===i)return!0;return!1}}return!1}function _p(t){return 4===t.type&&t.value!==ey}function Gi(t,i,l){return i===(4!==t.type||l?t.value:ey)}function bb(t,i,l){let d=4;const m=t.attrs||[],b=function(t){for(let i=0;i<t.length;i++)if(Ic(t[i]))return i;return t.length}(m);let T=!1;for(let S=0;S<i.length;S++){const O=i[S];if("number"!=typeof O){if(!T)if(4&d){if(d=2|1&d,""!==O&&!Gi(t,O,l)||""===O&&1===i.length){if(ru(d))return!1;T=!0}}else{const N=8&d?O:i[++S];if(8&d&&null!==t.attrs){if(!S_(t.attrs,N,l)){if(ru(d))return!1;T=!0}continue}const Q=ty(8&d?"class":O,m,_p(t),l);if(-1===Q){if(ru(d))return!1;T=!0;continue}if(""!==N){let ee;ee=Q>b?"":m[Q+1].toLowerCase();const ge=8&d?ee:null;if(ge&&-1!==Xm(ge,N,0)||2&d&&N!==ee){if(ru(d))return!1;T=!0}}}}else{if(!T&&!ru(d)&&!ru(O))return!1;if(T&&ru(O))continue;T=!1,d=O|1&d}}return ru(d)||T}function ru(t){return 0==(1&t)}function ty(t,i,l,d){if(null===i)return-1;let m=0;if(d||!l){let b=!1;for(;m<i.length;){const T=i[m];if(T===t)return m;if(3===T||6===T)b=!0;else{if(1===T||2===T){let S=i[++m];for(;"string"==typeof S;)S=i[++m];continue}if(4===T)break;if(0===T){m+=4;continue}}m+=b?1:2}return-1}return function(t,i){let l=t.indexOf(4);if(l>-1)for(l++;l<t.length;){const d=t[l];if("number"==typeof d)return-1;if(d===i)return l;l++}return-1}(i,t)}function ny(t,i,l=!1){for(let d=0;d<i.length;d++)if(bb(t,i[d],l))return!0;return!1}function Pi(t,i){e:for(let l=0;l<i.length;l++){const d=i[l];if(t.length===d.length){for(let m=0;m<t.length;m++)if(t[m]!==d[m])continue e;return!0}}return!1}function ry(t,i){return t?":not("+i.trim()+")":i}function M_(t){let i=t[0],l=1,d=2,m="",b=!1;for(;l<t.length;){let T=t[l];if("string"==typeof T)if(2&d){const S=t[++l];m+="["+T+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?m+="."+T:4&d&&(m+=" "+T);else""!==m&&!ru(T)&&(i+=ry(b,m),m=""),d=T,b=b||!ru(d);l++}return""!==m&&(i+=ry(b,m)),i}const tn={};function Ng(t){Fg(Ln(),Ye(),Fr()+t,Ys())}function Fg(t,i,l,d){if(!d)if(3==(3&i[2])){const b=t.preOrderCheckHooks;null!==b&&Au(i,b,l)}else{const b=t.preOrderHooks;null!==b&&Lo(i,b,0,l)}Ai(l)}function Kd(t,i){return t<<17|i<<2}function Ci(t){return t>>17&32767}function vp(t){return 2|t}function Zu(t){return(131068&t)>>2}function Lg(t,i){return-131069&t|i<<2}function bp(t){return 1|t}function $g(t,i){const l=t.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const m=l[d],b=l[d+1];if(-1!==b){const T=t.data[b];Tc(m),T.contentQueries(2,i[b],b)}}}function pa(t,i,l,d,m,b,T,S,O,N){const j=i.blueprint.slice();return j[0]=m,j[2]=140|d,Du(j),j[3]=j[15]=t,j[8]=l,j[10]=T||t&&t[10],j[11]=S||t&&t[11],j[12]=O||t&&t[12]||null,j[9]=N||t&&t[9]||null,j[6]=b,j[16]=2==i.type?t[16]:j,j}function an(t,i,l,d,m){let b=t.data[i];if(null===b)b=function(t,i,l,d,m){const b=Cc(),T=wc(),O=t.data[i]=function(t,i,l,d,m,b){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,l,i,d,m);return null===t.firstChild&&(t.firstChild=O),null!==b&&(T?null==b.child&&null!==O.parent&&(b.child=O):null===b.next&&(b.next=O)),O}(t,i,l,d,m),Nt.lFrame.inI18n&&(b.flags|=64);else if(64&b.type){b.type=l,b.value=d,b.attrs=m;const T=function(){const t=Nt.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();b.injectorIndex=null===T?-1:T.injectorIndex}return ho(b,!0),b}function Lr(t,i,l,d){if(0===l)return-1;const m=i.length;for(let b=0;b<l;b++)i.push(d),t.blueprint.push(d),t.data.push(null);return m}function Jd(t,i,l){Qs(i);try{const d=t.viewQuery;null!==d&&sm(1,d,l);const m=t.template;null!==m&&Ei(t,i,m,1,l),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$g(t,i),t.staticViewQueries&&sm(2,t.viewQuery,l);const b=t.components;null!==b&&function(t,i){for(let l=0;l<i.length;l++)H_(t,i[l])}(i,b)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{i[2]&=-5,mo()}}function ou(t,i,l,d){const m=i[2];if(256==(256&m))return;Qs(i);const b=Ys();try{Du(i),function(t){Nt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==l&&Ei(t,i,l,2,d);const T=3==(3&m);if(!b)if(T){const N=t.preOrderCheckHooks;null!==N&&Au(i,N,null)}else{const N=t.preOrderHooks;null!==N&&Lo(i,N,0,null),Sc(i,0)}if(function(t){for(let i=Wd(t);null!==i;i=_s(i)){if(!i[2])continue;const l=i[9];for(let d=0;d<l.length;d++){const m=l[d],b=m[3];0==(1024&m[2])&&Xr(b,1),m[2]|=1024}}}(i),function(t){for(let i=Wd(t);null!==i;i=_s(i))for(let l=10;l<i.length;l++){const d=i[l],m=d[1];Jr(d)&&ou(m,d,m.template,d[8])}}(i),null!==t.contentQueries&&$g(t,i),!b)if(T){const N=t.contentCheckHooks;null!==N&&Au(i,N)}else{const N=t.contentHooks;null!==N&&Lo(i,N,1),Sc(i,1)}!function(t,i){const l=t.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const m=l[d];if(m<0)Ai(~m);else{const b=m,T=l[++d],S=l[++d];pg(T,b),S(2,i[b])}}}finally{Ai(-1)}}(t,i);const S=t.components;null!==S&&function(t,i){for(let l=0;l<i.length;l++)Ab(t,i[l])}(i,S);const O=t.viewQuery;if(null!==O&&sm(2,O,d),!b)if(T){const N=t.viewCheckHooks;null!==N&&Au(i,N)}else{const N=t.viewHooks;null!==N&&Lo(i,N,2),Sc(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),b||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Xr(i[3],-1))}finally{mo()}}function qg(t,i,l,d){const m=i[10],b=!Ys(),T=ir(i);try{b&&!T&&m.begin&&m.begin(),T&&Jd(t,i,d),ou(t,i,l,d)}finally{b&&!T&&m.end&&m.end()}}function Ei(t,i,l,d,m){const b=Fr(),T=2&d;try{Ai(-1),T&&i.length>20&&Fg(t,i,20,Ys()),l(d,m)}finally{Ai(b)}}function Wg(t,i,l){!dg()||(function(t,i,l,d){const m=l.directiveStart,b=l.directiveEnd;t.firstCreatePass||Xs(l,i),yi(d,i);const T=l.initialInputs;for(let S=m;S<b;S++){const O=t.data[S],N=ci(O);N&&nh(i,l,O);const j=ni(i,t,S,l);yi(j,i),null!==T&&gy(0,S-m,j,O,0,T),N&&(Zn(l.index,i)[8]=j)}}(t,i,l,Cn(l,i)),128==(128&l.flags)&&function(t,i,l){const d=l.directiveStart,m=l.directiveEnd,T=l.index,S=Nt.lFrame.currentDirectiveIndex;try{Ai(T);for(let O=d;O<m;O++){const N=t.data[O],j=i[O];go(O),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&eh(N,j)}}finally{Ai(-1),go(S)}}(t,i,l))}function Kg(t,i,l=Cn){const d=i.localNames;if(null!==d){let m=i.index+1;for(let b=0;b<d.length;b+=2){const T=d[b+1],S=-1===T?l(i,t):t[T];t[m++]=S}}}function Zg(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Sp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function Sp(t,i,l,d,m,b,T,S,O,N){const j=20+d,Q=j+m,ee=function(t,i){const l=[];for(let d=0;d<i;d++)l.push(d<t?null:tn);return l}(j,Q),ge="function"==typeof N?N():N;return ee[1]={type:t,blueprint:ee,template:l,queries:null,viewQuery:S,declTNode:i,data:ee.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:O,consts:ge,incompleteFirstPass:!1}}function Ju(t,i,l,d){const m=Ap(i);null===l?m.push(d):(m.push(l),t.firstCreatePass&&vy(t).push(d,m.length-1))}function Qg(t,i,l){for(let d in t)if(t.hasOwnProperty(d)){const m=t[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(i,m):l[d]=[i,m]}return l}function Ao(t,i,l,d,m,b,T,S){const O=Cn(i,l);let j,N=i.inputs;!S&&null!=N&&(j=N[d])?(by(t,l,j,d,m),Si(i)&&function(t,i){const l=Zn(i,t);16&l[2]||(l[2]|=64)}(l,i.index)):3&i.type&&(d=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),m=null!=T?T(m,i.value||"",d):m,k(b)?b.setProperty(O,d,m):Ac(d)||(O.setProperty?O.setProperty(d,m):O[d]=m))}function em(t,i,l,d){let m=!1;if(dg()){const b=function(t,i,l){const d=t.directiveRegistry;let m=null;if(d)for(let b=0;b<d.length;b++){const T=d[b];ny(l,T.selectors,!1)&&(m||(m=[]),xl(Xs(l,i),t,T.type),ci(T)?(df(t,l),m.unshift(T)):m.push(T))}return m}(t,i,l),T=null===d?null:{"":-1};if(null!==b){m=!0,rm(l,t.data.length,b.length);for(let j=0;j<b.length;j++){const Q=b[j];Q.providersResolver&&Q.providersResolver(Q)}let S=!1,O=!1,N=Lr(t,i,b.length,null);for(let j=0;j<b.length;j++){const Q=b[j];l.mergedAttrs=ka(l.mergedAttrs,Q.hostAttrs),th(t,l,i,N,Q),Ip(N,Q,T),null!==Q.contentQueries&&(l.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(l.flags|=128);const ee=Q.type.prototype;!S&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(l.index),S=!0),!O&&(ee.ngOnChanges||ee.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(l.index),O=!0),N++}!function(t,i){const d=i.directiveEnd,m=t.data,b=i.attrs,T=[];let S=null,O=null;for(let N=i.directiveStart;N<d;N++){const j=m[N],Q=j.inputs,ee=null===b||_p(i)?null:Sb(Q,b);T.push(ee),S=Qg(Q,N,S),O=Qg(j.outputs,N,O)}null!==S&&(S.hasOwnProperty("class")&&(i.flags|=16),S.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=T,i.inputs=S,i.outputs=O}(t,l)}T&&function(t,i,l){if(i){const d=t.localNames=[];for(let m=0;m<i.length;m+=2){const b=l[i[m+1]];if(null==b)throw new ot("301",`Export of name '${i[m+1]}' not found!`);d.push(i[m],b)}}}(l,d,T)}return l.mergedAttrs=ka(l.mergedAttrs,l.attrs),m}function tm(t,i,l,d,m,b){const T=b.hostBindings;if(T){let S=t.hostBindingOpCodes;null===S&&(S=t.hostBindingOpCodes=[]);const O=~i.index;(function(t){let i=t.length;for(;i>0;){const l=t[--i];if("number"==typeof l&&l<0)return l}return 0})(S)!=O&&S.push(O),S.push(d,m,T)}}function eh(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function df(t,i){i.flags|=2,(t.components||(t.components=[])).push(i.index)}function Ip(t,i,l){if(l){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)l[i.exportAs[d]]=t;ci(i)&&(l[""]=t)}}function rm(t,i,l){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+l,t.providerIndexes=i}function th(t,i,l,d,m){t.data[d]=m;const b=m.factory||(m.factory=No(m.type)),T=new ti(b,ci(m),null);t.blueprint[d]=T,l[d]=T,tm(t,i,0,d,Lr(t,l,m.hostVars,tn),m)}function nh(t,i,l){const d=Cn(i,t),m=Zg(l),b=t[10],T=rh(t,pa(t,m,null,l.onPush?64:16,d,i,b,b.createRenderer(d,l),null,null));t[i.index]=T}function ga(t,i,l,d,m,b){const T=Cn(t,i);!function(t,i,l,d,m,b,T){if(null==b)k(t)?t.removeAttribute(i,m,l):i.removeAttribute(m);else{const S=null==T?Ze(b):T(b,d||"",m);k(t)?t.setAttribute(i,m,S,l):l?i.setAttributeNS(l,m,S):i.setAttribute(m,S)}}(i[11],T,b,t.value,l,d,m)}function gy(t,i,l,d,m,b){const T=b[i];if(null!==T){const S=d.setInput;for(let O=0;O<T.length;){const N=T[O++],j=T[O++],Q=T[O++];null!==S?d.setInput(l,Q,N,j):l[j]=Q}}}function Sb(t,i){let l=null,d=0;for(;d<i.length;){const m=i[d];if(0!==m)if(5!==m){if("number"==typeof m)break;t.hasOwnProperty(m)&&(null===l&&(l=[]),l.push(m,t[m],i[d+1])),d+=2}else d+=2;else d+=4}return l}function my(t,i,l,d){return new Array(t,!0,!1,i,null,0,d,l,null,null)}function Ab(t,i){const l=Zn(i,t);if(Jr(l)){const d=l[1];80&l[2]?ou(d,l,d.template,l[8]):l[5]>0&&yy(l)}}function yy(t){for(let d=Wd(t);null!==d;d=_s(d))for(let m=10;m<d.length;m++){const b=d[m];if(1024&b[2]){const T=b[1];ou(T,b,T.template,b[8])}else b[5]>0&&yy(b)}const l=t[1].components;if(null!==l)for(let d=0;d<l.length;d++){const m=Zn(l[d],t);Jr(m)&&m[5]>0&&yy(m)}}function H_(t,i){const l=Zn(i,t),d=l[1];(function(t,i){for(let l=i.length;l<t.blueprint.length;l++)i.push(t.blueprint[l])})(d,l),Jd(d,l,l[8])}function rh(t,i){return t[13]?t[14][4]=i:t[13]=i,t[14]=i,i}function td(t){for(;t;){t[2]|=64;const i=Vs(t);if(lo(t)&&!i)return t;t=i}return null}function pf(t,i,l){const d=i[10];d.begin&&d.begin();try{ou(t,i,t.template,l)}catch(m){throw Mp(i,m),m}finally{d.end&&d.end()}}function gf(t){!function(t){for(let i=0;i<t.components.length;i++){const l=t.components[i],d=ar(l),m=d[1];qg(m,d,m.template,l)}}(t[8])}function sm(t,i,l){Tc(0),i(t,l)}const Mb=(()=>Promise.resolve(null))();function Ap(t){return t[7]||(t[7]=[])}function vy(t){return t.cleanup||(t.cleanup=[])}function Mp(t,i){const l=t[9],d=l?l.get(Xi,null):null;d&&d.handleError(i)}function by(t,i,l,d,m){for(let b=0;b<l.length;){const T=l[b++],S=l[b++],O=i[T],N=t.data[T];null!==N.setInput?N.setInput(O,m,d,S):O[S]=m}}function au(t,i,l){const d=Mt(i,t);!function(t,i,l){k(t)?t.setValue(i,l):i.textContent=l}(t[11],d,l)}function yf(t,i,l){let d=l?t.styles:null,m=l?t.classes:null,b=0;if(null!==i)for(let T=0;T<i.length;T++){const S=i[T];"number"==typeof S?b=S:1==b?m=ue(m,S):2==b&&(d=ue(d,S+": "+i[++T]+";"))}l?t.styles=d:t.stylesWithoutHost=d,l?t.classes=m:t.classesWithoutHost=m}const sh=new vr("INJECTOR",-1);class ah{get(i,l=ia){if(l===ia){const d=new Error(`NullInjectorError: No provider for ${se(i)}!`);throw d.name="NullInjectorError",d}return l}}const rd=new vr("Set Injector scope."),Jl={},Yn={};let xp;function um(){return void 0===xp&&(xp=new ah),xp}function Tr(t,i=null,l=null,d){return new ts(t,l,i||um(),d)}class ts{constructor(i,l,d,m=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const b=[];l&&pi(l,S=>this.processProvider(S,i,l)),pi([i],S=>this.processInjectorType(S,[],b)),this.records.set(sh,id(void 0,this));const T=this.records.get(rd);this.scope=null!=T?T.value:null,this.source=m||("object"==typeof i?null:se(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,l=ia,d=Je.Default){this.assertNotDestroyed();const m=gi(this),b=cr(void 0);try{if(!(d&Je.SkipSelf)){let S=this.records.get(i);if(void 0===S){const O=("function"==typeof(t=i)||"object"==typeof t&&t instanceof vr)&&ct(i);S=O&&this.injectableDefInScope(O)?id(uu(i),Jl):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(d&Je.Self?um():this.parent).get(i,l=d&Je.Optional&&l===ia?null:l)}catch(T){if("NullInjectorError"===T.name){if((T[Fu]=T[Fu]||[]).unshift(se(i)),m)throw T;return kd(T,i,"R3InjectorError",this.source)}throw T}finally{cr(b),gi(m)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((d,m)=>i.push(se(m))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,l,d){if(!(i=te(i)))return!1;let m=On(i);const b=null==m&&i.ngModule||void 0,T=void 0===b?i:b,S=-1!==d.indexOf(T);if(void 0!==b&&(m=On(b)),null==m)return!1;if(null!=m.imports&&!S){let j;d.push(T);try{pi(m.imports,Q=>{this.processInjectorType(Q,l,d)&&(void 0===j&&(j=[]),j.push(Q))})}finally{}if(void 0!==j)for(let Q=0;Q<j.length;Q++){const{ngModule:ee,providers:ge}=j[Q];pi(ge,Ce=>this.processProvider(Ce,ee,ge||fe))}}this.injectorDefTypes.add(T);const O=No(T)||(()=>new T);this.records.set(T,id(O,Jl));const N=m.providers;if(null!=N&&!S){const j=i;pi(N,Q=>this.processProvider(Q,j,N))}return void 0!==b&&void 0!==i.providers}processProvider(i,l,d){let m=ns(i=te(i))?i:te(i&&i.provide);const b=wy(t=i)?id(void 0,t.useValue):id(lm(t),Jl);var t;if(ns(i)||!0!==i.multi)this.records.get(m);else{let T=this.records.get(m);T||(T=id(void 0,Jl,!0),T.factory=()=>Ui(T.multi),this.records.set(m,T)),m=i,T.multi.push(i)}this.records.set(m,b)}hydrate(i,l){return l.value===Jl&&(l.value=Yn,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(t=l.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var t}injectableDefInScope(i){if(!i.providedIn)return!1;const l=te(i.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function uu(t){const i=ct(t),l=null!==i?i.factory:No(t);if(null!==l)return l;if(t instanceof vr)throw new Error(`Token ${se(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const i=t.length;if(i>0){const d=Zi(i,"?");throw new Error(`Can't resolve all parameters for ${se(t)}: (${d.join(", ")}).`)}const l=function(t){const i=t&&(t[St]||t[wn]);if(i){const l=function(t){if(t.hasOwnProperty("name"))return t.name;const i=(""+t).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),i}return null}(t);return null!==l?()=>l.factory(t):()=>new t}(t);throw new Error("unreachable")}function lm(t,i,l){let d;if(ns(t)){const m=te(t);return No(m)||uu(m)}if(wy(t))d=()=>te(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...Ui(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))d=()=>Xn(te(t.useExisting));else{const m=te(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return No(m)||uu(m);d=()=>new m(...Ui(t.deps))}return d}function id(t,i,l=!1){return{factory:t,value:i,multi:l?[]:void 0}}function wy(t){return null!==t&&"object"==typeof t&&Pc in t}function ns(t){return"function"==typeof t}const Xl=function(t,i,l){return function(t,i=null,l=null,d){const m=Tr(t,i,l,d);return m._resolveInjectorDefTypes(),m}({name:l},i,t,l)};class En{static create(i,l){return Array.isArray(i)?Xl(i,l,""):Xl(i.providers,i.parent,i.name||"")}}function Ni(t,i){Ra(ar(t)[1],Rr())}function Vp(t){let i=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),l=!0;const d=[t];for(;i;){let m;if(ci(t))m=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");m=i.\u0275dir}if(m){if(l){d.push(m);const T=t;T.inputs=dh(t.inputs),T.declaredInputs=dh(t.declaredInputs),T.outputs=dh(t.outputs);const S=m.hostBindings;S&&Y_(t,S);const O=m.viewQuery,N=m.contentQueries;if(O&&Up(t,O),N&&Oy(t,N),ve(t.inputs,m.inputs),ve(t.declaredInputs,m.declaredInputs),ve(t.outputs,m.outputs),ci(m)&&m.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let T=0;T<b.length;T++){const S=b[T];S&&S.ngInherit&&S(t),S===Vp&&(l=!1)}}i=Object.getPrototypeOf(i)}!function(t){let i=0,l=null;for(let d=t.length-1;d>=0;d--){const m=t[d];m.hostVars=i+=m.hostVars,m.hostAttrs=ka(m.hostAttrs,l=ka(l,m.hostAttrs))}}(d)}function dh(t){return t===jn?{}:t===fe?[]:t}function Up(t,i){const l=t.viewQuery;t.viewQuery=l?(d,m)=>{i(d,m),l(d,m)}:i}function Oy(t,i){const l=t.contentQueries;t.contentQueries=l?(d,m,b)=>{i(d,m,b),l(d,m,b)}:i}function Y_(t,i){const l=t.hostBindings;t.hostBindings=l?(d,m)=>{i(d,m),l(d,m)}:i}En.THROW_IF_NOT_FOUND=ia,En.NULL=new ah,En.\u0275prov=dn({token:En,providedIn:"any",factory:()=>Xn(sh)}),En.__NG_ELEMENT_ID__=-1;let _a=null;function ln(){if(!_a){const t=Bn.Symbol;if(t&&t.iterator)_a=t.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<i.length;++l){const d=i[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(_a=d)}}}return _a}function js(t){return!!jp(t)&&(Array.isArray(t)||!(t instanceof Map)&&ln()in t)}function jp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function si(t,i,l){return!Object.is(t[i],l)&&(t[i]=l,!0)}function Ea(t,i,l,d){const m=Ye();return si(m,Ts(),i)&&(Ln(),ga(Qn(),m,t,i,l,d)),Ea}function sc(t,i,l,d){return si(t,Ts(),l)?i+Ze(l)+d:tn}function $p(t,i,l,d,m,b,T,S){const O=Ye(),N=Ln(),j=t+20,Q=N.firstCreatePass?function(t,i,l,d,m,b,T,S,O){const N=i.consts,j=an(i,t,4,T||null,Ii(N,S));em(i,l,j,Ii(N,O)),Ra(i,j);const Q=j.tViews=Sp(2,j,d,m,b,i.directiveRegistry,i.pipeRegistry,null,i.schemas,N);return null!==i.queries&&(i.queries.template(i,j),Q.queries=i.queries.embeddedTView(j)),j}(j,N,O,i,l,d,m,b,T):N.data[j];ho(Q,!1);const ee=O[11].createComment("");sn(N,O,ee,Q),yi(ee,O),rh(O,O[j]=my(ee,O,ee,Q)),yc(Q)&&Wg(N,O,Q),null!=T&&Kg(O,Q,S)}function Zp(t,i=Je.Default){const l=Ye();return null===l?Xn(t,i):yg(Rr(),l,te(t),i)}function Yp(t,i,l){const d=Ye();return si(d,Ts(),i)&&Ao(Ln(),Qn(),d,t,i,d[11],l,!1),Yp}function ev(t,i,l,d,m){const T=m?"class":"style";by(t,l,i.inputs[T],T,d)}function tv(t,i,l,d){const m=Ye(),b=Ln(),T=20+t,S=m[11],O=m[T]=Xo(S,i,Nt.lFrame.currentNamespace),N=b.firstCreatePass?function(t,i,l,d,m,b,T){const S=i.consts,N=an(i,t,2,m,Ii(S,b));return em(i,l,N,Ii(S,T)),null!==N.attrs&&yf(N,N.attrs,!1),null!==N.mergedAttrs&&yf(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(T,b,m,0,i,l,d):b.data[T];ho(N,!0);const j=N.mergedAttrs;null!==j&&Fa(S,O,j);const Q=N.classes;null!==Q&&Rg(S,O,Q);const ee=N.styles;null!==ee&&Pg(S,O,ee),64!=(64&N.flags)&&sn(b,m,O,N),0===Nt.lFrame.elementDepthCount&&yi(O,m),Nt.lFrame.elementDepthCount++,yc(N)&&(Wg(b,m,N),function(t,i,l){if(us(i)){const m=i.directiveEnd;for(let b=i.directiveStart;b<m;b++){const T=t.data[b];T.contentQueries&&T.contentQueries(1,l[b],b)}}}(b,N,m)),null!==d&&Kg(m,N)}function nv(){let t=Rr();wc()?Ph():(t=t.parent,ho(t,!1));const i=t;Nt.lFrame.elementDepthCount--;const l=Ln();l.firstCreatePass&&(Ra(l,t),us(t)&&l.queries.elementEnd(t)),null!=i.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(i)&&ev(l,i,Ye(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(i)&&ev(l,i,Ye(),i.stylesWithoutHost,!1)}function Sm(t,i,l,d){tv(t,i,l,d),nv()}function iv(t){return!!t&&"function"==typeof t.then}function Pb(t){return!!t&&"function"==typeof t.subscribe}const ov=Pb;function sv(t,i,l,d){const m=Ye(),b=Ln(),T=Rr();return function(t,i,l,d,m,b,T,S){const O=yc(d),j=t.firstCreatePass&&vy(t),Q=i[8],ee=Ap(i);let ge=!0;if(3&d.type||S){const Me=Cn(d,i),lt=S?S(Me):Me,We=ee.length,$t=S?cn=>S(he(cn[d.index])):d.index;if(k(l)){let cn=null;if(!S&&O&&(cn=function(t,i,l,d){const m=t.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const T=m[b];if(T===l&&m[b+1]===d){const S=i[7],O=m[b+2];return S.length>O?S[O]:null}"string"==typeof T&&(b+=2)}return null}(t,i,m,d.index)),null!==cn)(cn.__ngLastListenerFn__||cn).__ngNextListenerFn__=b,cn.__ngLastListenerFn__=b,ge=!1;else{b=Jp(d,i,Q,b,!1);const qn=l.listen(lt,m,b);ee.push(b,qn),j&&j.push(m,$t,We,We+1)}}else b=Jp(d,i,Q,b,!0),lt.addEventListener(m,b,T),ee.push(b),j&&j.push(m,$t,We,T)}else b=Jp(d,i,Q,b,!1);const Ce=d.outputs;let Ve;if(ge&&null!==Ce&&(Ve=Ce[m])){const Me=Ve.length;if(Me)for(let lt=0;lt<Me;lt+=2){const xo=i[Ve[lt]][Ve[lt+1]].subscribe(b),gc=ee.length;ee.push(b,xo),j&&j.push(m,d.index,gc,-(gc+1))}}}(b,m,m[11],T,t,i,!!l,d),sv}function uv(t,i,l,d){try{return!1!==l(d)}catch(m){return Mp(t,m),!1}}function Jp(t,i,l,d,m){return function b(T){if(T===Function)return d;const S=2&t.flags?Zn(t.index,i):i;0==(32&i[2])&&td(S);let O=uv(i,0,d,T),N=b.__ngNextListenerFn__;for(;N;)O=uv(i,0,N,T)&&O,N=N.__ngNextListenerFn__;return m&&!1===O&&(T.preventDefault(),T.returnValue=!1),O}}function Fb(t=1){return function(t){return(Nt.lFrame.contextLView=function(t,i){for(;t>0;)i=i[15],t--;return i}(t,Nt.lFrame.contextLView))[8]}(t)}function AC(t,i){let l=null;const d=function(t){const i=t.attrs;if(null!=i){const l=i.indexOf(5);if(0==(1&l))return i[l+1]}return null}(t);for(let m=0;m<i.length;m++){const b=i[m];if("*"!==b){if(null===d?ny(t,b,!0):Pi(d,b))return m}else l=m}return l}function Im(t){const i=Ye()[16][6];if(!i.projection){const d=i.projection=Zi(t?t.length:1,null),m=d.slice();let b=i.child;for(;null!==b;){const T=t?AC(b,t):0;null!==T&&(m[T]?m[T].projectionNext=b:d[T]=b,m[T]=b),b=b.next}}}function kb(t,i=0,l){const d=Ye(),m=Ln(),b=an(m,20+t,16,null,l||null);null===b.projection&&(b.projection=i),Ph(),64!=(64&b.flags)&&function(t,i,l){Wl(i[11],0,i,l,M(t,l,i),Ge(l.parent||i[6],l,i))}(m,d,b)}function xf(t,i,l){return lv(t,"",i,"",l),xf}function lv(t,i,l,d,m){const b=Ye(),T=sc(b,i,l,d);return T!==tn&&Ao(Ln(),Qn(),b,t,T,b[11],m,!1),lv}function cv(t,i,l,d,m){const b=t[l+1],T=null===i;let S=d?Ci(b):Zu(b),O=!1;for(;0!==S&&(!1===O||T);){const j=t[S+1];OC(t[S],i)&&(O=!0,t[S+1]=d?bp(j):vp(j)),S=d?Ci(j):Zu(j)}O&&(t[l+1]=d?vp(b):bp(b))}function OC(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Ru(t,i)>=0}function pv(t,i){return function(t,i,l,d){const m=Ye(),b=Ln(),T=function(t){const i=Nt.lFrame,l=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,l}(2);b.firstUpdatePass&&function(t,i,l,d){const m=t.data;if(null===m[l+1]){const b=m[Fr()],T=function(t,i){return i>=t.expandoStartIndex}(t,l);(function(t,i){return 0!=(t.flags&(i?16:32))})(b,d)&&null===i&&!T&&(i=!1),i=function(t,i,l,d){const m=function(t){const i=Nt.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let b=d?i.residualClasses:i.residualStyles;if(null===m)0===(d?i.classBindings:i.styleBindings)&&(l=no(l=mv(null,t,i,l,d),i.attrs,d),b=null);else{const T=i.directiveStylingLast;if(-1===T||t[T]!==m)if(l=mv(m,t,i,l,d),null===b){let O=function(t,i,l){const d=l?i.classBindings:i.styleBindings;if(0!==Zu(d))return t[Ci(d)]}(t,i,d);void 0!==O&&Array.isArray(O)&&(O=mv(null,t,i,O[1],d),O=no(O,i.attrs,d),function(t,i,l,d){t[Ci(l?i.classBindings:i.styleBindings)]=d}(t,i,d,O))}else b=function(t,i,l){let d;const m=i.directiveEnd;for(let b=1+i.directiveStylingLast;b<m;b++)d=no(d,t[b].hostAttrs,l);return no(d,i.attrs,l)}(t,i,d)}return void 0!==b&&(d?i.residualClasses=b:i.residualStyles=b),l}(m,b,i,d),function(t,i,l,d,m,b){let T=b?i.classBindings:i.styleBindings,S=Ci(T),O=Zu(T);t[d]=l;let j,N=!1;if(Array.isArray(l)){const Q=l;j=Q[1],(null===j||Ru(Q,j)>0)&&(N=!0)}else j=l;if(m)if(0!==O){const ee=Ci(t[S+1]);t[d+1]=Kd(ee,S),0!==ee&&(t[ee+1]=Lg(t[ee+1],d)),t[S+1]=function(t,i){return 131071&t|i<<17}(t[S+1],d)}else t[d+1]=Kd(S,0),0!==S&&(t[S+1]=Lg(t[S+1],d)),S=d;else t[d+1]=Kd(O,0),0===S?S=d:t[O+1]=Lg(t[O+1],d),O=d;N&&(t[d+1]=vp(t[d+1])),cv(t,j,d,!0),cv(t,j,d,!1),function(t,i,l,d,m){const b=m?t.residualClasses:t.residualStyles;null!=b&&"string"==typeof i&&Ru(b,i)>=0&&(l[d+1]=bp(l[d+1]))}(i,j,t,d,b),T=Kd(S,O),b?i.classBindings=T:i.styleBindings=T}(m,b,i,l,T,d)}}(b,t,T,d),i!==tn&&si(m,T,i)&&function(t,i,l,d,m,b,T,S){if(!(3&i.type))return;const O=t.data,N=O[S+1];Hy(function(t){return 1==(1&t)}(N)?Pf(O,i,l,m,Zu(N),T):void 0)||(Hy(b)||function(t){return 2==(2&t)}(N)&&(b=Pf(O,null,l,m,S,T)),function(t,i,l,d,m){const b=k(t);if(i)m?b?t.addClass(l,d):l.classList.add(d):b?t.removeClass(l,d):l.classList.remove(d);else{let T=-1===d.indexOf("-")?void 0:So.DashCase;if(null==m)b?t.removeStyle(l,d,T):l.style.removeProperty(d);else{const S="string"==typeof m&&m.endsWith("!important");S&&(m=m.slice(0,-10),T|=So.Important),b?t.setStyle(l,d,m,T):l.style.setProperty(d,m,S?"important":"")}}}(d,T,Mt(Fr(),l),m,b))}(b,b.data[Fr()],m,m[11],t,m[T+1]=function(t,i){return null==t||("string"==typeof i?t+=i:"object"==typeof t&&(t=se(Rs(t)))),t}(i,l),d,T)}(t,i,null,!0),pv}function mv(t,i,l,d,m){let b=null;const T=l.directiveEnd;let S=l.directiveStylingLast;for(-1===S?S=l.directiveStart:S++;S<T&&(b=i[S],d=no(d,b.hostAttrs,m),b!==t);)S++;return null!==t&&(l.directiveStylingLast=S),d}function no(t,i,l){const d=l?1:2;let m=-1;if(null!==i)for(let b=0;b<i.length;b++){const T=i[b];"number"==typeof T?m=T:m===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Bo(t,T,!!l||i[++b]))}return void 0===t?null:t}function Pf(t,i,l,d,m,b){const T=null===i;let S;for(;m>0;){const O=t[m],N=Array.isArray(O),j=N?O[1]:O,Q=null===j;let ee=l[m+1];ee===tn&&(ee=Q?fe:void 0);let ge=Q?ra(ee,d):j===d?ee:void 0;if(N&&!Hy(ge)&&(ge=ra(O,d)),Hy(ge)&&(S=ge,T))return S;const Ce=t[m+1];m=T?Ci(Ce):Zu(Ce)}if(null!==i){let O=b?i.residualClasses:i.residualStyles;null!=O&&(S=ra(O,d))}return S}function Hy(t){return void 0!==t}function Qb(t,i=""){const l=Ye(),d=Ln(),m=t+20,b=d.firstCreatePass?an(d,m,1,i,null):d.data[m],T=l[m]=function(t,i){return k(t)?t.createText(i):t.createTextNode(i)}(l[11],i);sn(d,l,T,b),ho(b,!1)}function zy(t,i,l){const d=Ye(),m=sc(d,t,i,l);return m!==tn&&au(d,Fr(),m),zy}function Tv(t,i,l){const d=Ye();return si(d,Ts(),i)&&Ao(Ln(),Qn(),d,t,i,d[11],l,!0),Tv}const hl=void 0;var c0=["en",[["a","p"],["AM","PM"],hl],[["AM","PM"],hl,hl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hl,"{1} 'at' {0}",hl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const i=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===l?1:5}];let wi={};function Dv(t){const i=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let l=Iv(i);if(l)return l;const d=i.split("-")[0];if(l=Iv(d),l)return l;if("en"===d)return c0;throw new Error(`Missing locale data for the locale "${t}".`)}function Sv(t){return Dv(t)[qt.PluralCase]}function Iv(t){return t in wi||(wi[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),wi[t]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const xm="en-US";let p0=xm;function Ky(t){_t(t,"Expected localeId to be defined"),"string"==typeof t&&(p0=t.toLowerCase().replace(/_/g,"-"))}function r_(t,i,l,d,m){if(t=te(t),Array.isArray(t))for(let b=0;b<t.length;b++)r_(t[b],i,l,d,m);else{const b=Ln(),T=Ye();let S=ns(t)?t:te(t.provide),O=lm(t);const N=Rr(),j=1048575&N.providerIndexes,Q=N.directiveStart,ee=N.providerIndexes>>20;if(ns(t)||!t.multi){const ge=new ti(O,m,Zp),Ce=$v(S,i,m?j:j+ee,Q);-1===Ce?(xl(Xs(N,T),b,S),Gv(b,t,i.length),i.push(S),N.directiveStart++,N.directiveEnd++,m&&(N.providerIndexes+=1048576),l.push(ge),T.push(ge)):(l[Ce]=ge,T[Ce]=ge)}else{const ge=$v(S,i,j+ee,Q),Ce=$v(S,i,j,j+ee),Ve=ge>=0&&l[ge],Me=Ce>=0&&l[Ce];if(m&&!Me||!m&&!Ve){xl(Xs(N,T),b,S);const lt=function(t,i,l,d,m){const b=new ti(t,l,Zp);return b.multi=[],b.index=i,b.componentProviders=0,Hv(b,m,d&&!l),b}(m?x0:Xw,l.length,m,d,O);!m&&Me&&(l[Ce].providerFactory=lt),Gv(b,t,i.length,0),i.push(S),N.directiveStart++,N.directiveEnd++,m&&(N.providerIndexes+=1048576),l.push(lt),T.push(lt)}else Gv(b,t,ge>-1?ge:Ce,Hv(l[m?Ce:ge],O,!m&&d));!m&&d&&Me&&l[Ce].componentProviders++}}}function Gv(t,i,l,d){const m=ns(i);if(m||function(t){return!!t.useClass}(i)){const T=(i.useClass||i).prototype.ngOnDestroy;if(T){const S=t.destroyHooks||(t.destroyHooks=[]);if(!m&&i.multi){const O=S.indexOf(l);-1===O?S.push(l,[d,T]):S[O+1].push(d,T)}else S.push(l,T)}}}function Hv(t,i,l){return l&&t.componentProviders++,t.multi.push(i)-1}function $v(t,i,l,d){for(let m=l;m<d;m++)if(i[m]===t)return m;return-1}function Xw(t,i,l,d){return zv(this.multi,[])}function x0(t,i,l,d){const m=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,S=ni(l,l[1],this.providerFactory.index,d);b=S.slice(0,T),zv(m,b);for(let O=T;O<S.length;O++)b.push(S[O])}else b=[],zv(m,b);return b}function zv(t,i){for(let l=0;l<t.length;l++)i.push((0,t[l])());return i}function O0(t,i=[]){return l=>{l.providersResolver=(d,m)=>function(t,i,l){const d=Ln();if(d.firstCreatePass){const m=ci(t);r_(l,d.data,d.blueprint,m,!0),r_(i,d.data,d.blueprint,m,!1)}}(d,m?m(t):t,i)}}class i_{}const Wv="ngComponent";class o_{resolveComponentFactory(i){throw function(t){const i=Error(`No component factory found for ${se(t)}. Did you add it to @NgModule.entryComponents?`);return i[Wv]=t,i}(i)}}class Lf{}function ig(...t){}function og(t,i){return new dc(Cn(t,i))}Lf.NULL=new o_;const k0=function(){return og(Rr(),Ye())};let dc=(()=>{class t{constructor(l){this.nativeElement=l}}return t.__NG_ELEMENT_ID__=k0,t})();function s_(t){return t instanceof dc?t.nativeElement:t}class a_{}let L0=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Yv(),t})();const Yv=function(){const t=Ye(),l=Zn(Rr().index,t);return function(t){return t[11]}(_r(l)?l:t)};let u_=(()=>{class t{}return t.\u0275prov=dn({token:t,providedIn:"root",factory:()=>null}),t})();class U0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const l_=new U0("12.2.4");class B0{constructor(){}supports(i){return js(i)}create(i){return new CE(i)}}const j0=(t,i)=>i;class CE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||j0}forEachItem(i){let l;for(l=this._itHead;null!==l;l=l._next)i(l)}forEachOperation(i){let l=this._itHead,d=this._removalsHead,m=0,b=null;for(;l||d;){const T=!d||l&&l.currentIndex<Jv(d,m,b)?l:d,S=Jv(T,m,b),O=T.currentIndex;if(T===d)m--,d=d._nextRemoved;else if(l=l._next,null==T.previousIndex)m++;else{b||(b=[]);const N=S-m,j=O-m;if(N!=j){for(let ee=0;ee<N;ee++){const ge=ee<b.length?b[ee]:b[ee]=0,Ce=ge+ee;j<=Ce&&Ce<N&&(b[ee]=ge+1)}b[T.previousIndex]=j-N}}S!==O&&i(T,S,O)}}forEachPreviousItem(i){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)i(l)}forEachAddedItem(i){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)i(l)}forEachMovedItem(i){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)i(l)}forEachRemovedItem(i){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)i(l)}forEachIdentityChange(i){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)i(l)}diff(i){if(null==i&&(i=[]),!js(i))throw new Error(`Error trying to diff '${se(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let m,b,T,l=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)b=i[S],T=this._trackByFn(S,b),null!==l&&Object.is(l.trackById,T)?(d&&(l=this._verifyReinsertion(l,b,T,S)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,T,S),d=!0),l=l._next}else m=0,function(t,i){if(Array.isArray(t))for(let l=0;l<t.length;l++)i(t[l]);else{const l=t[ln()]();let d;for(;!(d=l.next()).done;)i(d.value)}}(i,S=>{T=this._trackByFn(m,S),null!==l&&Object.is(l.trackById,T)?(d&&(l=this._verifyReinsertion(l,S,T,m)),Object.is(l.item,S)||this._addIdentityChange(l,S)):(l=this._mismatch(l,S,T,m),d=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,l,d,m){let b;return null===i?b=this._itTail:(b=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,l)||this._addIdentityChange(i,l),this._reinsertAfter(i,b,m)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,m))?(Object.is(i.item,l)||this._addIdentityChange(i,l),this._moveAfter(i,b,m)):i=this._addAfter(new Qv(l,d),b,m),i}_verifyReinsertion(i,l,d,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==b?i=this._reinsertAfter(b,i._prev,m):i.currentIndex!=m&&(i.currentIndex=m,this._addToMoves(i,m)),i}_truncate(i){for(;null!==i;){const l=i._next;this._addToRemovals(this._unlink(i)),i=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const m=i._prevRemoved,b=i._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(i,l,d),this._addToMoves(i,d),i}_moveAfter(i,l,d){return this._unlink(i),this._insertAfter(i,l,d),this._addToMoves(i,d),i}_addAfter(i,l,d){return this._insertAfter(i,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,l,d){const m=null===l?this._itHead:l._next;return i._next=m,i._prev=l,null===m?this._itTail=i:m._prev=i,null===l?this._itHead=i:l._next=i,null===this._linkedRecords&&(this._linkedRecords=new H0),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const l=i._prev,d=i._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,i}_addToMoves(i,l){return i.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new H0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,l){return i.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Qv{constructor(i,l){this.item=i,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G0{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const l=i._prevDup,d=i._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class H0{constructor(){this.map=new Map}put(i){const l=i.trackById;let d=this.map.get(l);d||(d=new G0,this.map.set(l,d)),d.add(i)}get(i,l){const m=this.map.get(i);return m?m.get(i,l):null}remove(i){const l=i.trackById;return this.map.get(l).remove(i)&&this.map.delete(l),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jv(t,i,l){const d=t.previousIndex;if(null===d)return d;let m=0;return l&&d<l.length&&(m=l[d]),d+i+m}class $0{constructor(){}supports(i){return i instanceof Map||jp(i)}create(){return new z0}}class z0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let l;for(l=this._mapHead;null!==l;l=l._next)i(l)}forEachPreviousItem(i){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)i(l)}forEachChangedItem(i){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)i(l)}forEachAddedItem(i){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)i(l)}forEachRemovedItem(i){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)i(l)}diff(i){if(i){if(!(i instanceof Map||jp(i)))throw new Error(`Error trying to diff '${se(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const b=this._getOrCreateRecordForKey(m,d);l=this._insertBeforeOrAppend(l,b)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,l){if(i){const d=i._prev;return l._next=i,l._prev=d,i._prev=l,d&&(d._next=l),i===this._mapHead&&(this._mapHead=l),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(i,l){if(this._records.has(i)){const m=this._records.get(i);this._maybeAddToChanges(m,l);const b=m._prev,T=m._next;return b&&(b._next=T),T&&(T._prev=b),m._next=null,m._prev=null,m}const d=new EE(i);return this._records.set(i,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,l){Object.is(l,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=l,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,l){i instanceof Map?i.forEach(l):Object.keys(i).forEach(d=>l(i[d],d))}}class EE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xv(){return new c_([new B0])}let c_=(()=>{class t{constructor(l){this.factories=l}static create(l,d){if(null!=d){const m=d.factories.slice();l=l.concat(m)}return new t(l)}static extend(l){return{provide:t,useFactory:d=>t.create(l,d||Xv()),deps:[[t,new Eo,new $o]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(t){return t.name||typeof t}(l)}'`)}}return t.\u0275prov=dn({token:t,providedIn:"root",factory:Xv}),t})();function wE(){return new eb([new $0])}let eb=(()=>{class t{constructor(l){this.factories=l}static create(l,d){if(d){const m=d.factories.slice();l=l.concat(m)}return new t(l)}static extend(l){return{provide:t,useFactory:d=>t.create(l,d||wE()),deps:[[t,new Eo,new $o]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(d)return d;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return t.\u0275prov=dn({token:t,providedIn:"root",factory:wE}),t})();function tb(t,i,l,d,m=!1){for(;null!==l;){const b=i[l.index];if(null!==b&&d.push(he(b)),uo(b))for(let S=10;S<b.length;S++){const O=b[S],N=O[1].firstChild;null!==N&&tb(O[1],O,N,d)}const T=l.type;if(8&T)tb(t,i,l.child,d);else if(32&T){const S=Ls(l,i);let O;for(;O=S();)d.push(O)}else if(16&T){const S=es(i,l);if(Array.isArray(S))d.push(...S);else{const O=Vs(i[16]);tb(O[1],O,S,d,!0)}}l=m?l.projectionNext:l.next}return d}class sg{constructor(i,l){this._lView=i,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,l=i[1];return tb(l,i,l.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(uo(i)){const l=i[8],d=l?l.indexOf(this):-1;d>-1&&(fa(i,d),Uo(l,d))}this._attachedToViewContainer=!1}g(this._lView[1],this._lView)}onDestroy(i){Ju(this._lView[1],this._lView,null,i)}markForCheck(){td(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,i,l){ko(!0);try{pf(t,i,l)}finally{ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,ql(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class TE extends sg{constructor(i){super(i),this._view=i}detectChanges(){gf(this._view)}checkNoChanges(){!function(t){ko(!0);try{gf(t)}finally{ko(!1)}}(this._view)}get context(){return null}}const DE=function(t){return function(t,i,l){if(Si(t)&&!l){const d=Zn(t.index,i);return new sg(d,d)}return 47&t.type?new sg(i[16],i):null}(Rr(),Ye(),16==(16&t))};let oT=(()=>{class t{}return t.__NG_ELEMENT_ID__=DE,t})();const AE=[new $0],xE=new c_([new B0]),OE=new eb(AE),RE=function(){return d_(Rr(),Ye())};let Bm=(()=>{class t{}return t.__NG_ELEMENT_ID__=RE,t})();const NE=Bm,FE=class extends NE{constructor(i,l,d){super(),this._declarationLView=i,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(i){const l=this._declarationTContainer.tViews,d=pa(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(d[19]=b.createEmbeddedView(l)),Jd(l,d,i),new sg(d)}};function d_(t,i){return 4&t.type?new FE(i,t,og(t,i)):null}class Vf{}class K0{}const VE=function(){return Q0(Rr(),Ye())};let h_=(()=>{class t{}return t.__NG_ELEMENT_ID__=VE,t})();const BE=h_,Z0=class extends BE{constructor(i,l,d){super(),this._lContainer=i,this._hostTNode=l,this._hostLView=d}get element(){return og(this._hostTNode,this._hostLView)}get injector(){return new Va(this._hostTNode,this._hostLView)}get parentInjector(){const i=ea(this._hostTNode,this._hostLView);if(xu(i)){const l=Is(i,this._hostLView),d=jr(i);return new Va(l[1].data[d+8],l)}return new Va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const l=Y0(this._lContainer);return null!==l&&l[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,l,d){const m=i.createEmbeddedView(l||{});return this.insert(m,d),m}createComponent(i,l,d,m,b){const T=d||this.parentInjector;if(!b&&null==i.ngModule&&T){const O=T.get(Vf,null);O&&(b=O)}const S=i.create(T,m,void 0,b);return this.insert(S.hostView,l),S}insert(i,l){const d=i._lView,m=d[1];if(uo(d[3])){const j=this.indexOf(i);if(-1!==j)this.detach(j);else{const Q=d[3],ee=new Z0(Q,Q[6],Q[3]);ee.detach(ee.indexOf(i))}}const b=this._adjustIndex(l),T=this._lContainer;!function(t,i,l,d){const m=10+d,b=l.length;d>0&&(l[m-1][4]=i),d<b-10?(i[4]=l[m],Ga(l,10+d,i)):(l.push(i),i[4]=null),i[3]=l;const T=i[17];null!==T&&l!==T&&function(t,i){const l=t[9];i[16]!==i[3][3][16]&&(t[2]=!0),null===l?t[9]=[i]:l.push(i)}(T,i);const S=i[19];null!==S&&S.insertView(t),i[2]|=128}(m,d,T,b);const S=zl(b,T),O=d[11],N=ce(O,T[7]);return null!==N&&function(t,i,l,d,m,b){d[0]=m,d[6]=i,ql(t,d,l,1,m,b)}(m,T[6],O,d,N,S),i.attachToViewContainerRef(),Ga(nb(T),b,i),i}move(i,l){return this.insert(i,l)}indexOf(i){const l=Y0(this._lContainer);return null!==l?l.indexOf(i):-1}remove(i){const l=this._adjustIndex(i,-1),d=fa(this._lContainer,l);d&&(Uo(nb(this._lContainer),l),g(d[1],d))}detach(i){const l=this._adjustIndex(i,-1),d=fa(this._lContainer,l);return d&&null!=Uo(nb(this._lContainer),l)?new sg(d):null}_adjustIndex(i,l=0){return null==i?this.length+l:i}};function Y0(t){return t[8]}function nb(t){return t[8]||(t[8]=[])}function Q0(t,i){let l;const d=i[t.index];if(uo(d))l=d;else{let m;if(8&t.type)m=he(d);else{const b=i[11];m=b.createComment("");const T=Cn(t,i);V(b,ce(b,T),m,function(t,i){return k(t)?t.nextSibling(i):i.nextSibling}(b,T),!1)}i[t.index]=l=my(d,i,m,t),rh(i,l)}return new Z0(l,t,i)}const m_={};class yT extends Lf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const l=Ur(i);return new vT(l,this.ngModule)}}function _T(t){const i=[];for(let l in t)t.hasOwnProperty(l)&&i.push({propName:t[l],templateName:l});return i}const lS=new vr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fs});class vT extends i_{constructor(i,l){super(),this.componentDef=i,this.ngModule=l,this.componentType=i.type,this.selector=i.selectors.map(M_).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return _T(this.componentDef.inputs)}get outputs(){return _T(this.componentDef.outputs)}create(i,l,d,m){const b=(m=m||this.ngModule)?function(t,i){return{get:(l,d,m)=>{const b=t.get(l,m_,m);return b!==m_||d===m_?b:i.get(l,d,m)}}}(i,m.injector):i,T=b.get(a_,F),S=b.get(u_,null),O=T.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",j=d?function(t,i,l){if(k(t))return t.selectRootElement(i,l===At.ShadowDom);let d="string"==typeof i?t.querySelector(i):i;return d.textContent="",d}(O,d,this.componentDef.encapsulation):Xo(T.createRenderer(null,this.componentDef),N,function(t){const i=t.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(N)),Q=this.componentDef.onPush?576:528,ee=function(t,i){return{components:[],scheduler:t||Fs,clean:Mb,playerHandler:i||null,flags:0}}(),ge=Sp(0,null,null,1,0,null,null,null,null,null),Ce=pa(null,ge,ee,Q,null,null,T,O,S,b);let Ve,Me;Qs(Ce);try{const lt=function(t,i,l,d,m,b){const T=l[1];l[20]=t;const O=an(T,20,2,"#host",null),N=O.mergedAttrs=i.hostAttrs;null!==N&&(yf(O,N,!0),null!==t&&(Fa(m,t,N),null!==O.classes&&Rg(m,t,O.classes),null!==O.styles&&Pg(m,t,O.styles)));const j=d.createRenderer(t,i),Q=pa(l,Zg(i),null,i.onPush?64:16,l[20],O,d,j,b||null,null);return T.firstCreatePass&&(xl(Xs(O,l),T,i.type),df(T,O),rm(O,l.length,1)),rh(l,Q),l[20]=Q}(j,this.componentDef,Ce,T,O);if(j)if(d)Fa(O,j,["ng-version",l_.full]);else{const{attrs:We,classes:$t}=function(t){const i=[],l=[];let d=1,m=2;for(;d<t.length;){let b=t[d];if("string"==typeof b)2===m?""!==b&&i.push(b,t[++d]):8===m&&l.push(b);else{if(!ru(m))break;m=b}d++}return{attrs:i,classes:l}}(this.componentDef.selectors[0]);We&&Fa(O,j,We),$t&&$t.length>0&&Rg(O,j,$t.join(" "))}if(Me=Pn(ge,20),void 0!==l){const We=Me.projection=[];for(let $t=0;$t<this.ngContentSelectors.length;$t++){const cn=l[$t];We.push(null!=cn?Array.from(cn):null)}}Ve=function(t,i,l,d,m){const b=l[1],T=function(t,i,l){const d=Rr();t.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),th(t,d,i,Lr(t,i,1,null),l));const m=ni(i,t,d.directiveStart,d);yi(m,i);const b=Cn(d,i);return b&&yi(b,i),m}(b,l,i);if(d.components.push(T),t[8]=T,m&&m.forEach(O=>O(T,i)),i.contentQueries){const O=Rr();i.contentQueries(1,T,O.directiveStart)}const S=Rr();return!b.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Ai(S.index),tm(l[1],S,0,S.directiveStart,S.directiveEnd,i),eh(i,T)),T}(lt,this.componentDef,Ce,ee,[Ni]),Jd(ge,Ce,null)}finally{mo()}return new hS(this.componentType,Ve,og(Me,Ce),Ce,Me)}}class hS extends class{}{constructor(i,l,d,m,b){super(),this.location=d,this._rootLView=m,this._tNode=b,this.instance=l,this.hostView=this.changeDetectorRef=new TE(m),this.componentType=i}get injector(){return new Va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const y_=new Map;class gS extends Vf{constructor(i,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yT(this);const d=ki(i),m=i[vt]||null;m&&Ky(m),this._bootstrapComponents=Jo(d.bootstrap),this._r3Injector=Tr(i,l,[{provide:Vf,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver}],se(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,l=En.THROW_IF_NOT_FOUND,d=Je.Default){return i===En||i===Vf||i===sh?this:this._r3Injector.get(i,l,d)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class XE extends K0{constructor(i){super(),this.moduleType=i,null!==ki(i)&&function(t){const i=new Set;!function l(d){const m=ki(d,!0),b=m.id;null!==b&&(function(t,i,l){if(i&&i!==l)throw new Error(`Duplicate module registered for ${t} - ${se(i)} vs ${se(i.name)}`)}(b,y_.get(b),d),y_.set(b,d));const T=Jo(m.imports);for(const S of T)i.has(S)||(i.add(S),l(S))}(t)}(i)}create(i){return new gS(this.moduleType,i)}}function ew(t){return i=>{setTimeout(t,void 0,i)}}const Dh=class extends B.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,l,d){var m,b,T;let S=i,O=l||(()=>null),N=d;if(i&&"object"==typeof i){const Q=i;S=null===(m=Q.next)||void 0===m?void 0:m.bind(Q),O=null===(b=Q.error)||void 0===b?void 0:b.bind(Q),N=null===(T=Q.complete)||void 0===T?void 0:T.bind(Q)}this.__isAsync&&(O=ew(O),S&&(S=ew(S)),N&&(N=ew(N)));const j=super.subscribe({next:S,error:O,complete:N});return i instanceof v.w&&i.add(j),j}};function NS(){return this._results[ln()]()}class cC{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ln(),d=cC.prototype;d[l]||(d[l]=NS)}get changes(){return this._changes||(this._changes=new Dh)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,l){return this._results.reduce(i,l)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,l){const d=this;d.dirty=!1;const m=Jn(i);(this._changesDetected=!function(t,i,l){if(t.length!==i.length)return!1;for(let d=0;d<t.length;d++){let m=t[d],b=i[d];if(l&&(m=l(m),b=l(b)),b!==m)return!1}return!0}(d._results,m,l))&&(d._results=m,d.length=m.length,d.last=m[this.length-1],d.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tw{constructor(i){this.queryList=i,this.matches=null}clone(){return new tw(this.queryList)}setDirty(){this.queryList.setDirty()}}class nw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const l=i.queries;if(null!==l){const d=null!==i.contentQueries?i.contentQueries[0]:l.length,m=[];for(let b=0;b<d;b++){const T=l.getByIndex(b);m.push(this.queries[T.indexInDeclarationView].clone())}return new nw(m)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let l=0;l<this.queries.length;l++)null!==FT(i,l).matches&&this.queries[l].setDirty()}}class IT{constructor(i,l,d=null){this.predicate=i,this.flags=l,this.read=d}}class rw{constructor(i=[]){this.queries=i}elementStart(i,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,l)}elementEnd(i){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(i)}embeddedTView(i){let l=null;for(let d=0;d<this.length;d++){const m=null!==l?l.length:0,b=this.getByIndex(d).embeddedTView(i,m);b&&(b.indexInDeclarationView=d,null!==l?l.push(b):l=[b])}return null!==l?new rw(l):null}template(i,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,l)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class iw{constructor(i,l=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(i,l){this.isApplyingToNode(l)&&this.matchTNode(i,l)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,l){this.elementStart(i,l)}embeddedTView(i,l){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,l),new iw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let m=0;m<d.length;m++){const b=d[m];this.matchTNodeWithReadOption(i,l,LS(l,b)),this.matchTNodeWithReadOption(i,l,Ol(l,i,b,!1,!1))}else d===Bm?4&l.type&&this.matchTNodeWithReadOption(i,l,-1):this.matchTNodeWithReadOption(i,l,Ol(l,i,d,!1,!1))}matchTNodeWithReadOption(i,l,d){if(null!==d){const m=this.metadata.read;if(null!==m)if(m===dc||m===h_||m===Bm&&4&l.type)this.addMatch(l.index,-2);else{const b=Ol(l,i,m,!1,!1);null!==b&&this.addMatch(l.index,b)}else this.addMatch(l.index,d)}}addMatch(i,l){null===this.matches?this.matches=[i,l]:this.matches.push(i,l)}}function LS(t,i){const l=t.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===i)return l[d+1];return null}function US(t,i,l,d){return-1===l?function(t,i){return 11&t.type?og(t,i):4&t.type?d_(t,i):null}(i,t):-2===l?function(t,i,l){return l===dc?og(i,t):l===Bm?d_(i,t):l===h_?Q0(i,t):void 0}(t,i,d):ni(t,t[1],l,i)}function AT(t,i,l,d){const m=i[19].queries[d];if(null===m.matches){const b=t.data,T=l.matches,S=[];for(let O=0;O<T.length;O+=2){const N=T[O];S.push(N<0?null:US(i,b[N],T[O+1],l.metadata.read))}m.matches=S}return m.matches}function ow(t,i,l,d){const m=t.queries.getByIndex(l),b=m.matches;if(null!==b){const T=AT(t,i,m,l);for(let S=0;S<b.length;S+=2){const O=b[S];if(O>0)d.push(T[S/2]);else{const N=b[S+1],j=i[-O];for(let Q=10;Q<j.length;Q++){const ee=j[Q];ee[17]===ee[3]&&ow(ee[1],ee,N,d)}if(null!==j[9]){const Q=j[9];for(let ee=0;ee<Q.length;ee++){const ge=Q[ee];ow(ge[1],ge,N,d)}}}}}return d}function MT(t){const i=Ye(),l=Ln(),d=Rh();Tc(d+1);const m=FT(l,d);if(t.dirty&&ir(i)===(2==(2&m.metadata.flags))){if(null===m.matches)t.reset([]);else{const b=m.crossesNgTemplate?ow(l,i,d,[]):AT(l,i,m,d);t.reset(b,s_),t.notifyOnChanges()}return!0}return!1}function xT(t,i,l){const d=Ln();d.firstCreatePass&&(NT(d,new IT(t,i,l),-1),2==(2&i)&&(d.staticViewQueries=!0)),RT(d,Ye(),i)}function OT(t,i,l,d){const m=Ln();if(m.firstCreatePass){const b=Rr();NT(m,new IT(i,l,d),b.index),function(t,i){const l=t.contentQueries||(t.contentQueries=[]);i!==(l.length?l[l.length-1]:-1)&&l.push(t.queries.length-1,i)}(m,t),2==(2&l)&&(m.staticContentQueries=!0)}RT(m,Ye(),l)}function PT(){return t=Ye(),i=Rh(),t[19].queries[i].queryList;var t,i}function RT(t,i,l){const d=new cC(4==(4&l));Ju(t,i,d,d.destroy),null===i[19]&&(i[19]=new nw),i[19].queries.push(new tw(d))}function NT(t,i,l){null===t.queries&&(t.queries=new rw),t.queries.track(new iw(i,l))}function FT(t,i){return t.queries.getByIndex(i)}const dw=new vr("Application Initializer");let v_=(()=>{class t{constructor(l){this.appInits=l,this.resolve=ig,this.reject=ig,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,m)=>{this.resolve=d,this.reject=m})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const b=this.appInits[m]();if(iv(b))l.push(b);else if(ov(b)){const T=new Promise((S,O)=>{b.subscribe({complete:S,error:O})});l.push(T)}}Promise.all(l).then(()=>{d()}).catch(m=>{this.reject(m)}),0===l.length&&d(),this.initialized=!0}}return t.\u0275fac=function(l){return new(l||t)(Xn(dw,8))},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})();const eD=new vr("AppId"),mI={provide:eD,useFactory:function(){return`${hw()}${hw()}${hw()}`},deps:[]};function hw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tD=new vr("Platform Initializer"),nD=new vr("Platform ID"),rD=new vr("appBootstrapListener");let iD=(()=>{class t{log(l){console.log(l)}warn(l){console.warn(l)}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})();const fC=new vr("LocaleId"),oD=new vr("DefaultCurrencyCode");class _I{constructor(i,l){this.ngModuleFactory=i,this.componentFactories=l}}const fw=function(t){return new XE(t)},vI=fw,bI=function(t){return Promise.resolve(fw(t))},sD=function(t){const i=fw(t),d=Jo(ki(t).declarations).reduce((m,b)=>{const T=Ur(b);return T&&m.push(new vT(T)),m},[]);return new _I(i,d)},CI=sD,EI=function(t){return Promise.resolve(sD(t))};let hb=(()=>{class t{constructor(){this.compileModuleSync=vI,this.compileModuleAsync=bI,this.compileModuleAndAllComponentsSync=CI,this.compileModuleAndAllComponentsAsync=EI}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})();const DI=(()=>Promise.resolve(0))();function pw(t){"undefined"==typeof Zone?DI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dh(!1),this.onMicrotaskEmpty=new Dh(!1),this.onStable=new Dh(!1),this.onError=new Dh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!d&&l,m.shouldCoalesceRunChangeDetection=d,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let t=Bn.requestAnimationFrame,i=Bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&i){const l=t[Zone.__symbol__("OriginalDelegate")];l&&(t=l);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(t){const i=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mw(t),t.isCheckStableRunning=!0,gw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,m,b,T,S)=>{try{return aD(t),l.invokeTask(m,b,T,S)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||t.shouldCoalesceRunChangeDetection)&&i(),uD(t)}},onInvoke:(l,d,m,b,T,S,O)=>{try{return aD(t),l.invoke(m,b,T,S,O)}finally{t.shouldCoalesceRunChangeDetection&&i(),uD(t)}},onHasTask:(l,d,m,b)=>{l.hasTask(m,b),d===m&&("microTask"==b.change?(t._hasPendingMicrotasks=b.microTask,mw(t),gw(t)):"macroTask"==b.change&&(t.hasPendingMacrotasks=b.macroTask))},onHandleError:(l,d,m,b)=>(l.handleError(m,b),t.runOutsideAngular(()=>t.onError.emit(b)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,l,d){return this._inner.run(i,l,d)}runTask(i,l,d,m){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+m,i,II,ig,ig);try{return b.runTask(T,l,d)}finally{b.cancelTask(T)}}runGuarded(i,l,d){return this._inner.runGuarded(i,l,d)}runOutsideAngular(i){return this._outer.run(i)}}const II={};function gw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function aD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uD(t){t._nesting--,gw(t)}class xI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dh,this.onMicrotaskEmpty=new Dh,this.onStable=new Dh,this.onError=new Dh}run(i,l,d){return i.apply(l,d)}runGuarded(i,l,d){return i.apply(l,d)}runOutsideAngular(i){return i()}runTask(i,l,d,m){return i.apply(l,d)}}let lD=(()=>{class t{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pl.assertNotInAngularZone(),pw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pw(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,m){let b=-1;d&&d>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:b,updateCb:m})}whenStable(l,d,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,m){return[]}}return t.\u0275fac=function(l){return new(l||t)(Xn(pl))},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})(),cD=(()=>{class t{constructor(){this._applications=new Map,yw.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return yw.findTestabilityInTree(this,l,d)}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})();class OI{addToWindow(i){}findTestabilityInTree(i,l,d){return null}}function PI(t){yw=t}let yw=new OI,dD=!0,hD=!1;function _w(){return hD=!0,dD}function RI(){if(hD)throw new Error("Cannot enable prod mode after platform setup.");dD=!1}let gd;const fD=new vr("AllowMultipleToken");class BI{constructor(i,l){this.name=i,this.token=l}}function pD(t,i,l=[]){const d=`Platform: ${i}`,m=new vr(d);return(b=[])=>{let T=gD();if(!T||T.injector.get(fD,!1))if(t)t(l.concat(b).concat({provide:m,useValue:!0}));else{const S=l.concat(b).concat({provide:m,useValue:!0},{provide:rd,useValue:"platform"});!function(t){if(gd&&!gd.destroyed&&!gd.injector.get(fD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gd=t.get(mD);const i=t.get(tD,null);i&&i.forEach(l=>l())}(En.create({providers:S,name:d}))}return function(t){const i=gD();if(!i)throw new Error("No platform exists!");if(!i.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(m)}}function gD(){return gd&&!gd.destroyed?gd:null}let mD=(()=>{class t{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const S=function(t,i){let l;return l="noop"===t?new xI:("zone.js"===t?void 0:t)||new pl({enableLongStackTrace:_w(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),O=[{provide:pl,useValue:S}];return S.run(()=>{const N=En.create({providers:O,parent:this.injector,name:l.moduleType.name}),j=l.create(N),Q=j.injector.get(Xi,null);if(!Q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return S.runOutsideAngular(()=>{const ee=S.onError.subscribe({next:ge=>{Q.handleError(ge)}});j.onDestroy(()=>{vw(this._modules,j),ee.unsubscribe()})}),function(t,i,l){try{const d=l();return iv(d)?d.catch(m=>{throw i.runOutsideAngular(()=>t.handleError(m)),m}):d}catch(d){throw i.runOutsideAngular(()=>t.handleError(d)),d}}(Q,S,()=>{const ee=j.injector.get(v_);return ee.runInitializers(),ee.donePromise.then(()=>(Ky(j.injector.get(fC,xm)||xm),this._moduleDoBootstrap(j),j))})})}bootstrapModule(l,d=[]){const m=yD({},d);return function(t,i,l){const d=new XE(l);return Promise.resolve(d)}(0,0,l).then(b=>this.bootstrapModuleFactory(b,m))}_moduleDoBootstrap(l){const d=l.injector.get(fb);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>d.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${se(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(l){return new(l||t)(Xn(En))},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})();function yD(t,i){return Array.isArray(i)?i.reduce(yD,t):Object.assign(Object.assign({},t),i)}let fb=(()=>{class t{constructor(l,d,m,b,T){this._zone=l,this._injector=d,this._exceptionHandler=m,this._componentFactoryResolver=b,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const S=new G.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),O=new G.y(N=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{pl.assertNotInAngularZone(),pw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{pl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{j.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,ae.T)(S,O.pipe((0,Ee.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=l instanceof i_?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(m.componentType);const b=function(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Vf),S=m.create(En.NULL,[],d||m.selector,b),O=S.location.nativeElement,N=S.injector.get(lD,null),j=N&&S.injector.get(cD);return N&&j&&j.registerApplication(O,N),S.onDestroy(()=>{this.detachView(S.hostView),vw(this.components,S),j&&j.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;vw(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(rD,[]).concat(this._bootstrapListeners).forEach(m=>m(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(l){return new(l||t)(Xn(pl),Xn(En),Xn(Xi),Xn(Lf),Xn(v_))},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})();function vw(t,i){const l=t.indexOf(i);l>-1&&t.splice(l,1)}class qI{}class KI{}const ZI={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let YI=(()=>{class t{constructor(l,d){this._compiler=l,this._config=d||ZI}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[d,m]=l.split("#");return void 0===m&&(m="default"),$(8255)(d).then(b=>b[m]).then(b=>CD(b,d,m)).then(b=>this._compiler.compileModuleAsync(b))}loadFactory(l){let[d,m]=l.split("#"),b="NgFactory";return void 0===m&&(m="default",b=""),$(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(T=>T[m+b]).then(T=>CD(T,d,m))}}return t.\u0275fac=function(l){return new(l||t)(Xn(hb),Xn(KI,8))},t.\u0275prov=dn({token:t,factory:t.\u0275fac}),t})();function CD(t,i,l){if(!t)throw new Error(`Cannot find '${l}' in '${i}'`);return t}const iA=function(t){return null},sA=pD(null,"core",[{provide:nD,useValue:"unknown"},{provide:mD,deps:[En]},{provide:cD,deps:[]},{provide:iD,deps:[]}]),dA=[{provide:fb,useClass:fb,deps:[pl,En,Xi,Lf,v_]},{provide:lS,deps:[pl],useFactory:function(t){let i=[];return t.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(l){i.push(l)}}},{provide:v_,useClass:v_,deps:[[new $o,dw]]},{provide:hb,useClass:hb,deps:[]},mI,{provide:c_,useFactory:function(){return xE},deps:[]},{provide:eb,useFactory:function(){return OE},deps:[]},{provide:fC,useFactory:function(t){return Ky(t=t||"undefined"!=typeof $localize&&$localize.locale||xm),t},deps:[[new Co(fC),new $o,new Eo]]},{provide:oD,useValue:"USD"}];let fA=(()=>{class t{constructor(l){}}return t.\u0275fac=function(l){return new(l||t)(Xn(fb))},t.\u0275mod=ss({type:t}),t.\u0275inj=Qe({providers:dA}),t})()},1562:(pt,Oe,$)=>{"use strict";$.d(Oe,{Qv:()=>nn});var B=$(7716);$(9765),$(5917),$(8891),$(4402),$(6682),$(7771),$(5319),$(6136),$(7971),$(8858),$(3190),$(8002),$(8049),$(3101),$(5435),$(57),$(8583);const nn=new B.OlP("angularfire2.auth.use-emulator")},4208:(pt,Oe,$)=>{"use strict";$.r(Oe),$.d(Oe,{AngularFireDatabase:()=>Qt,AngularFireDatabaseModule:()=>dn,URL:()=>it,USE_EMULATOR:()=>Tt,auditTrail:()=>qe,createListReference:()=>yt,fromRef:()=>Kt,listChanges:()=>Nn,snapshotChanges:()=>be,stateChanges:()=>De});var B=$(7716),v=$(3637),G=$(8891),ae=$(5917),Ee=$(6682),ne=$(8002),ve=$(8345),se=$(3190),ue=$(2145),re=$(7519),le=$(7057),te=$(6888),_e=$(57),ot=($(9192),$(1562)),ze=$(2329);function ht($e){return null==$e}function z($e){return"function"==typeof $e.set}function ft($e,Qe){return z(Qe)?Qe:$e.ref(Qe)}function et($e,Qe){if(function($e){return"string"==typeof $e}($e))return Qe.stringCase();if(z($e))return Qe.firebaseCase();if(function($e){return"function"==typeof $e.exportVal}($e))return Qe.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof $e)}function Kt($e,Qe,ct="on",Pt=v.z){return new G.y(Ut=>{let Xt=null;return Xt=$e[ct](Qe,(On,St)=>{Pt.schedule(()=>{Ut.next({snapshot:On,prevKey:St})}),"once"===ct&&Pt.schedule(()=>Ut.complete())},On=>{Pt.schedule(()=>Ut.error(On))}),"on"===ct?{unsubscribe(){null!=Xt&&$e.off(Qe,Xt)}}:{unsubscribe(){}}}).pipe((0,ne.U)(Ut=>{const{snapshot:Xt,prevKey:On}=Ut;let St=null;return Xt.exists()&&(St=Xt.key),{type:Qe,payload:Xt,prevKey:On,key:St}}),(0,ve.B)())}function Nn($e,Qe,ct){return Kt($e,"value","once",ct).pipe((0,se.w)(Pt=>{const Ut=[(0,ae.of)(Pt)];return Qe.forEach(Xt=>Ut.push(Kt($e,Xt,"on",ct))),(0,Ee.T)(...Ut).pipe((0,ue.R)(ye,[]))}),(0,re.x)())}function nn($e,Qe){const ct=$e.length;for(let Pt=0;Pt<ct;Pt++)if($e[Pt].payload.key===Qe)return Pt;return-1}function ye($e,Qe){const{payload:ct,prevKey:Pt,key:Ut}=Qe,Xt=nn($e,Ut),On=function($e,Qe){if(ht(Qe))return 0;{const ct=nn($e,Qe);return-1===ct?$e.length:ct+1}}($e,Pt);switch(Qe.type){case"value":if(Qe.payload&&Qe.payload.exists()){let St=null;Qe.payload.forEach(Et=>{const wn={payload:Et,type:"value",prevKey:St,key:Et.key};return St=Et.key,$e=[...$e,wn],!1})}return $e;case"child_added":if(Xt>-1){const St=$e[Xt-1];(St&&St.key||null)!==Pt&&($e=$e.filter(Et=>Et.payload.key!==ct.key)).splice(On,0,Qe)}else{if(null==Pt)return[Qe,...$e];($e=$e.slice()).splice(On,0,Qe)}return $e;case"child_removed":return $e.filter(St=>St.payload.key!==ct.key);case"child_changed":return $e.map(St=>St.payload.key===Ut?Qe:St);case"child_moved":if(Xt>-1){const St=$e.splice(Xt,1)[0];return($e=$e.slice()).splice(On,0,St),$e}return $e;default:return $e}}function Pe($e){return(ht($e)||0===$e.length)&&($e=["child_added","child_removed","child_changed","child_moved"]),$e}function be($e,Qe,ct){return Nn($e,Qe=Pe(Qe),ct)}function De($e,Qe,ct){const Pt=(Qe=Pe(Qe)).map(Ut=>Kt($e,Ut,"on",ct));return(0,Ee.T)(...Pt)}function qe($e,Qe,ct){return function($e,Qe,ct){return function($e,Qe){return Kt($e,"value","on",Qe).pipe((0,ne.U)(ct=>{let Pt;return ct.payload.forEach(Ut=>(Pt=Ut.key,!1)),{data:ct,lastKeyToLoad:Pt}}))}($e,ct).pipe((0,le.M)(Qe),(0,ne.U)(([Ut,Xt])=>{const On=Ut.lastKeyToLoad,St=Xt.map(Et=>Et.key);return{actions:Xt,lastKeyToLoad:On,loadedKeys:St}}),(0,te.n)(Ut=>-1===Ut.loadedKeys.indexOf(Ut.lastKeyToLoad)),(0,ne.U)(Ut=>Ut.actions))}($e,De($e,Qe).pipe((0,ue.R)((Ut,Xt)=>[...Ut,Xt],[])),ct)}function rt($e,Qe){return function(Pt,Ut){return et(Pt,{stringCase:()=>$e.child(Pt)[Qe](Ut),firebaseCase:()=>Pt[Qe](Ut),snapshotCase:()=>Pt.ref[Qe](Ut)})}}function jt($e){return function(ct){return ct?et(ct,{stringCase:()=>$e.child(ct).remove(),firebaseCase:()=>ct.remove(),snapshotCase:()=>ct.ref.remove()}):$e.remove()}}function yt($e,Qe){const ct=Qe.schedulers.outsideAngular,Pt=Qe.schedulers.ngZone.run(()=>$e.ref);return{query:$e,update:rt(Pt,"update"),set:rt(Pt,"set"),push:Ut=>Pt.push(Ut),remove:jt(Pt),snapshotChanges:Ut=>be($e,Ut,ct).pipe(Qe.keepUnstableUntilFirst),stateChanges:Ut=>De($e,Ut,ct).pipe(Qe.keepUnstableUntilFirst),auditTrail:Ut=>qe($e,Ut,ct).pipe(Qe.keepUnstableUntilFirst),valueChanges:(Ut,Xt)=>be($e,Ut,ct).pipe((0,ne.U)(St=>St.map(Et=>Xt&&Xt.idField?Object.assign(Object.assign({},Et.payload.val()),{[Xt.idField]:Et.key}):Et.payload.val())),Qe.keepUnstableUntilFirst)}}function _t($e,Qe){return function(){return Kt($e,"value","on",Qe)}}const it=new B.OlP("angularfire2.realtimeDatabaseURL"),Tt=new B.OlP("angularfire2.database.use-emulator");let Qt=(()=>{class $e{constructor(ct,Pt,Ut,Xt,On,St,Et){this.schedulers=new _e.\u0275AngularFireSchedulers(On),this.keepUnstableUntilFirst=(0,_e.\u0275keepUnstableUntilFirstFactory)(this.schedulers);const wn=St,gn=(0,_e.\u0275firebaseAppFactory)(ct,On,Pt);!ze.Z.auth&&Et&&(0,_e.\u0275logAuthEmulatorError)(),this.database=(0,_e.\u0275fetchInstance)(`${gn.name}.database.${Ut}`,"AngularFireDatabase",gn,()=>{const Je=On.runOutsideAngular(()=>gn.database(Ut||void 0));return wn&&Je.useEmulator(...wn),Je},[wn])}list(ct,Pt){const Ut=this.schedulers.ngZone.runOutsideAngular(()=>ft(this.database,ct));let Xt=Ut;return Pt&&(Xt=Pt(Ut)),yt(Xt,this)}object(ct){return function($e,Qe){return{query:$e,snapshotChanges:()=>_t($e,Qe.schedulers.outsideAngular)().pipe(Qe.keepUnstableUntilFirst),update:ct=>$e.ref.update(ct),set:ct=>$e.ref.set(ct),remove:()=>$e.ref.remove(),valueChanges:()=>_t($e,Qe.schedulers.outsideAngular)().pipe(Qe.keepUnstableUntilFirst,(0,ne.U)(Pt=>Pt.payload.exists()?Pt.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ft(this.database,ct)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return $e.\u0275fac=function(ct){return new(ct||$e)(B.LFG(_e.FIREBASE_OPTIONS),B.LFG(_e.FIREBASE_APP_NAME,8),B.LFG(it,8),B.LFG(B.Lbi),B.LFG(B.R0b),B.LFG(Tt,8),B.LFG(ot.Qv,8))},$e.\u0275prov=B.Yz7({factory:function(){return new $e(B.LFG(_e.FIREBASE_OPTIONS),B.LFG(_e.FIREBASE_APP_NAME,8),B.LFG(it,8),B.LFG(B.Lbi),B.LFG(B.R0b),B.LFG(Tt,8),B.LFG(ot.Qv,8))},token:$e,providedIn:"any"}),$e})(),dn=(()=>{class $e{}return $e.\u0275fac=function(ct){return new(ct||$e)},$e.\u0275mod=B.oAB({type:$e}),$e.\u0275inj=B.cJS({providers:[Qt]}),$e})()},6178:(pt,Oe,$)=>{"use strict";$.r(Oe),$.d(Oe,{AngularFirestore:()=>Af,AngularFirestoreCollection:()=>gh,AngularFirestoreCollectionGroup:()=>Sf,AngularFirestoreDocument:()=>Em,AngularFirestoreModule:()=>wm,ENABLE_PERSISTENCE:()=>qp,PERSISTENCE_SETTINGS:()=>Wp,SETTINGS:()=>Kp,USE_EMULATOR:()=>Vy,associateQuery:()=>If,combineChange:()=>zp,combineChanges:()=>Ly,docChanges:()=>fh,fromCollectionRef:()=>wf,fromDocRef:()=>ud,fromRef:()=>$p,sortedChanges:()=>ph,validateEventsArray:()=>Df});var B=$(7716),v=$(3637),G=$(8891),ae=$(4402),Ee=$(5917),ne=$(7393);function ve(){return o=>o.lift(new se)}class se{call(e,u){return u.subscribe(new ue(e))}}class ue extends ne.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let u;this.hasPrev?u=[this.prev,e]:this.hasPrev=!0,this.prev=e,u&&this.destination.next(u)}}var re=$(9761),le=$(8002),te=$(2145),_e=$(7519),Ne=$(5435),ot=$(6136),ze=$(57),at=$(8583),Ze=$(2329),ht=$(9759),z=$(4762),ft=$(4685),et=$(300),Kt=function(o,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(u[y]=h[y])})(o,e)};function nn(o){var e="function"==typeof Symbol&&Symbol.iterator,u=e&&o[e],h=0;if(u)return u.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&h>=o.length&&(o=void 0),{value:o&&o[h++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ye,xn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pe=Pe||{},be=xn||self;function De(){}function qe(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Re(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var rt="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function yt(o,e,u){return o.call.apply(o.bind,arguments)}function _t(o,e,u){if(!o)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,h),o.apply(e,y)}}return function(){return o.apply(e,arguments)}}function Ke(o,e,u){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yt:_t).apply(null,arguments)}function it(o,e){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),o.apply(this,h)}}function Tt(o,e){function u(){}u.prototype=e.prototype,o.Z=e.prototype,o.prototype=new u,o.prototype.constructor=o,o.Vb=function(h,y,E){for(var I=Array(arguments.length-2),x=2;x<arguments.length;x++)I[x-2]=arguments[x];return e.prototype[y].apply(h,I)}}function Qt(){this.s=this.s,this.o=this.o}var $e={};Qt.prototype.s=!1,Qt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var o=function(o){return Object.prototype.hasOwnProperty.call(o,rt)&&o[rt]||(o[rt]=++jt)}(this);delete $e[o]}},Qt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Qe=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(var u=0;u<o.length;u++)if(u in o&&o[u]===e)return u;return-1},ct=Array.prototype.forEach?function(o,e,u){Array.prototype.forEach.call(o,e,u)}:function(o,e,u){for(var h=o.length,y="string"==typeof o?o.split(""):o,E=0;E<h;E++)E in y&&e.call(u,y[E],E,o)};function Ut(o){return Array.prototype.concat.apply([],arguments)}function Xt(o){var e=o.length;if(0<e){for(var u=Array(e),h=0;h<e;h++)u[h]=o[h];return u}return[]}function On(o){return/^[\s\xa0]*$/.test(o)}var gn,St=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]};function Et(o,e){return-1!=o.indexOf(e)}function wn(o,e){return o<e?-1:o>e?1:0}e:{var Je=be.navigator;if(Je){var Fn=Je.userAgent;if(Fn){gn=Fn;break e}}gn=""}function Cr(o,e,u){for(var h in o)e.call(u,o[h],h,o)}function cr(o){var e={};for(var u in o)e[u]=o[u];return e}var Cs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa(o,e){for(var u,h,y=1;y<arguments.length;y++){for(u in h=arguments[y])o[u]=h[u];for(var E=0;E<Cs.length;E++)u=Cs[E],Object.prototype.hasOwnProperty.call(h,u)&&(o[u]=h[u])}}function zi(o){return zi[" "](o),o}zi[" "]=De;var Bn,o,_d=Et(gn,"Opera"),Wn=Et(gn,"Trident")||Et(gn,"MSIE"),At=Et(gn,"Edge"),Zt=At||Wn,yu=Et(gn,"Gecko")&&!(Et(gn.toLowerCase(),"webkit")&&!Et(gn,"Edge"))&&!(Et(gn,"Trident")||Et(gn,"MSIE"))&&!Et(gn,"Edge"),Hs=Et(gn.toLowerCase(),"webkit")&&!Et(gn,"Edge");function Fi(){var o=be.document;return o?o.documentMode:void 0}e:{var qi="",gl=(o=gn,yu?/rv:([^\);]+)(\)|;)/.exec(o):At?/Edge\/([\d\.]+)/.exec(o):Wn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Hs?/WebKit\/(\S+)/.exec(o):_d?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(gl&&(qi=gl?gl[1]:""),Wn){var jn=Fi();if(null!=jn&&jn>parseFloat(qi)){Bn=String(jn);break e}}Bn=qi}var fe={};function de(){return e=fe,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var o=0,e=St(String(Bn)).split("."),u=St("9").split("."),h=Math.max(e.length,u.length),y=0;0==o&&y<h;y++){var E=e[y]||"",I=u[y]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],0==E[0].length&&0==I[0].length)break;o=wn(0==E[1].length?0:parseInt(E[1],10),0==I[1].length?0:parseInt(I[1],10))||wn(0==E[2].length,0==I[2].length)||wn(E[2],I[2]),E=E[3],I=I[3]}while(0==o)}return 0<=o}();var e}var Ie=be.document&&Wn&&(Fi()||parseInt(Bn,10))||void 0,vt=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{be.addEventListener("test",De,e),be.removeEventListener("test",De,e)}catch(u){}return o}();function It(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}function hn(o,e){if(It.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var u=this.type=o.type,h=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(yu){e:{try{zi(e.nodeName);var y=!0;break e}catch(E){}y=!1}y||(e=null)}}else"mouseover"==u?e=o.fromElement:"mouseout"==u&&(e=o.toElement);this.relatedTarget=e,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:Gn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&hn.Z.h.call(this)}}It.prototype.h=function(){this.defaultPrevented=!0},Tt(hn,It);var Gn={2:"touch",3:"pen",4:"mouse"};hn.prototype.h=function(){hn.Z.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Dn="closure_listenable_"+(1e6*Math.random()|0),ui=0;function li(o,e,u,h,y){this.listener=o,this.proxy=null,this.src=e,this.type=u,this.capture=!!h,this.ia=y,this.key=++ui,this.ca=this.fa=!1}function Or(o){o.ca=!0,o.listener=null,o.proxy=null,o.src=null,o.ia=null}function Oo(o){this.src=o,this.g={},this.h=0}function ss(o,e){var u=e.type;if(u in o.g){var E,h=o.g[u],y=Qe(h,e);(E=0<=y)&&Array.prototype.splice.call(h,y,1),E&&(Or(e),0==o.g[u].length&&(delete o.g[u],o.h--))}}function mc(o,e,u,h){for(var y=0;y<o.length;++y){var E=o[y];if(!E.ca&&E.listener==e&&E.capture==!!u&&E.ia==h)return y}return-1}Oo.prototype.add=function(o,e,u,h,y){var E=o.toString();(o=this.g[E])||(o=this.g[E]=[],this.h++);var I=mc(o,e,h,y);return-1<I?(e=o[I],u||(e.fa=!1)):((e=new li(e,this.src,E,!!h,y)).fa=u,o.push(e)),e};var Ma="closure_lm_"+(1e6*Math.random()|0),ml={};function vd(o,e,u,h,y){if(h&&h.once)return Pr(o,e,u,h,y);if(Array.isArray(e)){for(var E=0;E<e.length;E++)vd(o,e[E],u,h,y);return null}return u=Qr(u),o&&o[Dn]?o.N(e,u,Re(h)?!!h.capture:!!h,y):Ur(o,e,u,!1,h,y)}function Ur(o,e,u,h,y,E){if(!e)throw Error("Invalid event type");var I=Re(y)?!!y.capture:!!y,x=mn(o);if(x||(o[Ma]=x=new Oo(o)),(u=x.add(e,u,h,I,E)).proxy)return u;if(h=function(){var e=Dt;return function o(u){return e.call(o.src,o.listener,u)}}(),u.proxy=h,h.src=o,h.listener=u,o.addEventListener)vt||(y=I),void 0===y&&(y=!1),o.addEventListener(e.toString(),h,y);else if(o.attachEvent)o.attachEvent(Yr(e.toString()),h);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(h)}return u}function Pr(o,e,u,h,y){if(Array.isArray(e)){for(var E=0;E<e.length;E++)Pr(o,e[E],u,h,y);return null}return u=Qr(u),o&&o[Dn]?o.O(e,u,Re(h)?!!h.capture:!!h,y):Ur(o,e,u,!0,h,y)}function ki(o,e,u,h,y){if(Array.isArray(e))for(var E=0;E<e.length;E++)ki(o,e[E],u,h,y);else h=Re(h)?!!h.capture:!!h,u=Qr(u),o&&o[Dn]?(o=o.i,(e=String(e).toString())in o.g&&-1<(u=mc(E=o.g[e],u,h,y))&&(Or(E[u]),Array.prototype.splice.call(E,u,1),0==E.length&&(delete o.g[e],o.h--))):o&&(o=mn(o))&&(e=o.g[e.toString()],o=-1,e&&(o=mc(e,u,h,y)),(u=-1<o?e[o]:null)&&_u(u))}function _u(o){if("number"!=typeof o&&o&&!o.ca){var e=o.src;if(e&&e[Dn])ss(e.i,o);else{var u=o.type,h=o.proxy;e.removeEventListener?e.removeEventListener(u,h,o.capture):e.detachEvent?e.detachEvent(Yr(u),h):e.addListener&&e.removeListener&&e.removeListener(h),(u=mn(e))?(ss(u,o),0==u.h&&(u.src=null,e[Ma]=null)):Or(o)}}}function Yr(o){return o in ml?ml[o]:ml[o]="on"+o}function Dt(o,e){if(o.ca)o=!0;else{e=new hn(e,this);var u=o.listener,h=o.ia||o.src;o.fa&&_u(o),o=u.call(h,e)}return o}function mn(o){return(o=o[Ma])instanceof Oo?o:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qr(o){return"function"==typeof o?o:(o[Hn]||(o[Hn]=function(e){return o.handleEvent(e)}),o[Hn])}function fr(){Qt.call(this),this.i=new Oo(this),this.P=this,this.I=null}function An(o,e){var u,h=o.I;if(h)for(u=[];h;h=h.I)u.push(h);if(o=o.P,h=e.type||e,"string"==typeof e)e=new It(e,o);else if(e instanceof It)e.target=e.target||o;else{var y=e;Aa(e=new It(h,o),y)}if(y=!0,u)for(var E=u.length-1;0<=E;E--){var I=e.g=u[E];y=so(I,h,!0,e)&&y}if(y=so(I=e.g=o,h,!0,e)&&y,y=so(I,h,!1,e)&&y,u)for(E=0;E<u.length;E++)y=so(I=e.g=u[E],h,!1,e)&&y}function so(o,e,u,h){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var y=!0,E=0;E<e.length;++E){var I=e[E];if(I&&!I.ca&&I.capture==u){var x=I.listener,L=I.ia||I.src;I.fa&&ss(o.i,I),y=!1!==x.call(L,h)&&y}}return y&&!h.defaultPrevented}Tt(fr,Qt),fr.prototype[Dn]=!0,fr.prototype.removeEventListener=function(o,e,u,h){ki(this,o,e,u,h)},fr.prototype.M=function(){if(fr.Z.M.call(this),this.i){var e,o=this.i;for(e in o.g){for(var u=o.g[e],h=0;h<u.length;h++)Or(u[h]);delete o.g[e],o.h--}}this.I=null},fr.prototype.N=function(o,e,u,h){return this.i.add(String(o),e,!1,u,h)},fr.prototype.O=function(o,e,u,h){return this.i.add(String(o),e,!0,u,h)};var pr=be.JSON.stringify;function vu(){var o=qs,e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var Ot,$s=function(){function o(){this.h=this.g=null}return o.prototype.add=function(e,u){var h=en.get();h.set(e,u),this.h?this.h.next=h:this.g=h,this.h=h},o}(),en=new(function(){function o(e,u){this.i=e,this.j=u,this.h=0,this.g=null}return o.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},o}())(function(){return new yr},function(o){return o.reset()}),yr=function(){function o(){this.next=this.g=this.h=null}return o.prototype.set=function(e,u){this.h=e,this.g=u,this.next=null},o.prototype.reset=function(){this.next=this.g=this.h=null},o}();function Es(o){be.setTimeout(function(){throw o},0)}function nr(o,e){Ot||function(){var o=be.Promise.resolve(void 0);Ot=function(){o.then(yn)}}(),zs||(Ot(),zs=!0),qs.add(o,e)}var zs=!1,qs=new $s;function yn(){for(var o;o=vu();){try{o.h.call(o.g)}catch(u){Es(u)}var e=en;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}zs=!1}function xt(o,e){fr.call(this),this.h=o||1,this.g=e||be,this.j=Ke(this.kb,this),this.l=Date.now()}function rn(o){o.da=!1,o.S&&(o.g.clearTimeout(o.S),o.S=null)}function Po(o,e,u){if("function"==typeof o)u&&(o=Ke(o,u));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Ke(o.handleEvent,o)}return 2147483647<Number(e)?-1:be.setTimeout(o,e||0)}function kn(o){o.g=Po(function(){o.g=null,o.i&&(o.i=!1,kn(o))},o.j);var e=o.h;o.h=null,o.m.apply(null,e)}Tt(xt,fr),(ye=xt.prototype).da=!1,ye.S=null,ye.kb=function(){if(this.da){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-o):(this.S&&(this.g.clearTimeout(this.S),this.S=null),An(this,"tick"),this.da&&(rn(this),this.start()))}},ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.M=function(){xt.Z.M.call(this),rn(this),delete this.g};var yl=function(o){function e(u,h){var y=o.call(this)||this;return y.m=u,y.j=h,y.h=null,y.i=!1,y.g=null,y}return function(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function u(){this.constructor=o}Kt(o,e),o.prototype=null===e?Object.create(e):(u.prototype=e.prototype,new u)}(e,o),e.prototype.l=function(u){this.h=arguments,this.g?this.i=!0:kn(this)},e.prototype.M=function(){o.prototype.M.call(this),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Qt);function as(o){Qt.call(this),this.h=o,this.g={}}Tt(as,Qt);var Ro=[];function ao(o,e,u,h){Array.isArray(u)||(u&&(Ro[0]=u.toString()),u=Ro);for(var y=0;y<u.length;y++){var E=vd(e,u[y],h||o.handleEvent,!1,o.h||o);if(!E)break;o.g[E.key]=E}}function _n(o){Cr(o.g,function(e,u){this.g.hasOwnProperty(u)&&_u(e)},o),o.g={}}function un(){this.g=!0}function us(o,e,u,h){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(o,e){if(!o.g)return e;if(!e)return null;try{var u=JSON.parse(e);if(u)for(o=0;o<u.length;o++)if(Array.isArray(u[o])){var h=u[o];if(!(2>h.length)){var y=h[1];if(Array.isArray(y)&&!(1>y.length)){var E=y[0];if("noop"!=E&&"stop"!=E&&"close"!=E)for(var I=1;I<y.length;I++)y[I]=""}}}return pr(u)}catch(x){return e}}(o,u)+(h?" "+h:"")})}as.prototype.M=function(){as.Z.M.call(this),_n(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},un.prototype.Aa=function(){this.g=!1},un.prototype.info=function(){};var ci={},lo=null;function _c(){return lo=lo||new fr}function Ws(o){It.call(this,ci.Ma,o)}function _l(o){var e=_c();An(e,new Ws(e,o))}function vl(o,e){It.call(this,ci.STAT_EVENT,o),this.stat=e}function Li(o){var e=_c();An(e,new vl(e,o))}function zf(o,e){It.call(this,ci.Na,o),this.size=e}function bl(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){o()},e)}ci.Ma="serverreachability",Tt(Ws,It),ci.STAT_EVENT="statevent",Tt(vl,It),ci.Na="timingevent",Tt(zf,It);var bd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sh(){}function xa(){}Sh.prototype.h=null;var Cd,bn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cl(){It.call(this,"d")}function El(){It.call(this,"c")}function Wi(){}function ws(o,e,u,h){this.l=o,this.j=e,this.m=u,this.X=h||1,this.V=new as(this),this.P=cg,this.W=new xt(o=Zt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}Tt(Cl,It),Tt(El,It),Tt(Wi,Sh),Wi.prototype.g=function(){return new XMLHttpRequest},Wi.prototype.i=function(){return{}},Cd=new Wi;var cg=45e3,co={},wl={};function No(o,e,u){o.K=1,o.v=Mt(q(e)),o.s=u,o.U=!0,vc(o,null)}function vc(o,e){o.F=Date.now(),bu(o),o.A=q(o.v);var u=o.A,h=o.X;Array.isArray(h)||(h=[String(h)]),xh(u.h,"t",h),o.C=0,u=o.l.H,o.h=new Vi,o.g=vo(o.l,u?e:null,!o.s),0<o.O&&(o.L=new yl(Ke(o.Ia,o,o.g),o.O)),ao(o.V,o.g,"readystatechange",o.gb),e=o.H?cr(o.H):{},o.s?(o.u||(o.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.s,e)):(o.u="GET",o.g.ea(o.A,o.u,null,e)),_l(1),function(o,e,u,h,y,E){o.info(function(){if(o.g)if(E)for(var I="",x=E.split("&"),L=0;L<x.length;L++){var H=x[L].split("=");if(1<H.length){var K=H[0];H=H[1];var ie=K.split("_");I=2<=ie.length&&"type"==ie[1]?I+(K+"=")+H+"&":I+(K+"=redacted&")}}else I=null;else I=E;return"XMLHTTP REQ ("+h+") [attempt "+y+"]: "+e+"\n"+u+"\n"+I})}(o.j,o.u,o.A,o.m,o.X,o.s)}function bc(o){return!!o.g&&"GET"==o.u&&2!=o.K&&o.l.Ba}function Tl(o,e,u){for(var y,h=!0;!o.I&&o.C<u.length;){if((y=Ah(o,u))==wl){4==e&&(o.o=4,Li(14),h=!1),us(o.j,o.m,null,"[Incomplete Response]");break}if(y==co){o.o=4,Li(15),us(o.j,o.m,u,"[Invalid Chunk]"),h=!1;break}us(o.j,o.m,y,null),Mh(o,y)}bc(o)&&y!=wl&&y!=co&&(o.h.g="",o.C=0),4!=e||0!=u.length||o.h.h||(o.o=1,Li(16),h=!1),o.i=o.i&&h,h?0<u.length&&!o.aa&&(o.aa=!0,(e=o.l).g==o&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+u.length),Lo(e),e.L=!0,Li(11))):(us(o.j,o.m,u,"[Invalid Chunked Response]"),Zs(o),Eu(o))}function Ah(o,e){var u=o.C,h=e.indexOf("\n",u);return-1==h?wl:(u=Number(e.substring(u,h)),isNaN(u)?co:(h+=1)+u>e.length?wl:(e=e.substr(h,u),o.C=h+u,e))}function bu(o){o.Y=Date.now()+o.P,Ks(o,o.P)}function Ks(o,e){if(null!=o.B)throw Error("WatchDog timer not null");o.B=bl(Ke(o.eb,o),e)}function Cu(o){o.B&&(be.clearTimeout(o.B),o.B=null)}function Eu(o){0==o.l.G||o.I||_o(o.l,o)}function Zs(o){Cu(o);var e=o.L;e&&"function"==typeof e.na&&e.na(),o.L=null,rn(o.W),_n(o.V),o.g&&(e=o.g,o.g=null,e.abort(),e.na())}function Mh(o,e){try{var u=o.l;if(0!=u.G&&(u.g==o||Rr(u.i,o)))if(u.I=o.N,!o.J&&Rr(u.i,o)&&3==u.G){try{var h=u.Ca.g.parse(e)}catch(ut){h=null}if(Array.isArray(h)&&3==h.length){var y=h;if(0==y[0])e:if(u.u)u.ta=y[1],0<u.ta-u.U&&37500>y[2]&&u.N&&0==u.A&&!u.v&&(u.v=bl(Ke(u.ab,u),6e3));else{if(u.g){if(!(u.g.F+3e3<o.F))break e;yo(u),Ai(u)}Au(u),Li(18)}if(1>=Oh(u.i)&&u.ka){try{u.ka()}catch(ut){}u.ka=void 0}}else ti(u,11)}else if((o.J||u.g==o)&&yo(u),!On(e))for(y=u.Ca.g.parse(e),e=0;e<y.length;e++){var E=y[e];if(u.U=E[0],E=E[1],2==u.G)if("c"==E[0]){u.J=E[1],u.la=E[2];var I=E[3];null!=I&&(u.ma=I,u.h.info("VER="+u.ma));var x=E[4];null!=x&&(u.za=x,u.h.info("SVER="+u.za));var L=E[5];null!=L&&"number"==typeof L&&0<L&&(u.K=h=1.5*L,u.h.info("backChannelRequestTimeoutMs_="+h)),h=u;var H=o.g;if(H){var K=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var ie=h.i;!ie.g&&(Et(K,"spdy")||Et(K,"quic")||Et(K,"h2"))&&(ie.j=ie.l,ie.g=new Set,ie.h&&(Cc(ie,ie.h),ie.h=null))}if(h.D){var pe=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;pe&&(h.sa=pe,Le(h.F,h.D,pe))}}u.G=3,u.j&&u.j.xa(),u.$&&(u.O=Date.now()-o.F,u.h.info("Handshake RTT: "+u.O+"ms"));var Te=o;if((h=u).oa=Zf(h,h.H?h.la:null,h.W),Te.J){Ec(h.i,Te);var Ae=Te,Ue=h.K;Ue&&Ae.setTimeout(Ue),Ae.B&&(Cu(Ae),bu(Ae)),h.g=Te}else Ra(h);0<u.l.length&&Ds(u)}else"stop"!=E[0]&&"close"!=E[0]||ti(u,7);else 3==u.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?ti(u,7):Fr(u):"noop"!=E[0]&&u.j&&u.j.wa(E),u.A=0)}_l(4)}catch(ut){}}function Kn(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(qe(o)||"string"==typeof o)ct(o,e,void 0);else{if(o.T&&"function"==typeof o.T)var u=o.T();else if(o.R&&"function"==typeof o.R)u=void 0;else if(qe(o)||"string"==typeof o){u=[];for(var h=o.length,y=0;y<h;y++)u.push(y)}else for(y in u=[],h=0,o)u[h++]=y;y=(h=function(o){if(o.R&&"function"==typeof o.R)return o.R();if("string"==typeof o)return o.split("");if(qe(o)){for(var e=[],u=o.length,h=0;h<u;h++)e.push(o[h]);return e}for(h in e=[],u=0,o)e[u++]=o[h];return e}(o)).length;for(var E=0;E<y;E++)e.call(void 0,h[E],u&&u[E],o)}}function Oa(o,e){this.h={},this.g=[],this.i=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(o)if(o instanceof Oa)for(u=o.T(),h=0;h<u.length;h++)this.set(u[h],o.get(u[h]));else for(h in o)this.set(h,o[h])}function wu(o){if(o.i!=o.g.length){for(var e=0,u=0;e<o.g.length;){var h=o.g[e];ls(o.h,h)&&(o.g[u++]=h),e++}o.g.length=u}if(o.i!=o.g.length){var y={};for(u=e=0;e<o.g.length;)ls(y,h=o.g[e])||(o.g[u++]=h,y[h]=1),e++;o.g.length=u}}function ls(o,e){return Object.prototype.hasOwnProperty.call(o,e)}(ye=ws.prototype).setTimeout=function(o){this.P=o},ye.gb=function(o){o=o.target;var e=this.L;e&&3==di(o)?e.l():this.Ia(o)},ye.Ia=function(o){try{if(o==this.g)e:{var e=di(this.g),u=this.g.Da(),h=this.g.ba();if(!(3>e)&&(3!=e||Zt||this.g&&(this.h.h||this.g.ga()||Fh(this.g)))){this.I||4!=e||7==u||_l(8==u||0>=h?3:2),Cu(this);var y=this.g.ba();this.N=y;t:if(bc(this)){var E=Fh(this.g);o="";var I=E.length,x=4==di(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Zs(this),Eu(this);var L="";break t}this.h.i=new be.TextDecoder}for(u=0;u<I;u++)this.h.h=!0,o+=this.h.i.decode(E[u],{stream:x&&u==I-1});E.splice(0,I),this.h.g+=o,this.C=0,L=this.h.g}else L=this.g.ga();if(this.i=200==y,function(o,e,u,h,y,E,I){o.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+y+"]: "+e+"\n"+u+"\n"+E+" "+I})}(this.j,this.u,this.A,this.m,this.X,e,y),this.i){if(this.$&&!this.J){t:{if(this.g){var H,K=this.g;if((H=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!On(H)){var ie=H;break t}}ie=null}if(!(y=ie)){this.i=!1,this.o=3,Li(12),Zs(this),Eu(this);break e}us(this.j,this.m,y,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mh(this,y)}this.U?(Tl(this,e,L),Zt&&this.i&&3==e&&(ao(this.V,this.W,"tick",this.fb),this.W.start())):(us(this.j,this.m,L,null),Mh(this,L)),4==e&&Zs(this),this.i&&!this.I&&(4==e?_o(this.l,this):(this.i=!1,bu(this)))}else 400==y&&0<L.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),Zs(this),Eu(this)}}}catch(pe){}},ye.fb=function(){if(this.g){var o=di(this.g),e=this.g.ga();this.C<e.length&&(Cu(this),Tl(this,o,e),this.i&&4!=o&&bu(this))}},ye.cancel=function(){this.I=!0,Zs(this)},ye.eb=function(){this.B=null;var o=Date.now();0<=o-this.Y?(function(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_l(3),Li(17)),Zs(this),this.o=2,Eu(this)):Ks(this,this.Y-o)},(ye=Oa.prototype).R=function(){wu(this);for(var o=[],e=0;e<this.g.length;e++)o.push(this.h[this.g[e]]);return o},ye.T=function(){return wu(this),this.g.concat()},ye.get=function(o,e){return ls(this.h,o)?this.h[o]:e},ye.set=function(o,e){ls(this.h,o)||(this.i++,this.g.push(o)),this.h[o]=e},ye.forEach=function(o,e){for(var u=this.T(),h=0;h<u.length;h++){var y=u[h],E=this.get(y);o.call(e,E,y,this)}};var Dl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function k(o,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,o instanceof k){this.g=void 0!==e?e:o.g,F(this,o.j),this.s=o.s,J(this,o.i),he(this,o.m),this.l=o.l,e=o.h;var u=new Xr;u.i=e.i,e.g&&(u.g=new Oa(e.g),u.h=e.h),Be(this,u),this.o=o.o}else o&&(u=String(o).match(Dl))?(this.g=!!e,F(this,u[1]||"",!0),this.s=Pn(u[2]||""),J(this,u[3]||"",!0),he(this,u[4]),this.l=Pn(u[5]||"",!0),Be(this,u[6]||"",!0),this.o=Pn(u[7]||"")):(this.g=!!e,this.h=new Xr(null,this.g))}function q(o){return new k(o)}function F(o,e,u){o.j=u?Pn(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function J(o,e,u){o.i=u?Pn(e,!0):e}function he(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function Be(o,e,u){e instanceof Xr?(o.h=e,function(o,e){e&&!o.j&&(Nt(o),o.i=null,o.g.forEach(function(u,h){var y=h.toLowerCase();h!=y&&(Pa(this,h),xh(this,y,u))},o)),o.j=e}(o.h,o.g)):(u||(e=on(e,Ii)),o.h=new Xr(e,o.g))}function Le(o,e,u){o.h.set(e,u)}function Mt(o){return Le(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Pn(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function on(o,e,u){return"string"==typeof o?(o=encodeURI(o).replace(e,Zn),u&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Zn(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}k.prototype.toString=function(){var o=[],e=this.j;e&&o.push(on(e,ir,!0),":");var u=this.i;return(u||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(on(e,ir,!0),"@"),o.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(u=this.m)&&o.push(":",String(u))),(u=this.l)&&(this.i&&"/"!=u.charAt(0)&&o.push("/"),o.push(on(u,"/"==u.charAt(0)?Tu:Jr,!0))),(u=this.h.toString())&&o.push("?",u),(u=this.o)&&o.push("#",on(u,Du)),o.join("")};var ir=/[#\/\?@]/g,Jr=/[#\?:]/g,Tu=/[#\?]/g,Ii=/[#\?@]/g,Du=/#/g;function Xr(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function Nt(o){o.g||(o.g=new Oa,o.h=0,o.i&&function(o,e){if(o){o=o.split("&");for(var u=0;u<o.length;u++){var h=o[u].indexOf("="),y=null;if(0<=h){var E=o[u].substring(0,h);y=o[u].substring(h+1)}else E=o[u];e(E,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}(o.i,function(e,u){o.add(decodeURIComponent(e.replace(/\+/g," ")),u)}))}function Pa(o,e){Nt(o),e=Il(o,e),ls(o.g.h,e)&&(o.i=null,o.h-=o.g.get(e).length,ls((o=o.g).h,e)&&(delete o.h[e],o.i--,o.g.length>2*o.i&&wu(o)))}function Ed(o,e){return Nt(o),e=Il(o,e),ls(o.g.h,e)}function xh(o,e,u){Pa(o,e),0<u.length&&(o.i=null,o.g.set(Il(o,e),Xt(u)),o.h+=u.length)}function Il(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}(ye=Xr.prototype).add=function(o,e){Nt(this),this.i=null,o=Il(this,o);var u=this.g.get(o);return u||this.g.set(o,u=[]),u.push(e),this.h+=1,this},ye.forEach=function(o,e){Nt(this),this.g.forEach(function(u,h){ct(u,function(y){o.call(e,y,h,this)},this)},this)},ye.T=function(){Nt(this);for(var o=this.g.R(),e=this.g.T(),u=[],h=0;h<e.length;h++)for(var y=o[h],E=0;E<y.length;E++)u.push(e[h]);return u},ye.R=function(o){Nt(this);var e=[];if("string"==typeof o)Ed(this,o)&&(e=Ut(e,this.g.get(Il(this,o))));else{o=this.g.R();for(var u=0;u<o.length;u++)e=Ut(e,o[u])}return e},ye.set=function(o,e){return Nt(this),this.i=null,Ed(this,o=Il(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},ye.get=function(o,e){return o&&0<(o=this.R(o)).length?String(o[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var o=[],e=this.g.T(),u=0;u<e.length;u++){var h=e[u],y=encodeURIComponent(String(h));h=this.R(h);for(var E=0;E<h.length;E++){var I=y;""!==h[E]&&(I+="="+encodeURIComponent(String(h[E]))),o.push(I)}}return this.i=o.join("&")};var hg=function(e,u){this.h=e,this.g=u};function fg(o){this.l=o||Ye,o=be.PerformanceNavigationTiming?0<(o=be.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(be.g&&be.g.Ea&&be.g.Ea()&&be.g.Ea().Zb),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ye=10;function Ln(o){return!!o.h||!!o.g&&o.g.size>=o.j}function Oh(o){return o.h?1:o.g?o.g.size:0}function Rr(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Cc(o,e){o.g?o.g.add(e):o.h=e}function Ec(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function ho(o){var e,u;if(null!=o.h)return o.i.concat(o.h.D);if(null!=o.g&&0!==o.g.size){var h=o.i;try{for(var y=nn(o.g.values()),E=y.next();!E.done;E=y.next())h=h.concat(E.value.D)}catch(x){e={error:x}}finally{try{E&&!E.done&&(u=y.return)&&u.call(y)}finally{if(e)throw e.error}}return h}return Xt(o.i)}function wc(){}function Ph(){this.g=new wc}function D_(o,e,u){var h=u||"";try{Kn(o,function(y,E){var I=y;Re(y)&&(I=pr(y)),e.push(h+E+"="+encodeURIComponent(I))})}catch(y){throw e.push(h+"type="+encodeURIComponent("_badmap")),y}}function Ys(o,e,u,h,y){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,y(h)}catch(E){}}function ko(o){this.l=o.$b||null,this.j=o.ib||!1}function Br(o,e){fr.call(this),this.D=o,this.u=e,this.m=void 0,this.readyState=fo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fg.prototype.cancel=function(){var o,e;if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var u=nn(this.g.values()),h=u.next();!h.done;h=u.next())h.value.cancel()}catch(E){o={error:E}}finally{try{h&&!h.done&&(e=u.return)&&e.call(u)}finally{if(o)throw o.error}}this.g.clear()}},wc.prototype.stringify=function(o){return be.JSON.stringify(o,void 0)},wc.prototype.parse=function(o){return be.JSON.parse(o,void 0)},Tt(ko,Sh),ko.prototype.g=function(){return new Br(this.l,this.j)},ko.prototype.i=function(o){return function(){return o}}({}),Tt(Br,fr);var fo=0;function Wf(o){o.j.read().then(o.Sa.bind(o)).catch(o.ha.bind(o))}function Ts(o){o.readyState=4,o.l=null,o.j=null,o.A=null,po(o)}function po(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(ye=Br.prototype).open=function(o,e){if(this.readyState!=fo)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,po(this)},ye.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.D||be).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ts(this)),this.readyState=fo},ye.Va=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==be.ReadableStream&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wf(this)}else o.text().then(this.Ua.bind(this),this.ha.bind(this))},ye.Sa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?Ts(this):po(this),3==this.readyState&&Wf(this)}},ye.Ua=function(o){this.g&&(this.response=this.responseText=o,Ts(this))},ye.Ta=function(o){this.g&&(this.response=o,Ts(this))},ye.ha=function(){this.g&&Ts(this)},ye.setRequestHeader=function(o,e){this.v.append(o,e)},ye.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";for(var o=[],e=this.h.entries(),u=e.next();!u.done;)o.push((u=u.value)[0]+": "+u[1]),u=e.next();return o.join("\r\n")},Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var Ym=be.JSON.parse;function Nr(o){fr.call(this),this.headers=new Oa,this.u=o||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pg,this.K=this.L=!1}Tt(Nr,fr);var pg="",Qm=/^https?$/i,go=["POST","PUT"];function Rh(o){return"content-type"==o.toLowerCase()}function Tc(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,gg(o),Qs(o)}function gg(o){o.D||(o.D=!0,An(o,"complete"),An(o,"error"))}function Nh(o){if(o.h&&void 0!==Pe&&(!o.C[1]||4!=di(o)||2!=o.ba()))if(o.v&&4==di(o))Po(o.Fa,0,o);else if(An(o,"readystatechange"),4==di(o)){o.h=!1;try{var h,e=o.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}if(!(h=u)){var y;if(y=0===e){var E=String(o.H).match(Dl)[1]||null;if(!E&&be.self&&be.self.location){var I=be.self.location.protocol;E=I.substr(0,I.length-1)}y=!Qm.test(E?E.toLowerCase():"")}h=y}if(h)An(o,"complete"),An(o,"success");else{o.m=6;try{var x=2<di(o)?o.g.statusText:""}catch(L){x=""}o.j=x+" ["+o.ba()+"]",gg(o)}}finally{Qs(o)}}}function Qs(o,e){if(o.g){Td(o);var u=o.g,h=o.C[0]?De:null;o.g=null,o.C=null,e||An(o,"ready");try{u.onreadystatechange=h}catch(y){}}}function Td(o){o.g&&o.K&&(o.g.ontimeout=null),o.A&&(be.clearTimeout(o.A),o.A=null)}function di(o){return o.g?o.g.readyState:0}function Fh(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.J){case pg:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mo(o,e,u){e:{for(h in u){var h=!1;break e}h=!0}h||(u=function(o){var e="";return Cr(o,function(u,h){e+=h,e+=":",e+=u,e+="\r\n"}),e}(u),"string"==typeof o?null!=u&&encodeURIComponent(String(u)):Le(o,e,u))}function Dc(o,e,u){return u&&u.internalChannelParams&&u.internalChannelParams[o]||e}function Kf(o){this.za=0,this.l=[],this.h=new un,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dc("failFast",!1,o),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dc("baseRetryDelayMs",5e3,o),this.$a=Dc("retryDelaySeedMs",1e4,o),this.Ya=Dc("forwardChannelMaxRetries",2,o),this.ra=Dc("forwardChannelRequestTimeoutMs",2e4,o),this.qa=o&&o.xmlHttpFactory||void 0,this.Ba=o&&o.Yb||!1,this.K=void 0,this.H=o&&o.supportsCrossDomainXhr||!1,this.J="",this.i=new fg(o&&o.concurrentRequestLimit),this.Ca=new Ph,this.ja=o&&o.fastHandshake||!1,this.Ra=o&&o.Wb||!1,o&&o.Aa&&this.h.Aa(),o&&o.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&o&&o.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!o||!1!==o.Xb}function Fr(o){if(Qn(o),3==o.G){var e=o.V++,u=q(o.F);Le(u,"SID",o.J),Le(u,"RID",e),Le(u,"TYPE","terminate"),hi(o,u),(e=new ws(o,o.h,e,void 0)).K=2,e.v=Mt(q(u)),u=!1,be.navigator&&be.navigator.sendBeacon&&(u=be.navigator.sendBeacon(e.v.toString(),"")),!u&&be.Image&&((new Image).src=e.v,u=!0),u||(e.g=vo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bu(e)}Na(o)}function Ai(o){o.g&&(Lo(o),o.g.cancel(),o.g=null)}function Qn(o){Ai(o),o.u&&(be.clearTimeout(o.u),o.u=null),yo(o),o.i.cancel(),o.m&&("number"==typeof o.m&&be.clearTimeout(o.m),o.m=null)}function Js(o,e){o.l.push(new hg(o.Za++,e)),3==o.G&&Ds(o)}function Ds(o){Ln(o.i)||o.m||(o.m=!0,nr(o.Ha,o),o.C=0)}function Iu(o,e){var u;u=e?e.m:o.V++;var h=q(o.F);Le(h,"SID",o.J),Le(h,"RID",u),Le(h,"AID",o.U),hi(o,h),o.o&&o.s&&mo(h,o.o,o.s),u=new ws(o,o.h,u,o.C+1),null===o.o&&(u.H=o.s),e&&(o.l=e.D.concat(o.l)),e=Ss(o,u,1e3),u.setTimeout(Math.round(.5*o.ra)+Math.round(.5*o.ra*Math.random())),Cc(o.i,u),No(u,h,e)}function hi(o,e){o.j&&Kn({},function(u,h){Le(e,h,u)})}function Ss(o,e,u){u=Math.min(o.l.length,u);var h=o.j?Ke(o.j.Oa,o.j,o):null;e:for(var y=o.l,E=-1;;){var I=["count="+u];-1==E?0<u?I.push("ofs="+(E=y[0].h)):E=0:I.push("ofs="+E);for(var x=!0,L=0;L<u;L++){var H=y[L].h,K=y[L].g;if(0>(H-=E))E=Math.max(0,y[L].h-100),x=!1;else try{D_(K,I,"req"+H+"_")}catch(ie){h&&h(K)}}if(x){h=I.join("&");break e}}return o=o.l.splice(0,u),e.D=o,h}function Ra(o){o.g||o.u||(o.Y=1,nr(o.Ga,o),o.A=0)}function Au(o){return!(o.g||o.u||3<=o.A||(o.Y++,o.u=bl(Ke(o.Ga,o),ei(o,o.A)),o.A++,0))}function Lo(o){null!=o.B&&(be.clearTimeout(o.B),o.B=null)}function Sc(o){o.g=new ws(o,o.h,"rpc",o.Y),null===o.o&&(o.g.H=o.s),o.g.O=0;var e=q(o.oa);Le(e,"RID","rpc"),Le(e,"SID",o.J),Le(e,"CI",o.N?"0":"1"),Le(e,"AID",o.U),hi(o,e),Le(e,"TYPE","xmlhttp"),o.o&&o.s&&mo(e,o.o,o.s),o.K&&o.g.setTimeout(o.K);var u=o.g;o=o.la,u.K=1,u.v=Mt(q(e)),u.s=null,u.U=!0,vc(u,o)}function yo(o){null!=o.v&&(be.clearTimeout(o.v),o.v=null)}function _o(o,e){var u=null;if(o.g==e){yo(o),Lo(o),o.g=null;var h=2}else{if(!Rr(o.i,e))return;u=e.D,Ec(o.i,e),h=1}if(o.I=e.N,0!=o.G)if(e.i)if(1==h){u=e.s?e.s.length:0,e=Date.now()-e.F;var y=o.C;An(h=_c(),new zf(h,u,e,y)),Ds(o)}else Ra(o);else if(3==(y=e.o)||0==y&&0<o.I||!(1==h&&function(o,e){return!(Oh(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.l=e.D.concat(o.l),0):1==o.G||2==o.G||o.C>=(o.Xa?0:o.Ya)||(o.m=bl(Ke(o.Ha,o,e),ei(o,o.C)),o.C++,0)))}(o,e)||2==h&&Au(o)))switch(u&&0<u.length&&(e=o.i,e.i=e.i.concat(u)),y){case 1:ti(o,5);break;case 4:ti(o,10);break;case 3:ti(o,6);break;default:ti(o,2)}}function ei(o,e){var u=o.Pa+Math.floor(Math.random()*o.$a);return o.j||(u*=2),u*e}function ti(o,e){if(o.h.info("Error code "+e),2==e){var u=null;o.j&&(u=null);var h=Ke(o.jb,o);u||(u=new k("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||F(u,"https"),Mt(u)),function(o,e){var u=new un;if(be.Image){var h=new Image;h.onload=it(Ys,u,h,"TestLoadImage: loaded",!0,e),h.onerror=it(Ys,u,h,"TestLoadImage: error",!1,e),h.onabort=it(Ys,u,h,"TestLoadImage: abort",!1,e),h.ontimeout=it(Ys,u,h,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=o}else e(!1)}(u.toString(),h)}else Li(2);o.G=0,o.j&&o.j.va(e),Na(o),Qn(o)}function Na(o){o.G=0,o.I=-1,o.j&&((0!=ho(o.i).length||0!=o.l.length)&&(o.i.i.length=0,Xt(o.l),o.l.length=0),o.j.ua())}function Zf(o,e,u){var h=function(o){return o instanceof k?q(o):new k(o,void 0)}(u);if(""!=h.i)e&&J(h,e+"."+h.i),he(h,h.m);else{var y=be.location;h=function(o,e,u,h){var y=new k(null,void 0);return o&&F(y,o),e&&J(y,e),u&&he(y,u),h&&(y.l=h),y}(y.protocol,e?e+"."+y.hostname:y.hostname,+y.port,u)}return o.aa&&Cr(o.aa,function(E,I){Le(h,I,E)}),u=o.sa,(e=o.D)&&u&&Le(h,e,u),Le(h,"VER",o.ma),hi(o,h),h}function vo(o,e,u){if(e&&!o.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(u&&o.Ba&&!o.qa?new ko({ib:!0}):o.qa)).L=o.H,e}function Dd(){}function Al(){if(Wn&&!(10<=Number(Ie)))throw Error("Environmental error: no available transport.")}function Mi(o,e){fr.call(this),this.g=new Kf(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(o?o["X-WebChannel-Client-Profile"]=e.ya:o={"X-WebChannel-Client-Profile":e.ya}),this.g.P=o,(o=e&&e.httpHeadersOverwriteParam)&&!On(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!On(e)&&(this.g.D=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new Fa(this)}function Mu(o){Cl.call(this);var e=o.__sm__;if(e){e:{for(var u in e){o=u;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function Jm(){El.call(this),this.status=1}function Fa(o){this.g=o}(ye=Nr.prototype).ea=function(o,e,u,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+o);e=e?e.toUpperCase():"GET",this.H=o,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cd.g(),this.C=function(o){return o.h||(o.h=o.i())}(this.u?this.u:Cd),this.g.onreadystatechange=Ke(this.Fa,this);try{this.F=!0,this.g.open(e,String(o),!0),this.F=!1}catch(E){return void Tc(this,E)}o=u||"";var y=new Oa(this.headers);h&&Kn(h,function(E,I){y.set(I,E)}),h=function(o){e:{for(var e=Rh,u=o.length,h="string"==typeof o?o.split(""):o,y=0;y<u;y++)if(y in h&&e.call(void 0,h[y],y,o)){e=y;break e}e=-1}return 0>e?null:"string"==typeof o?o.charAt(e):o[e]}(y.T()),u=be.FormData&&o instanceof be.FormData,!(0<=Qe(go,e))||h||u||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(E,I){this.g.setRequestHeader(I,E)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Td(this),0<this.B&&((this.K=function(o){return Wn&&de()&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.pa,this)):this.A=Po(this.pa,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(E){Tc(this,E)}},ye.pa=function(){void 0!==Pe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,An(this,"timeout"),this.abort(8))},ye.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,An(this,"complete"),An(this,"abort"),Qs(this))},ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qs(this,!0)),Nr.Z.M.call(this)},ye.Fa=function(){this.s||(this.F||this.v||this.l?Nh(this):this.cb())},ye.cb=function(){Nh(this)},ye.ba=function(){try{return 2<di(this)?this.g.status:-1}catch(o){return-1}},ye.ga=function(){try{return this.g?this.g.responseText:""}catch(o){return""}},ye.Qa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),Ym(e)}},ye.Da=function(){return this.m},ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=Kf.prototype).ma=8,ye.G=1,ye.hb=function(o){try{this.h.info("Origin Trials invoked: "+o)}catch(e){}},ye.Ha=function(o){if(this.m)if(this.m=null,1==this.G){if(!o){this.V=Math.floor(1e5*Math.random()),o=this.V++;var e=new ws(this,this.h,o,void 0),u=this.s;if(this.P&&(u?Aa(u=cr(u),this.P):u=this.P),null===this.o&&(e.H=u),this.ja)e:{for(var h=0,y=0;y<this.l.length;y++){var E=this.l[y];if(void 0===(E="__data__"in E.g&&"string"==typeof(E=E.g.__data__)?E.length:void 0))break;if(4096<(h+=E)){h=y;break e}if(4096===h||y===this.l.length-1){h=y+1;break e}}h=1e3}else h=1e3;h=Ss(this,e,h),Le(y=q(this.F),"RID",o),Le(y,"CVER",22),this.D&&Le(y,"X-HTTP-Session-Id",this.D),hi(this,y),this.o&&u&&mo(y,this.o,u),Cc(this.i,e),this.Ra&&Le(y,"TYPE","init"),this.ja?(Le(y,"$req",h),Le(y,"SID","null"),e.$=!0,No(e,y,null)):No(e,y,h),this.G=2}}else 3==this.G&&(o?Iu(this,o):0==this.l.length||Ln(this.i)||Iu(this))},ye.Ga=function(){if(this.u=null,Sc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var o=2*this.O;this.h.info("BP detection timer enabled: "+o),this.B=bl(Ke(this.bb,this),o)}},ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Li(10),Ai(this),Sc(this))},ye.ab=function(){null!=this.v&&(this.v=null,Ai(this),Au(this),Li(19))},ye.jb=function(o){o?(this.h.info("Successfully pinged google.com"),Li(2)):(this.h.info("Failed to ping google.com"),Li(1))},(ye=Dd.prototype).xa=function(){},ye.wa=function(){},ye.va=function(){},ye.ua=function(){},ye.Oa=function(){},Al.prototype.g=function(o,e){return new Mi(o,e)},Tt(Mi,fr),Mi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var o=this.g,e=this.l,u=this.h||void 0;o.Wa&&(o.h.info("Origin Trials enabled."),nr(Ke(o.hb,o,e))),Li(0),o.W=e,o.aa=u||{},o.N=o.X,o.F=Zf(o,null,o.W),Ds(o)},Mi.prototype.close=function(){Fr(this.g)},Mi.prototype.u=function(o){if("string"==typeof o){var e={};e.__data__=o,Js(this.g,e)}else this.v?((e={}).__data__=pr(o),Js(this.g,e)):Js(this.g,o)},Mi.prototype.M=function(){this.g.j=null,delete this.j,Fr(this.g),delete this.g,Mi.Z.M.call(this)},Tt(Mu,Cl),Tt(Jm,El),Tt(Fa,Dd),Fa.prototype.xa=function(){An(this.g,"a")},Fa.prototype.wa=function(o){An(this.g,new Mu(o))},Fa.prototype.va=function(o){An(this.g,new Jm(o))},Fa.prototype.ua=function(){An(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,Mi.prototype.send=Mi.prototype.u,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,bd.NO_ERROR=0,bd.TIMEOUT=8,bd.HTTP_ERROR=6,qf.COMPLETE="complete",xa.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",fr.prototype.listen=fr.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var ka=bd,Lh=qf,xu=ci,jr_PROXY=10,jr_NOPROXY=11,Yf=ko,Is=xa,Sd=Nr,fi=function(){function o(e,u){var h=this;this.previousValue=e,u&&(u.sequenceNumberHandler=function(y){return h.t(y)},this.i=function(y){return u.writeSequenceNumber(y)})}return o.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},o.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},o}();fi.o=-1;var ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tt=function(o){function e(u,h){var y=this;return(y=o.call(this,h)||this).code=u,y.message=h,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return(0,z.ZT)(e,o),e}(Error),bo=new et.Yd("@firebase/firestore");function Xs(){return bo.logLevel}function dt(o){for(var e=[],u=1;u<arguments.length;u++)e[u-1]=arguments[u];if(bo.logLevel<=et.in.DEBUG){var h=e.map(xl);bo.debug.apply(bo,(0,z.ev)(["Firestore (8.10.0): "+o],h))}}function Sr(o){for(var e=[],u=1;u<arguments.length;u++)e[u-1]=arguments[u];if(bo.logLevel<=et.in.ERROR){var h=e.map(xl);bo.error.apply(bo,(0,z.ev)(["Firestore (8.10.0): "+o],h))}}function ea(o){for(var e=[],u=1;u<arguments.length;u++)e[u-1]=arguments[u];if(bo.logLevel<=et.in.WARN){var h=e.map(xl);bo.warn.apply(bo,(0,z.ev)(["Firestore (8.10.0): "+o],h))}}function xl(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch(u){return o}}function Rt(o){void 0===o&&(o="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+o;throw Sr(e),new Error(e)}function Yt(o,e){o||Rt()}function wt(o,e){return o}function yg(o){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),u=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(u);else for(var h=0;h<o;h++)u[h]=Math.floor(256*Math.random());return u}var Qf=function(){function o(){}return o.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=Math.floor(256/e.length)*e.length,h="";h.length<20;)for(var y=yg(40),E=0;E<y.length;++E)h.length<20&&y[E]<u&&(h+=e.charAt(y[E]%e.length));return h},o}();function Rn(o,e){return o<e?-1:o>e?1:0}function La(o,e,u){return o.length===e.length&&o.every(function(h,y){return u(h,e[y])})}function Ol(o){return o+"\0"}var ni=function(){function o(e,u){if(this.seconds=e,this.nanoseconds=u,u<0)throw new tt(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(u>=1e9)throw new tt(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(e<-62135596800)throw new tt(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return o.now=function(){return o.fromMillis(Date.now())},o.fromDate=function(e){return o.fromMillis(e.getTime())},o.fromMillis=function(e){var u=Math.floor(e/1e3);return new o(u,Math.floor(1e6*(e-1e3*u)))},o.prototype.toDate=function(){return new Date(this.toMillis())},o.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},o.prototype._compareTo=function(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)},o.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},o.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},o.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},o.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},o}(),Sn=function(){function o(e){this.timestamp=e}return o.fromTimestamp=function(e){return new o(e)},o.min=function(){return new o(new ni(0,0))},o.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},o.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},o.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},o.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},o.prototype.toTimestamp=function(){return this.timestamp},o}();function Vh(o){var e=0;for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&e++;return e}function ta(o,e){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&e(u,o[u])}function Va(o){for(var e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}var Uh=function(){function o(e,u,h){void 0===u?u=0:u>e.length&&Rt(),void 0===h?h=e.length-u:h>e.length-u&&Rt(),this.segments=e,this.offset=u,this.len=h}return Object.defineProperty(o.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(e){return 0===o.comparator(this,e)},o.prototype.child=function(e){var u=this.segments.slice(this.offset,this.limit());return e instanceof o?e.forEach(function(h){u.push(h)}):u.push(e),this.construct(u)},o.prototype.limit=function(){return this.offset+this.length},o.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},o.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},o.prototype.firstSegment=function(){return this.segments[this.offset]},o.prototype.lastSegment=function(){return this.get(this.length-1)},o.prototype.get=function(e){return this.segments[this.offset+e]},o.prototype.isEmpty=function(){return 0===this.length},o.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==e.get(u))return!1;return!0},o.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==e.get(u))return!1;return!0},o.prototype.forEach=function(e){for(var u=this.offset,h=this.limit();u<h;u++)e(this.segments[u])},o.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},o.comparator=function(e,u){for(var h=Math.min(e.length,u.length),y=0;y<h;y++){var E=e.get(y),I=u.get(y);if(E<I)return-1;if(E>I)return 1}return e.length<u.length?-1:e.length>u.length?1:0},o}(),Vn=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e.prototype.construct=function(u,h,y){return new e(u,h,y)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];for(var y=[],E=0,I=u;E<I.length;E++){var x=I[E];if(x.indexOf("//")>=0)throw new tt(ke.INVALID_ARGUMENT,"Invalid segment ("+x+"). Paths must not contain // in them.");y.push.apply(y,x.split("/").filter(function(L){return L.length>0}))}return new e(y)},e.emptyPath=function(){return new e([])},e}(Uh),Bh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xi=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e.prototype.construct=function(u,h,y){return new e(u,h,y)},e.isValidIdentifier=function(u){return Bh.test(u)},e.prototype.canonicalString=function(){return this.toArray().map(function(u){return u=u.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(u)||(u="`"+u+"`"),u}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(u){for(var h=[],y="",E=0,I=function(){if(0===y.length)throw new tt(ke.INVALID_ARGUMENT,"Invalid field path ("+u+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");h.push(y),y=""},x=!1;E<u.length;){var L=u[E];if("\\"===L){if(E+1===u.length)throw new tt(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+u);var H=u[E+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new tt(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+u);y+=H,E+=2}else"`"===L?(x=!x,E++):"."!==L||x?(y+=L,E++):(I(),E++)}if(I(),x)throw new tt(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+u);return new e(h)},e.emptyPath=function(){return new e([])},e}(Uh),cs=function(){function o(e){this.fields=e,e.sort(xi.comparator)}return o.prototype.covers=function(e){for(var u=0,h=this.fields;u<h.length;u++)if(h[u].isPrefixOf(e))return!0;return!1},o.prototype.isEqual=function(e){return La(this.fields,e.fields,function(u,h){return u.isEqual(h)})},o}(),kr=function(){function o(e){this.binaryString=e}return o.fromBase64String=function(e){return new o(atob(e))},o.fromUint8Array=function(e){return new o(function(u){for(var h="",y=0;y<u.length;++y)h+=String.fromCharCode(u[y]);return h}(e))},o.prototype.toBase64=function(){return btoa(this.binaryString)},o.prototype.toUint8Array=function(){return function(e){for(var u=new Uint8Array(e.length),h=0;h<e.length;h++)u[h]=e.charCodeAt(h);return u}(this.binaryString)},o.prototype.approximateByteSize=function(){return 2*this.binaryString.length},o.prototype.compareTo=function(e){return Rn(this.binaryString,e.binaryString)},o.prototype.isEqual=function(e){return this.binaryString===e.binaryString},o}();kr.EMPTY_BYTE_STRING=new kr("");var Pl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(o){if(Yt(!!o),"string"==typeof o){var e=0,u=Pl.exec(o);if(Yt(!!u),u[1]){var h=u[1];h=(h+"000000000").substr(0,9),e=Number(h)}var y=new Date(o);return{seconds:Math.floor(y.getTime()/1e3),nanos:e}}return{seconds:tr(o.seconds),nanos:tr(o.nanos)}}function tr(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function Rl(o){return"string"==typeof o?kr.fromBase64String(o):kr.fromUint8Array(o)}function Jf(o){var e,u;return"server_timestamp"===(null===(u=((null===(e=null==o?void 0:o.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===u?void 0:u.stringValue)}function jh(o){var e=o.mapValue.fields.__previous_value__;return Jf(e)?jh(e):e}function Ou(o){var e=ds(o.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}function Ua(o){return null==o}function vr(o){return 0===o&&1/o==-1/0}function _g(o){return"number"==typeof o&&Number.isInteger(o)&&!vr(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}var Gt=function(){function o(e){this.path=e}return o.fromPath=function(e){return new o(Vn.fromString(e))},o.fromName=function(e){return new o(Vn.fromString(e).popFirst(5))},o.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},o.prototype.isEqual=function(e){return null!==e&&0===Vn.comparator(this.path,e.path)},o.prototype.toString=function(){return this.path.toString()},o.comparator=function(e,u){return Vn.comparator(e.path,u.path)},o.isDocumentKey=function(e){return e.length%2==0},o.fromSegments=function(e){return new o(new Vn(e.slice()))},o}();function Ba(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Jf(o)?4:10:Rt()}function As(o,e){var y,u=Ba(o);if(u!==Ba(e))return!1;switch(u){case 0:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Ou(o).isEqual(Ou(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;var E=ds(h.timestampValue),I=ds(y.timestampValue);return E.seconds===I.seconds&&E.nanos===I.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return y=e,Rl(o.bytesValue).isEqual(Rl(y.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(h,y){return tr(h.geoPointValue.latitude)===tr(y.geoPointValue.latitude)&&tr(h.geoPointValue.longitude)===tr(y.geoPointValue.longitude)}(o,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return tr(h.integerValue)===tr(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){var E=tr(h.doubleValue),I=tr(y.doubleValue);return E===I?vr(E)===vr(I):isNaN(E)&&isNaN(I)}return!1}(o,e);case 9:return La(o.arrayValue.values||[],e.arrayValue.values||[],As);case 10:return function(h,y){var E=h.mapValue.fields||{},I=y.mapValue.fields||{};if(Vh(E)!==Vh(I))return!1;for(var x in E)if(E.hasOwnProperty(x)&&(void 0===I[x]||!As(E[x],I[x])))return!1;return!0}(o,e);default:return Rt()}}function Id(o,e){return void 0!==(o.values||[]).find(function(u){return As(u,e)})}function Mc(o,e){var y,E,I,x,u=Ba(o),h=Ba(e);if(u!==h)return Rn(u,h);switch(u){case 0:return 0;case 1:return Rn(o.booleanValue,e.booleanValue);case 2:return E=e,(I=tr((y=o).integerValue||y.doubleValue))<(x=tr(E.integerValue||E.doubleValue))?-1:I>x?1:I===x?0:isNaN(I)?isNaN(x)?0:-1:1;case 3:return vg(o.timestampValue,e.timestampValue);case 4:return vg(Ou(o),Ou(e));case 5:return Rn(o.stringValue,e.stringValue);case 6:return function(y,E){var I=Rl(y),x=Rl(E);return I.compareTo(x)}(o.bytesValue,e.bytesValue);case 7:return function(y,E){for(var I=y.split("/"),x=E.split("/"),L=0;L<I.length&&L<x.length;L++){var H=Rn(I[L],x[L]);if(0!==H)return H}return Rn(I.length,x.length)}(o.referenceValue,e.referenceValue);case 8:return function(y,E){var I=Rn(tr(y.latitude),tr(E.latitude));return 0!==I?I:Rn(tr(y.longitude),tr(E.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(y,E){for(var I=y.values||[],x=E.values||[],L=0;L<I.length&&L<x.length;++L){var H=Mc(I[L],x[L]);if(H)return H}return Rn(I.length,x.length)}(o.arrayValue,e.arrayValue);case 10:return function(y,E){var I=y.fields||{},x=Object.keys(I),L=E.fields||{},H=Object.keys(L);x.sort(),H.sort();for(var K=0;K<x.length&&K<H.length;++K){var ie=Rn(x[K],H[K]);if(0!==ie)return ie;var pe=Mc(I[x[K]],L[H[K]]);if(0!==pe)return pe}return Rn(x.length,H.length)}(o.mapValue,e.mapValue);default:throw Rt()}}function vg(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return Rn(o,e);var u=ds(o),h=ds(e),y=Rn(u.seconds,h.seconds);return 0!==y?y:Rn(u.nanos,h.nanos)}function ja(o){return Xf(o)}function Xf(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?"time("+(y=ds(o.timestampValue)).seconds+","+y.nanos+")":"stringValue"in o?o.stringValue:"bytesValue"in o?Rl(o.bytesValue).toBase64():"referenceValue"in o?Gt.fromName(o.referenceValue).toString():"geoPointValue"in o?"geo("+(e=o.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in o?function(h){for(var y="[",E=!0,I=0,x=h.values||[];I<x.length;I++)E?E=!1:y+=",",y+=Xf(x[I]);return y+"]"}(o.arrayValue):"mapValue"in o?function(h){for(var y="{",E=!0,I=0,x=Object.keys(h.fields||{}).sort();I<x.length;I++){var L=x[I];E?E=!1:y+=",",y+=L+":"+Xf(h.fields[L])}return y+"}"}(o.mapValue):Rt();var y,e}function xc(o,e){return{referenceValue:"projects/"+o.projectId+"/databases/"+o.database+"/documents/"+e.path.canonicalString()}}function Ms(o){return!!o&&"integerValue"in o}function hs(o){return!!o&&"arrayValue"in o}function Ad(o){return!!o&&"nullValue"in o}function Ir(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Vo(o){return!!o&&"mapValue"in o}function na(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){var e={mapValue:{fields:{}}};return ta(o.mapValue.fields,function(y,E){return e.mapValue.fields[y]=na(E)}),e}if(o.arrayValue){for(var u={arrayValue:{values:[]}},h=0;h<(o.arrayValue.values||[]).length;++h)u.arrayValue.values[h]=na(o.arrayValue.values[h]);return u}return Object.assign({},o)}var Ki=function(){function o(e){this.value=e}return o.empty=function(){return new o({mapValue:{}})},o.prototype.field=function(e){if(e.isEmpty())return this.value;for(var u=this.value,h=0;h<e.length-1;++h)if(!Vo(u=(u.mapValue.fields||{})[e.get(h)]))return null;return(u=(u.mapValue.fields||{})[e.lastSegment()])||null},o.prototype.set=function(e,u){this.getFieldsMap(e.popLast())[e.lastSegment()]=na(u)},o.prototype.setAll=function(e){var u=this,h=xi.emptyPath(),y={},E=[];e.forEach(function(x,L){if(!h.isImmediateParentOf(L)){var H=u.getFieldsMap(h);u.applyChanges(H,y,E),y={},E=[],h=L.popLast()}x?y[L.lastSegment()]=na(x):E.push(L.lastSegment())});var I=this.getFieldsMap(h);this.applyChanges(I,y,E)},o.prototype.delete=function(e){var u=this.field(e.popLast());Vo(u)&&u.mapValue.fields&&delete u.mapValue.fields[e.lastSegment()]},o.prototype.isEqual=function(e){return As(this.value,e.value)},o.prototype.getFieldsMap=function(e){var u=this.value;u.mapValue.fields||(u.mapValue={fields:{}});for(var h=0;h<e.length;++h){var y=u.mapValue.fields[e.get(h)];Vo(y)&&y.mapValue.fields||(y={mapValue:{fields:{}}},u.mapValue.fields[e.get(h)]=y),u=y}return u.mapValue.fields},o.prototype.applyChanges=function(e,u,h){ta(u,function(x,L){return e[x]=L});for(var y=0,E=h;y<E.length;y++)delete e[E[y]]},o.prototype.clone=function(){return new o(na(this.value))},o}();function Md(o){var e=[];return ta(o.fields,function(u,h){var y=new xi([u]);if(Vo(h)){var E=Md(h.mapValue).fields;if(0===E.length)e.push(y);else for(var I=0,x=E;I<x.length;I++)e.push(y.child(x[I]))}else e.push(y)}),new cs(e)}var Jn=function(){function o(e,u,h,y,E){this.key=e,this.documentType=u,this.version=h,this.data=y,this.documentState=E}return o.newInvalidDocument=function(e){return new o(e,0,Sn.min(),Ki.empty(),0)},o.newFoundDocument=function(e,u,h){return new o(e,1,u,h,0)},o.newNoDocument=function(e,u){return new o(e,2,u,Ki.empty(),0)},o.newUnknownDocument=function(e,u){return new o(e,3,u,Ki.empty(),2)},o.prototype.convertToFoundDocument=function(e,u){return this.version=e,this.documentType=1,this.data=u,this.documentState=0,this},o.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this},o.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this},o.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},o.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(o.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),o.prototype.isValidDocument=function(){return 0!==this.documentType},o.prototype.isFoundDocument=function(){return 1===this.documentType},o.prototype.isNoDocument=function(){return 2===this.documentType},o.prototype.isUnknownDocument=function(){return 3===this.documentType},o.prototype.isEqual=function(e){return e instanceof o&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},o.prototype.clone=function(){return new o(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},o.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},o}(),pi=function(o,e,u,h,y,E,I){void 0===e&&(e=null),void 0===u&&(u=[]),void 0===h&&(h=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===I&&(I=null),this.path=o,this.collectionGroup=e,this.orderBy=u,this.filters=h,this.limit=y,this.startAt=E,this.endAt=I,this.h=null};function Ga(o,e,u,h,y,E,I){return void 0===e&&(e=null),void 0===u&&(u=[]),void 0===h&&(h=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===I&&(I=null),new pi(o,e,u,h,y,E,I)}function Uo(o){var e=wt(o);if(null===e.h){var u=e.path.canonicalString();null!==e.collectionGroup&&(u+="|cg:"+e.collectionGroup),u+="|f:",u+=e.filters.map(function(h){return(y=h).field.canonicalString()+y.op.toString()+ja(y.value);var y}).join(","),u+="|ob:",u+=e.orderBy.map(function(h){return(y=h).field.canonicalString()+y.dir;var y}).join(","),Ua(e.limit)||(u+="|l:",u+=e.limit),e.startAt&&(u+="|lb:",u+=Ha(e.startAt)),e.endAt&&(u+="|ub:",u+=Ha(e.endAt)),e.h=u}return e.h}function Zi(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(var u=0;u<o.orderBy.length;u++)if(!xd(o.orderBy[u],e.orderBy[u]))return!1;if(o.filters.length!==e.filters.length)return!1;for(var h=0;h<o.filters.length;h++)if((y=o.filters[h]).op!==(E=e.filters[h]).op||!y.field.isEqual(E.field)||!As(y.value,E.value))return!1;var y,E;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!jo(o.startAt,e.startAt)&&jo(o.endAt,e.endAt)}function Oc(o){return Gt.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}var Yi=function(o){function e(u,h,y){var E=this;return(E=o.call(this)||this).field=u,E.op=h,E.value=y,E}return(0,z.ZT)(e,o),e.create=function(u,h,y){return u.isKeyField()?"in"===h||"not-in"===h?this.l(u,h,y):new ep(u,h,y):"array-contains"===h?new Bo(u,y):"in"===h?new ra(u,y):"not-in"===h?new Ru(u,y):"array-contains-any"===h?new Cg(u,y):new e(u,h,y)},e.l=function(u,h,y){return"in"===h?new bg(u,y):new Gh(u,y)},e.prototype.matches=function(u){var h=u.data.field(this.field);return"!="===this.op?null!==h&&this.m(Mc(h,this.value)):null!==h&&Ba(this.value)===Ba(h)&&this.m(Mc(h,this.value))},e.prototype.m=function(u){switch(this.op){case"<":return u<0;case"<=":return u<=0;case"==":return 0===u;case"!=":return 0!==u;case">":return u>0;case">=":return u>=0;default:return Rt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ep=function(o){function e(u,h,y){var E=this;return(E=o.call(this,u,h,y)||this).key=Gt.fromName(y.referenceValue),E}return(0,z.ZT)(e,o),e.prototype.matches=function(u){var h=Gt.comparator(u.key,this.key);return this.m(h)},e}(Yi),bg=function(o){function e(u,h){var y=this;return(y=o.call(this,u,"in",h)||this).keys=Pu(0,h),y}return(0,z.ZT)(e,o),e.prototype.matches=function(u){return this.keys.some(function(h){return h.isEqual(u.key)})},e}(Yi),Gh=function(o){function e(u,h){var y=this;return(y=o.call(this,u,"not-in",h)||this).keys=Pu(0,h),y}return(0,z.ZT)(e,o),e.prototype.matches=function(u){return!this.keys.some(function(h){return h.isEqual(u.key)})},e}(Yi);function Pu(o,e){var u;return((null===(u=e.arrayValue)||void 0===u?void 0:u.values)||[]).map(function(h){return Gt.fromName(h.referenceValue)})}var Bo=function(o){function e(u,h){return o.call(this,u,"array-contains",h)||this}return(0,z.ZT)(e,o),e.prototype.matches=function(u){var h=u.data.field(this.field);return hs(h)&&Id(h.arrayValue,this.value)},e}(Yi),ra=function(o){function e(u,h){return o.call(this,u,"in",h)||this}return(0,z.ZT)(e,o),e.prototype.matches=function(u){var h=u.data.field(this.field);return null!==h&&Id(this.value.arrayValue,h)},e}(Yi),Ru=function(o){function e(u,h){return o.call(this,u,"not-in",h)||this}return(0,z.ZT)(e,o),e.prototype.matches=function(u){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var h=u.data.field(this.field);return null!==h&&!Id(this.value.arrayValue,h)},e}(Yi),Cg=function(o){function e(u,h){return o.call(this,u,"array-contains-any",h)||this}return(0,z.ZT)(e,o),e.prototype.matches=function(u){var h=this,y=u.data.field(this.field);return!(!hs(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(E){return Id(h.value.arrayValue,E)})},e}(Yi),Nl=function(o,e){this.position=o,this.before=e};function Ha(o){return(o.before?"b":"a")+":"+o.position.map(function(e){return ja(e)}).join(",")}var xs=function(o,e){void 0===e&&(e="asc"),this.field=o,this.dir=e};function xd(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}function Od(o,e,u){for(var h=0,y=0;y<o.position.length;y++){var E=e[y],I=o.position[y];if(h=E.field.isKeyField()?Gt.comparator(Gt.fromName(I.referenceValue),u.key):Mc(I,u.data.field(E.field)),"desc"===E.dir&&(h*=-1),0!==h)break}return o.before?h<=0:h<0}function jo(o,e){if(null===o)return null===e;if(null===e||o.before!==e.before||o.position.length!==e.position.length)return!1;for(var u=0;u<o.position.length;u++)if(!As(o.position[u],e.position[u]))return!1;return!0}var Go=function(o,e,u,h,y,E,I,x){void 0===e&&(e=null),void 0===u&&(u=[]),void 0===h&&(h=[]),void 0===y&&(y=null),void 0===E&&(E="F"),void 0===I&&(I=null),void 0===x&&(x=null),this.path=o,this.collectionGroup=e,this.explicitOrderBy=u,this.filters=h,this.limit=y,this.limitType=E,this.startAt=I,this.endAt=x,this.p=null,this.T=null};function Nu(o,e,u,h,y,E,I,x){return new Go(o,e,u,h,y,E,I,x)}function $a(o){return new Go(o)}function Pd(o){return!Ua(o.limit)&&"F"===o.limitType}function ia(o){return!Ua(o.limit)&&"L"===o.limitType}function Rd(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function Fu(o){for(var e=0,u=o.filters;e<u.length;e++){var h=u[e];if(h.g())return h.field}return null}function tp(o){return null!==o.collectionGroup}function Fl(o){var e=wt(o);if(null===e.p){e.p=[];var u=Fu(e),h=Rd(e);if(null!==u&&null===h)u.isKeyField()||e.p.push(new xs(u)),e.p.push(new xs(xi.keyField(),"asc"));else{for(var y=!1,E=0,I=e.explicitOrderBy;E<I.length;E++){var x=I[E];e.p.push(x),x.field.isKeyField()&&(y=!0)}if(!y){var L=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xs(xi.keyField(),L))}}}return e.p}function fs(o){var e=wt(o);if(!e.T)if("F"===e.limitType)e.T=Ga(e.path,e.collectionGroup,Fl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var u=[],h=0,y=Fl(e);h<y.length;h++){var E=y[h];u.push(new xs(E.field,"desc"===E.dir?"asc":"desc"))}var x=e.endAt?new Nl(e.endAt.position,!e.endAt.before):null,L=e.startAt?new Nl(e.startAt.position,!e.startAt.before):null;e.T=Ga(e.path,e.collectionGroup,u,e.filters,e.limit,x,L)}return e.T}function Hh(o,e,u){return new Go(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,u,o.startAt,o.endAt)}function Nd(o,e){return Zi(fs(o),fs(e))&&o.limitType===e.limitType}function Pc(o){return Uo(fs(o))+"|lt:"+o.limitType}function Os(o){return"Query(target="+(u=(e=fs(o)).path.canonicalString(),null!==e.collectionGroup&&(u+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(u+=", filters: ["+e.filters.map(function(h){return(y=h).field.canonicalString()+" "+y.op+" "+ja(y.value);var y}).join(", ")+"]"),Ua(e.limit)||(u+=", limit: "+e.limit),e.orderBy.length>0&&(u+=", orderBy: ["+e.orderBy.map(function(h){return(y=h).field.canonicalString()+" ("+y.dir+")";var y}).join(", ")+"]"),e.startAt&&(u+=", startAt: "+Ha(e.startAt)),e.endAt&&(u+=", endAt: "+Ha(e.endAt)),"Target("+u+"); limitType=")+o.limitType+")";var e,u}function gi(o,e){return e.isFoundDocument()&&(y=(h=e).key.path,null!==(u=o).collectionGroup?h.key.hasCollectionId(u.collectionGroup)&&u.path.isPrefixOf(y):Gt.isDocumentKey(u.path)?u.path.isEqual(y):u.path.isImmediateParentOf(y))&&function(u,h){for(var y=0,E=u.explicitOrderBy;y<E.length;y++){var I=E[y];if(!I.field.isKeyField()&&null===h.data.field(I.field))return!1}return!0}(o,e)&&function(u,h){for(var y=0,E=u.filters;y<E.length;y++)if(!E[y].matches(h))return!1;return!0}(o,e)&&function(u,h){return!(u.startAt&&!Od(u.startAt,Fl(u),h)||u.endAt&&Od(u.endAt,Fl(u),h))}(o,e);var u,h,y}function kl(o){return function(e,u){for(var h=!1,y=0,E=Fl(o);y<E.length;y++){var I=E[y],x=Xn(I,e,u);if(0!==x)return x;h=h||I.field.isKeyField()}return 0}}function Xn(o,e,u){var y,I,x,L,h=o.field.isKeyField()?Gt.comparator(e.key,u.key):(I=u,x=e.data.field(y=o.field),L=I.data.field(y),null!==x&&null!==L?Mc(x,L):Rt());switch(o.dir){case"asc":return h;case"desc":return-1*h;default:return Rt()}}function Ll(o,e){if(o.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vr(e)?"-0":e}}function Rc(o){return{integerValue:""+o}}function Ui(o,e){return _g(e)?Rc(e):Ll(o,e)}var Ho=function(){this._=void 0};function Fd(o,e,u){return o instanceof Gr?(E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(h=u).seconds,nanos:h.nanoseconds}}}},(y=e)&&(E.fields.__previous_value__=y),{mapValue:E}):o instanceof Co?$o(o,e):o instanceof sa?Eo(o,e):function(h,y){var E=oa(h,y),I=Nc(E)+Nc(h.A);return Ms(E)&&Ms(h.A)?Rc(I):Ll(h.R,I)}(o,e);var h,y,E}function kd(o,e,u){return o instanceof Co?$o(o,e):o instanceof sa?Eo(o,e):u}function oa(o,e){return o instanceof za?Ms(u=e)||(h=u)&&"doubleValue"in h?e:{integerValue:0}:null;var h,u}var Gr=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e}(Ho),Co=function(o){function e(u){var h=this;return(h=o.call(this)||this).elements=u,h}return(0,z.ZT)(e,o),e}(Ho);function $o(o,e){for(var u=$h(e),h=function(I){u.some(function(x){return As(x,I)})||u.push(I)},y=0,E=o.elements;y<E.length;y++)h(E[y]);return{arrayValue:{values:u}}}var sa=function(o){function e(u){var h=this;return(h=o.call(this)||this).elements=u,h}return(0,z.ZT)(e,o),e}(Ho);function Eo(o,e){for(var u=$h(e),h=function(I){u=u.filter(function(x){return!As(x,I)})},y=0,E=o.elements;y<E.length;y++)h(E[y]);return{arrayValue:{values:u}}}var za=function(o){function e(u,h){var y=this;return(y=o.call(this)||this).R=u,y.A=h,y}return(0,z.ZT)(e,o),e}(Ho);function Nc(o){return tr(o.integerValue||o.doubleValue)}function $h(o){return hs(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}var wo=function(o,e){this.field=o,this.transform=e},ps=function(o,e){this.version=o,this.transformResults=e},dr=function(){function o(e,u){this.updateTime=e,this.exists=u}return o.none=function(){return new o},o.exists=function(e){return new o(void 0,e)},o.updateTime=function(e){return new o(e)},Object.defineProperty(o.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},o}();function Fc(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}var zo=function(){};function ku(o,e,u){var h,y,E,I,x;o instanceof Oi?(y=e,E=u,I=(h=o).value.clone(),x=qh(h.fieldTransforms,y,E.transformResults),I.setAll(x),y.convertToFoundDocument(E.version,I).setHasCommittedMutations()):o instanceof qo?function(h,y,E){if(Fc(h.precondition,y)){var I=qh(h.fieldTransforms,y,E.transformResults),x=y.data;x.setAll(np(h)),x.setAll(I),y.convertToFoundDocument(E.version,x).setHasCommittedMutations()}else y.convertToUnknownDocument(E.version)}(o,e,u):function(h,y,E){y.convertToNoDocument(E.version).setHasCommittedMutations()}(0,e,u)}function kc(o,e,u){var y;o instanceof Oi?function(h,y,E){if(Fc(h.precondition,y)){var I=h.value.clone(),x=qa(h.fieldTransforms,E,y);I.setAll(x),y.convertToFoundDocument(zh(y),I).setHasLocalMutations()}}(o,e,u):o instanceof qo?function(h,y,E){if(Fc(h.precondition,y)){var I=qa(h.fieldTransforms,E,y),x=y.data;x.setAll(np(h)),x.setAll(I),y.convertToFoundDocument(zh(y),x).setHasLocalMutations()}}(o,e,u):Fc(o.precondition,y=e)&&y.convertToNoDocument(Sn.min())}function Vl(o,e){for(var u=null,h=0,y=o.fieldTransforms;h<y.length;h++){var E=y[h],I=e.data.field(E.field),x=oa(E.transform,I||null);null!=x&&(null==u&&(u=Ki.empty()),u.set(E.field,x))}return u||null}function aa(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(u=o.fieldTransforms)&&void 0===h||u&&h&&La(u,h,function(y,E){return(I=y).field.isEqual((x=E).field)&&(H=x.transform,(L=I.transform)instanceof Co&&H instanceof Co||L instanceof sa&&H instanceof sa?La(L.elements,H.elements,As):L instanceof za&&H instanceof za?As(L.A,H.A):L instanceof Gr&&H instanceof Gr);var I,x,L,H})))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var u,h}function zh(o){return o.isFoundDocument()?o.version:Sn.min()}var Oi=function(o){function e(u,h,y,E){void 0===E&&(E=[]);var I=this;return(I=o.call(this)||this).key=u,I.value=h,I.precondition=y,I.fieldTransforms=E,I.type=0,I}return(0,z.ZT)(e,o),e}(zo),qo=function(o){function e(u,h,y,E,I){void 0===I&&(I=[]);var x=this;return(x=o.call(this)||this).key=u,x.data=h,x.fieldMask=y,x.precondition=E,x.fieldTransforms=I,x.type=1,x}return(0,z.ZT)(e,o),e}(zo);function np(o){var e=new Map;return o.fieldMask.fields.forEach(function(u){if(!u.isEmpty()){var h=o.data.field(u);e.set(u,h)}}),e}function qh(o,e,u){var h=new Map;Yt(o.length===u.length);for(var y=0;y<u.length;y++){var E=o[y],I=E.transform,x=e.data.field(E.field);h.set(E.field,kd(I,x,u[y]))}return h}function qa(o,e,u){for(var h=new Map,y=0,E=o;y<E.length;y++){var I=E[y],x=I.transform,L=u.data.field(I.field);h.set(I.field,Fd(x,L,e))}return h}var hr,Ht,Lc=function(o){function e(u,h){var y=this;return(y=o.call(this)||this).key=u,y.precondition=h,y.type=2,y.fieldTransforms=[],y}return(0,z.ZT)(e,o),e}(zo),rp=function(o){function e(u,h){var y=this;return(y=o.call(this)||this).key=u,y.precondition=h,y.type=3,y.fieldTransforms=[],y}return(0,z.ZT)(e,o),e}(zo),Ld=function(o){this.count=o};function Wa(o){switch(o){case ke.OK:return Rt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return Rt()}}function Vc(o){if(void 0===o)return Sr("GRPC error has no .code"),ke.UNKNOWN;switch(o){case hr.OK:return ke.OK;case hr.CANCELLED:return ke.CANCELLED;case hr.UNKNOWN:return ke.UNKNOWN;case hr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case hr.INTERNAL:return ke.INTERNAL;case hr.UNAVAILABLE:return ke.UNAVAILABLE;case hr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case hr.NOT_FOUND:return ke.NOT_FOUND;case hr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case hr.ABORTED:return ke.ABORTED;case hr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case hr.DATA_LOSS:return ke.DATA_LOSS;default:return Rt()}}(Ht=hr||(hr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var Hr=function(){function o(e,u){this.comparator=e,this.root=u||Bi.EMPTY}return o.prototype.insert=function(e,u){return new o(this.comparator,this.root.insert(e,u,this.comparator).copy(null,null,Bi.BLACK,null,null))},o.prototype.remove=function(e){return new o(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))},o.prototype.get=function(e){for(var u=this.root;!u.isEmpty();){var h=this.comparator(e,u.key);if(0===h)return u.value;h<0?u=u.left:h>0&&(u=u.right)}return null},o.prototype.indexOf=function(e){for(var u=0,h=this.root;!h.isEmpty();){var y=this.comparator(e,h.key);if(0===y)return u+h.left.size;y<0?h=h.left:(u+=h.left.size+1,h=h.right)}return-1},o.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(o.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),o.prototype.minKey=function(){return this.root.minKey()},o.prototype.maxKey=function(){return this.root.maxKey()},o.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},o.prototype.forEach=function(e){this.inorderTraversal(function(u,h){return e(u,h),!1})},o.prototype.toString=function(){var e=[];return this.inorderTraversal(function(u,h){return e.push(u+":"+h),!1}),"{"+e.join(", ")+"}"},o.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},o.prototype.getIterator=function(){return new Wo(this.root,null,this.comparator,!1)},o.prototype.getIteratorFrom=function(e){return new Wo(this.root,e,this.comparator,!1)},o.prototype.getReverseIterator=function(){return new Wo(this.root,null,this.comparator,!0)},o.prototype.getReverseIteratorFrom=function(e){return new Wo(this.root,e,this.comparator,!0)},o}(),Wo=function(){function o(e,u,h,y){this.isReverse=y,this.nodeStack=[];for(var E=1;!e.isEmpty();)if(E=u?h(e.key,u):1,y&&(E*=-1),E<0)e=this.isReverse?e.left:e.right;else{if(0===E){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return o.prototype.getNext=function(){var e=this.nodeStack.pop(),u={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return u},o.prototype.hasNext=function(){return this.nodeStack.length>0},o.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},o}(),Bi=function(){function o(e,u,h,y,E){this.key=e,this.value=u,this.color=null!=h?h:o.RED,this.left=null!=y?y:o.EMPTY,this.right=null!=E?E:o.EMPTY,this.size=this.left.size+1+this.right.size}return o.prototype.copy=function(e,u,h,y,E){return new o(null!=e?e:this.key,null!=u?u:this.value,null!=h?h:this.color,null!=y?y:this.left,null!=E?E:this.right)},o.prototype.isEmpty=function(){return!1},o.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},o.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},o.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},o.prototype.minKey=function(){return this.min().key},o.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},o.prototype.insert=function(e,u,h){var y=this,E=h(e,y.key);return(y=E<0?y.copy(null,null,null,y.left.insert(e,u,h),null):0===E?y.copy(null,u,null,null,null):y.copy(null,null,null,null,y.right.insert(e,u,h))).fixUp()},o.prototype.removeMin=function(){if(this.left.isEmpty())return o.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},o.prototype.remove=function(e,u){var h,y=this;if(u(e,y.key)<0)y.left.isEmpty()||y.left.isRed()||y.left.left.isRed()||(y=y.moveRedLeft()),y=y.copy(null,null,null,y.left.remove(e,u),null);else{if(y.left.isRed()&&(y=y.rotateRight()),y.right.isEmpty()||y.right.isRed()||y.right.left.isRed()||(y=y.moveRedRight()),0===u(e,y.key)){if(y.right.isEmpty())return o.EMPTY;h=y.right.min(),y=y.copy(h.key,h.value,null,null,y.right.removeMin())}y=y.copy(null,null,null,null,y.right.remove(e,u))}return y.fixUp()},o.prototype.isRed=function(){return this.color},o.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},o.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},o.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},o.prototype.rotateLeft=function(){var e=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},o.prototype.rotateRight=function(){var e=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},o.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,u)},o.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},o.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();var e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)},o}();Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1,Bi.EMPTY=new(function(){function o(){this.size=0}return Object.defineProperty(o.prototype,"key",{get:function(){throw Rt()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){throw Rt()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){throw Rt()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"left",{get:function(){throw Rt()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"right",{get:function(){throw Rt()},enumerable:!1,configurable:!0}),o.prototype.copy=function(e,u,h,y,E){return this},o.prototype.insert=function(e,u,h){return new Bi(e,u)},o.prototype.remove=function(e,u){return this},o.prototype.isEmpty=function(){return!0},o.prototype.inorderTraversal=function(e){return!1},o.prototype.reverseTraversal=function(e){return!1},o.prototype.minKey=function(){return null},o.prototype.maxKey=function(){return null},o.prototype.isRed=function(){return!1},o.prototype.checkMaxDepth=function(){return!0},o.prototype.check=function(){return 0},o}());var er=function(){function o(e){this.comparator=e,this.data=new Hr(this.comparator)}return o.prototype.has=function(e){return null!==this.data.get(e)},o.prototype.first=function(){return this.data.minKey()},o.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(o.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),o.prototype.indexOf=function(e){return this.data.indexOf(e)},o.prototype.forEach=function(e){this.data.inorderTraversal(function(u,h){return e(u),!1})},o.prototype.forEachInRange=function(e,u){for(var h=this.data.getIteratorFrom(e[0]);h.hasNext();){var y=h.getNext();if(this.comparator(y.key,e[1])>=0)return;u(y.key)}},o.prototype.forEachWhile=function(e,u){var h;for(h=void 0!==u?this.data.getIteratorFrom(u):this.data.getIterator();h.hasNext();)if(!e(h.getNext().key))return},o.prototype.firstAfterOrEqual=function(e){var u=this.data.getIteratorFrom(e);return u.hasNext()?u.getNext().key:null},o.prototype.getIterator=function(){return new ip(this.data.getIterator())},o.prototype.getIteratorFrom=function(e){return new ip(this.data.getIteratorFrom(e))},o.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},o.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},o.prototype.isEmpty=function(){return this.data.isEmpty()},o.prototype.unionWith=function(e){var u=this;return u.size<e.size&&(u=e,e=this),e.forEach(function(h){u=u.add(h)}),u},o.prototype.isEqual=function(e){if(!(e instanceof o)||this.size!==e.size)return!1;for(var u=this.data.getIterator(),h=e.data.getIterator();u.hasNext();){var y=u.getNext().key,E=h.getNext().key;if(0!==this.comparator(y,E))return!1}return!0},o.prototype.toArray=function(){var e=[];return this.forEach(function(u){e.push(u)}),e},o.prototype.toString=function(){var e=[];return this.forEach(function(u){return e.push(u)}),"SortedSet("+e.toString()+")"},o.prototype.copy=function(e){var u=new o(this.comparator);return u.data=e,u},o}(),ip=function(){function o(e){this.iter=e}return o.prototype.getNext=function(){return this.iter.getNext().key},o.prototype.hasNext=function(){return this.iter.hasNext()},o}(),Lu=new Hr(Gt.comparator);function To(){return Lu}var Ps=new Hr(Gt.comparator);function Vu(){return Ps}var Rs=new Hr(Gt.comparator);function ri(){return Rs}var Ka=new er(Gt.comparator);function Un(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];for(var u=Ka,h=0,y=o;h<y.length;h++){var E=y[h];u=u.add(E)}return u}var Eg=new er(Rn);function Uu(){return Eg}var Vd=function(){function o(e,u,h,y,E){this.snapshotVersion=e,this.targetChanges=u,this.targetMismatches=h,this.documentUpdates=y,this.resolvedLimboDocuments=E}return o.createSynthesizedRemoteEventForCurrentChange=function(e,u){var h=new Map;return h.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,u)),new o(Sn.min(),h,Uu(),To(),Un())},o}(),Ul=function(){function o(e,u,h,y,E){this.resumeToken=e,this.current=u,this.addedDocuments=h,this.modifiedDocuments=y,this.removedDocuments=E}return o.createSynthesizedTargetChangeForCurrentChange=function(e,u){return new o(kr.EMPTY_BYTE_STRING,u,Un(),Un(),Un())},o}(),Za=function(o,e,u,h){this.v=o,this.removedTargetIds=e,this.key=u,this.P=h},Ud=function(o,e){this.targetId=o,this.V=e},Uc=function(o,e,u,h){void 0===u&&(u=kr.EMPTY_BYTE_STRING),void 0===h&&(h=null),this.state=o,this.targetIds=e,this.resumeToken=u,this.cause=h},op=function(){function o(){this.S=0,this.D=$r(),this.C=kr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(o.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),o.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},o.prototype.M=function(){var e=Un(),u=Un(),h=Un();return this.D.forEach(function(y,E){switch(E){case 0:e=e.add(y);break;case 2:u=u.add(y);break;case 1:h=h.add(y);break;default:Rt()}}),new Ul(this.C,this.N,e,u,h)},o.prototype.L=function(){this.k=!1,this.D=$r()},o.prototype.B=function(e,u){this.k=!0,this.D=this.D.insert(e,u)},o.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},o.prototype.U=function(){this.S+=1},o.prototype.K=function(){this.S-=1},o.prototype.j=function(){this.k=!0,this.N=!0},o}(),sp=function(){function o(e){this.W=e,this.G=new Map,this.H=To(),this.J=ap(),this.Y=new er(Rn)}return o.prototype.X=function(e){for(var u=0,h=e.v;u<h.length;u++){var y=h[u];e.P&&e.P.isFoundDocument()?this.Z(y,e.P):this.tt(y,e.key,e.P)}for(var E=0,I=e.removedTargetIds;E<I.length;E++)this.tt(y=I[E],e.key,e.P)},o.prototype.et=function(e){var u=this;this.forEachTarget(e,function(h){var y=u.nt(h);switch(e.state){case 0:u.st(h)&&y.O(e.resumeToken);break;case 1:y.K(),y.F||y.L(),y.O(e.resumeToken);break;case 2:y.K(),y.F||u.removeTarget(h);break;case 3:u.st(h)&&(y.j(),y.O(e.resumeToken));break;case 4:u.st(h)&&(u.it(h),y.O(e.resumeToken));break;default:Rt()}})},o.prototype.forEachTarget=function(e,u){var h=this;e.targetIds.length>0?e.targetIds.forEach(u):this.G.forEach(function(y,E){h.st(E)&&u(E)})},o.prototype.rt=function(e){var u=e.targetId,h=e.V.count,y=this.ot(u);if(y){var E=y.target;if(Oc(E))if(0===h){var I=new Gt(E.path);this.tt(u,I,Jn.newNoDocument(I,Sn.min()))}else Yt(1===h);else this.ct(u)!==h&&(this.it(u),this.Y=this.Y.add(u))}},o.prototype.ut=function(e){var u=this,h=new Map;this.G.forEach(function(I,x){var L=u.ot(x);if(L){if(I.current&&Oc(L.target)){var H=new Gt(L.target.path);null!==u.H.get(H)||u.at(x,H)||u.tt(x,H,Jn.newNoDocument(H,e))}I.$&&(h.set(x,I.M()),I.L())}});var y=Un();this.J.forEach(function(I,x){var L=!0;x.forEachWhile(function(H){var K=u.ot(H);return!K||2===K.purpose||(L=!1,!1)}),L&&(y=y.add(I))});var E=new Vd(e,h,this.Y,this.H,y);return this.H=To(),this.J=ap(),this.Y=new er(Rn),E},o.prototype.Z=function(e,u){if(this.st(e)){var h=this.at(e,u.key)?2:0;this.nt(e).B(u.key,h),this.H=this.H.insert(u.key,u),this.J=this.J.insert(u.key,this.ht(u.key).add(e))}},o.prototype.tt=function(e,u,h){if(this.st(e)){var y=this.nt(e);this.at(e,u)?y.B(u,1):y.q(u),this.J=this.J.insert(u,this.ht(u).delete(e)),h&&(this.H=this.H.insert(u,h))}},o.prototype.removeTarget=function(e){this.G.delete(e)},o.prototype.ct=function(e){var u=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+u.addedDocuments.size-u.removedDocuments.size},o.prototype.U=function(e){this.nt(e).U()},o.prototype.nt=function(e){var u=this.G.get(e);return u||(u=new op,this.G.set(e,u)),u},o.prototype.ht=function(e){var u=this.J.get(e);return u||(u=new er(Rn),this.J=this.J.insert(e,u)),u},o.prototype.st=function(e){var u=null!==this.ot(e);return u||dt("WatchChangeAggregator","Detected inactive target",e),u},o.prototype.ot=function(e){var u=this.G.get(e);return u&&u.F?null:this.W.lt(e)},o.prototype.it=function(e){var u=this;this.G.set(e,new op),this.W.getRemoteKeysForTarget(e).forEach(function(h){u.tt(e,h,null)})},o.prototype.at=function(e,u){return this.W.getRemoteKeysForTarget(e).has(u)},o}();function ap(){return new Hr(Gt.comparator)}function $r(){return new Hr(Gt.comparator)}var Qi={asc:"ASCENDING",desc:"DESCENDING"},Bc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ko=function(o,e){this.databaseId=o,this.I=e};function Zo(o,e){return o.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wh(o,e){return o.I?e.toBase64():e.toUint8Array()}function Ns(o,e){return Zo(o,e.toTimestamp())}function wr(o){return Yt(!!o),Sn.fromTimestamp((u=ds(o),new ni(u.seconds,u.nanos)));var u}function Bd(o,e){return(u=o,new Vn(["projects",u.projectId,"databases",u.database])).child("documents").child(e).canonicalString();var u}function Kh(o){var e=Vn.fromString(o);return Yt(ju(e)),e}function jc(o,e){return Bd(o.databaseId,e.path)}function mi(o,e){var u=Kh(e);if(u.get(1)!==o.databaseId.projectId)throw new tt(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+u.get(1)+" vs "+o.databaseId.projectId);if(u.get(3)!==o.databaseId.database)throw new tt(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+u.get(3)+" vs "+o.databaseId.database);return new Gt(wg(u))}function Ya(o,e){return Bd(o.databaseId,e)}function Bl(o){var e=Kh(o);return 4===e.length?Vn.emptyPath():wg(e)}function jd(o){return new Vn(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function wg(o){return Yt(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Gc(o,e,u){return{name:jc(o,e),fields:u.value.mapValue.fields}}function up(o,e,u){var h=mi(o,e.name),y=wr(e.updateTime),E=new Ki({mapValue:{fields:e.fields}}),I=Jn.newFoundDocument(h,y,E);return u&&I.setHasCommittedMutations(),u?I.setHasCommittedMutations():I}function Qa(o,e){var u,y;if(e instanceof Oi)u={update:Gc(o,e.key,e.value)};else if(e instanceof Lc)u={delete:jc(o,e.key)};else if(e instanceof qo)u={update:Gc(o,e.key,e.data),updateMask:Yh(e.fieldMask)};else{if(!(e instanceof rp))return Rt();u={verify:jc(o,e.key)}}return e.fieldTransforms.length>0&&(u.updateTransforms=e.fieldTransforms.map(function(h){return function(y,E){var I=E.transform;if(I instanceof Gr)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof Co)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof sa)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof za)return{fieldPath:E.field.canonicalString(),increment:I.A};throw Rt()}(0,h)})),e.precondition.isNone||(u.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:Ns(o,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Rt()),u}function Zh(o,e){var H,u=e.currentDocument?void 0!==(H=e.currentDocument).updateTime?dr.updateTime(wr(H.updateTime)):void 0!==H.exists?dr.exists(H.exists):dr.none():dr.none(),h=e.updateTransforms?e.updateTransforms.map(function(H){return function(K,ie){var pe=null;"setToServerValue"in ie?(Yt("REQUEST_TIME"===ie.setToServerValue),pe=new Gr):"appendMissingElements"in ie?pe=new Co(ie.appendMissingElements.values||[]):"removeAllFromArray"in ie?pe=new sa(ie.removeAllFromArray.values||[]):"increment"in ie?pe=new za(K,ie.increment):Rt();var Ue=xi.fromServerFormat(ie.fieldPath);return new wo(Ue,pe)}(o,H)}):[];if(e.update){var y=mi(o,e.update.name),E=new Ki({mapValue:{fields:e.update.fields}});if(e.updateMask){var I=function(H){return new cs((H.fieldPaths||[]).map(function(ie){return xi.fromServerFormat(ie)}))}(e.updateMask);return new qo(y,E,I,u,h)}return new Oi(y,E,u,h)}if(e.delete){var x=mi(o,e.delete);return new Lc(x,u)}if(e.verify){var L=mi(o,e.verify);return new rp(L,u)}return Rt()}function ua(o,e){return{documents:[Ya(o,e.path)]}}function Hc(o,e){var u={structuredQuery:{}},h=e.path;null!==e.collectionGroup?(u.parent=Ya(o,h),u.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u.parent=Ya(o,h.popLast()),u.structuredQuery.from=[{collectionId:h.lastSegment()}]);var y=function(x){if(0!==x.length){var L=x.map(function(H){return function(K){if("=="===K.op){if(Ir(K.value))return{unaryFilter:{field:Bu(K.field),op:"IS_NAN"}};if(Ad(K.value))return{unaryFilter:{field:Bu(K.field),op:"IS_NULL"}}}else if("!="===K.op){if(Ir(K.value))return{unaryFilter:{field:Bu(K.field),op:"IS_NOT_NAN"}};if(Ad(K.value))return{unaryFilter:{field:Bu(K.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(K.field),op:Gd(K.op),value:K.value}}}(H)});return 1===L.length?L[0]:{compositeFilter:{op:"AND",filters:L}}}}(e.filters);y&&(u.structuredQuery.where=y);var E=function(x){if(0!==x.length)return x.map(function(L){return{field:Bu((H=L).field),direction:$n(H.dir)};var H})}(e.orderBy);E&&(u.structuredQuery.orderBy=E);var L,I=(L=e.limit,o.I||Ua(L)?L:{value:L});return null!==I&&(u.structuredQuery.limit=I),e.startAt&&(u.structuredQuery.startAt=gs(e.startAt)),e.endAt&&(u.structuredQuery.endAt=gs(e.endAt)),u}function ii(o){var e=Bl(o.parent),u=o.structuredQuery,h=u.from?u.from.length:0,y=null;if(h>0){Yt(1===h);var E=u.from[0];E.allDescendants?y=E.collectionId:e=e.child(E.collectionId)}var I=[];u.where&&(I=la(u.where));var x=[];u.orderBy&&(x=u.orderBy.map(function(ie){return new xs(ms((pe=ie).field),function(Te){switch(Te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));var ie,pe,L=null;u.limit&&(L=Ua(pe="object"==typeof(ie=u.limit)?ie.value:ie)?null:pe);var H=null;u.startAt&&(H=$c(u.startAt));var K=null;return u.endAt&&(K=$c(u.endAt)),Nu(e,y,x,I,L,"F",H,K)}function la(o){return o?void 0!==o.unaryFilter?[Hd(o)]:void 0!==o.fieldFilter?[Ja(o)]:void 0!==o.compositeFilter?o.compositeFilter.filters.map(function(e){return la(e)}).reduce(function(e,u){return e.concat(u)}):Rt():[]}function gs(o){return{before:o.before,values:o.position}}function $c(o){return new Nl(o.values||[],!!o.before)}function $n(o){return Qi[o]}function Gd(o){return Bc[o]}function Bu(o){return{fieldPath:o.canonicalString()}}function ms(o){return xi.fromServerFormat(o.fieldPath)}function Ja(o){return Yi.create(ms(o.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Rt()}}(o.fieldFilter.op),o.fieldFilter.value)}function Hd(o){switch(o.unaryFilter.op){case"IS_NAN":var e=ms(o.unaryFilter.field);return Yi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var u=ms(o.unaryFilter.field);return Yi.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var h=ms(o.unaryFilter.field);return Yi.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=ms(o.unaryFilter.field);return Yi.create(y,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Rt()}}function Yh(o){var e=[];return o.fields.forEach(function(u){return e.push(u.canonicalString())}),{fieldPaths:e}}function ju(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}function ys(o){for(var e="",u=0;u<o.length;u++)e.length>0&&(e=Tg(e)),e=lp(o.get(u),e);return Tg(e)}function lp(o,e){for(var u=e,h=o.length,y=0;y<h;y++){var E=o.charAt(y);switch(E){case"\0":u+="\x01\x10";break;case"\x01":u+="\x01\x11";break;default:u+=E}}return u}function Tg(o){return o+"\x01\x01"}function Gu(o){var e=o.length;if(Yt(e>=2),2===e)return Yt("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Vn.emptyPath();for(var u=e-2,h=[],y="",E=0;E<e;){var I=o.indexOf("\x01",E);switch((I<0||I>u)&&Rt(),o.charAt(I+1)){case"\x01":var x=o.substring(E,I),L=void 0;0===y.length?L=x:(L=y+=x,y=""),h.push(L);break;case"\x10":y+=o.substring(E,I),y+="\0";break;case"\x11":y+=o.substring(E,I+1);break;default:Rt()}E=I+2}return new Vn(h)}var Xa=function(o,e){this.seconds=o,this.nanoseconds=e},or=function(o,e,u){this.ownerId=o,this.allowTabSynchronization=e,this.leaseTimestampMs=u};or.store="owner",or.key="owner";var Ji=function(o,e,u){this.userId=o,this.lastAcknowledgedBatchId=e,this.lastStreamToken=u};Ji.store="mutationQueues",Ji.keyPath="userId";var sr=function(o,e,u,h,y){this.userId=o,this.batchId=e,this.localWriteTimeMs=u,this.baseMutations=h,this.mutations=y};sr.store="mutations",sr.keyPath="batchId",sr.userMutationsIndex="userMutationsIndex",sr.userMutationsKeyPath=["userId","batchId"];var oi=function(){function o(){}return o.prefixForUser=function(e){return[e]},o.prefixForPath=function(e,u){return[e,ys(u)]},o.key=function(e,u,h){return[e,ys(u),h]},o}();oi.store="documentMutations",oi.PLACEHOLDER=new oi;var yi=function(o,e){this.path=o,this.readTime=e},Hu=function(o,e){this.path=o,this.version=e},ar=function(o,e,u,h,y,E){this.unknownDocument=o,this.noDocument=e,this.document=u,this.hasCommittedMutations=h,this.readTime=y,this.parentPath=E};ar.store="remoteDocuments",ar.readTimeIndex="readTimeIndex",ar.readTimeIndexPath="readTime",ar.collectionReadTimeIndex="collectionReadTimeIndex",ar.collectionReadTimeIndexPath=["parentPath","readTime"];var Yo=function(o){this.byteSize=o};Yo.store="remoteDocumentGlobal",Yo.key="remoteDocumentGlobalKey";var br=function(o,e,u,h,y,E,I){this.targetId=o,this.canonicalId=e,this.readTime=u,this.resumeToken=h,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=E,this.query=I};br.store="targets",br.keyPath="targetId",br.queryTargetsIndexName="queryTargetsIndex",br.queryTargetsKeyPath=["canonicalId","targetId"];var zr=function(o,e,u){this.targetId=o,this.path=e,this.sequenceNumber=u};zr.store="targetDocuments",zr.keyPath=["targetId","path"],zr.documentTargetsIndex="documentTargetsIndex",zr.documentTargetsKeyPath=["path","targetId"];var Do=function(o,e,u,h){this.highestTargetId=o,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=u,this.targetCount=h};Do.key="targetGlobalKey",Do.store="targetGlobal";var eu=function(o,e){this.collectionId=o,this.parent=e};eu.store="collectionParents",eu.keyPath=["collectionId","parent"];var ca=function(o,e,u,h){this.clientId=o,this.updateTimeMs=e,this.networkEnabled=u,this.inForeground=h};ca.store="clientMetadata",ca.keyPath="clientId";var da=function(o,e,u){this.bundleId=o,this.createTime=e,this.version=u};da.store="bundles",da.keyPath="bundleId";var jl=function(o,e,u){this.name=o,this.readTime=e,this.bundledQuery=u};jl.store="namedQueries",jl.keyPath="name";var Dg=(0,z.ev)((0,z.ev)([],(0,z.ev)((0,z.ev)([],(0,z.ev)((0,z.ev)([],(0,z.ev)((0,z.ev)([],[Ji.store,sr.store,oi.store,ar.store,br.store,or.store,Do.store,zr.store]),[ca.store])),[Yo.store])),[eu.store])),[da.store,jl.store]),Qh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jh=function(){function o(){this.onCommittedListeners=[]}return o.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},o.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},o}(),qr=function(){var o=this;this.promise=new Promise(function(e,u){o.resolve=e,o.reject=u})},st=function(){function o(e){var u=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(h){u.isDone=!0,u.result=h,u.nextCallback&&u.nextCallback(h)},function(h){u.isDone=!0,u.error=h,u.catchCallback&&u.catchCallback(h)})}return o.prototype.catch=function(e){return this.next(void 0,e)},o.prototype.next=function(e,u){var h=this;return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(u,this.error):this.wrapSuccess(e,this.result):new o(function(y,E){h.nextCallback=function(I){h.wrapSuccess(e,I).next(y,E)},h.catchCallback=function(I){h.wrapFailure(u,I).next(y,E)}})},o.prototype.toPromise=function(){var e=this;return new Promise(function(u,h){e.next(u,h)})},o.prototype.wrapUserFunction=function(e){try{var u=e();return u instanceof o?u:o.resolve(u)}catch(h){return o.reject(h)}},o.prototype.wrapSuccess=function(e,u){return e?this.wrapUserFunction(function(){return e(u)}):o.resolve(u)},o.prototype.wrapFailure=function(e,u){return e?this.wrapUserFunction(function(){return e(u)}):o.reject(u)},o.resolve=function(e){return new o(function(u,h){u(e)})},o.reject=function(e){return new o(function(u,h){h(e)})},o.waitFor=function(e){return new o(function(u,h){var y=0,E=0,I=!1;e.forEach(function(x){++y,x.next(function(){++E,I&&E===y&&u()},function(L){return h(L)})}),I=!0,E===y&&u()})},o.or=function(e){for(var u=o.resolve(!1),h=function(I){u=u.next(function(x){return x?o.resolve(x):I()})},y=0,E=e;y<E.length;y++)h(E[y]);return u},o.forEach=function(e,u){var h=this,y=[];return e.forEach(function(E,I){y.push(u.call(h,E,I))}),this.waitFor(y)},o}(),cp=function(){function o(e,u){var h=this;this.action=e,this.transaction=u,this.aborted=!1,this.ft=new qr,this.transaction.oncomplete=function(){h.ft.resolve()},this.transaction.onabort=function(){u.error?h.ft.reject(new ha(e,u.error)):h.ft.resolve()},this.transaction.onerror=function(y){var E=qc(y.target.error);h.ft.reject(new ha(e,E))}}return o.open=function(e,u,h,y){try{return new o(u,e.transaction(y,h))}catch(E){throw new ha(u,E)}},Object.defineProperty(o.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),o.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},o.prototype.store=function(e){var u=this.transaction.objectStore(e);return new Qo(u)},o}(),zc=function(){function o(e,u,h){this.name=e,this.version=u,this.wt=h,12.2===o._t((0,ft.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return o.delete=function(e){return dt("SimpleDb","Removing database:",e),Xi(window.indexedDB.deleteDatabase(e)).toPromise()},o.yt=function(){if("undefined"==typeof indexedDB)return!1;if(o.gt())return!0;var e=(0,ft.z$)(),u=o._t(e),h=0<u&&u<10,y=o.Et(e),E=0<y&&y<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||h||E)},o.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},o.It=function(e,u){return e.store(u)},o._t=function(e){var u=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),h=u?u[1].split("_").slice(0,2).join("."):"-1";return Number(h)},o.Et=function(e){var u=e.match(/Android ([\d.]+)/i),h=u?u[1].split(".").slice(0,2).join("."):"-1";return Number(h)},o.prototype.At=function(e){return(0,z.mG)(this,void 0,void 0,function(){var u,h=this;return(0,z.Jh)(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(dt("SimpleDb","Opening database:",this.name),u=this,[4,new Promise(function(E,I){var x=indexedDB.open(h.name,h.version);x.onsuccess=function(L){E(L.target.result)},x.onblocked=function(){I(new ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},x.onerror=function(L){var H=L.target.error;I("VersionError"===H.name?new tt(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ha(e,H))},x.onupgradeneeded=function(L){dt("SimpleDb",'Database "'+h.name+'" requires upgrade from version:',L.oldVersion),h.wt.Rt(L.target.result,x.transaction,L.oldVersion,h.version).next(function(){dt("SimpleDb","Database upgrade to version "+h.version+" complete")})}})]);case 1:u.db=y.sent(),y.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(E){return h.bt(E)}),this.db)]}})})},o.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(u){return e(u)})},o.prototype.runTransaction=function(e,u,h,y){return(0,z.mG)(this,void 0,void 0,function(){var E,I,x,L,H;return(0,z.Jh)(this,function(K){switch(K.label){case 0:E="readonly"===u,I=0,x=function(){var ie,pe,Te,Ae,Ue;return(0,z.Jh)(this,function(ut){switch(ut.label){case 0:++I,ut.label=1;case 1:return ut.trys.push([1,4,,5]),[4,L.At(e)];case 2:return L.db=ut.sent(),ie=cp.open(L.db,e,E?"readonly":"readwrite",h),pe=y(ie).catch(function(bt){return ie.abort(bt),st.reject(bt)}).toPromise(),Te={},pe.catch(function(){}),[4,ie.dt];case 3:return[2,(Te.value=(ut.sent(),pe),Te)];case 4:return dt("SimpleDb","Transaction failed with error:",(Ae=ut.sent()).message,"Retrying:",Ue="FirebaseError"!==Ae.name&&I<3),L.close(),Ue?[3,5]:[2,{value:Promise.reject(Ae)}];case 5:return[2]}})},L=this,K.label=1;case 1:return[5,x()];case 2:if("object"==typeof(H=K.sent()))return[2,H.value];K.label=3;case 3:return[3,1];case 4:return[2]}})})},o.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},o}(),dp=function(){function o(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(o.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),o.prototype.done=function(){this.Vt=!0},o.prototype.Ct=function(e){this.St=e},o.prototype.delete=function(){return Xi(this.Pt.delete())},o}(),ha=function(o){function e(u,h){var y=this;return(y=o.call(this,ke.UNAVAILABLE,"IndexedDB transaction '"+u+"' failed: "+h)||this).name="IndexedDbTransactionError",y}return(0,z.ZT)(e,o),e}(tt);function $u(o){return"IndexedDbTransactionError"===o.name}var Qo=function(){function o(e){this.store=e}return o.prototype.put=function(e,u){var h;return void 0!==u?(dt("SimpleDb","PUT",this.store.name,e,u),h=this.store.put(u,e)):(dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),h=this.store.put(e)),Xi(h)},o.prototype.add=function(e){return dt("SimpleDb","ADD",this.store.name,e,e),Xi(this.store.add(e))},o.prototype.get=function(e){var u=this;return Xi(this.store.get(e)).next(function(h){return void 0===h&&(h=null),dt("SimpleDb","GET",u.store.name,e,h),h})},o.prototype.delete=function(e){return dt("SimpleDb","DELETE",this.store.name,e),Xi(this.store.delete(e))},o.prototype.count=function(){return dt("SimpleDb","COUNT",this.store.name),Xi(this.store.count())},o.prototype.Nt=function(e,u){var h=this.cursor(this.options(e,u)),y=[];return this.xt(h,function(E,I){y.push(I)}).next(function(){return y})},o.prototype.kt=function(e,u){dt("SimpleDb","DELETE ALL",this.store.name);var h=this.options(e,u);h.Ft=!1;var y=this.cursor(h);return this.xt(y,function(E,I,x){return x.delete()})},o.prototype.$t=function(e,u){var h;u?h=e:(h={},u=e);var y=this.cursor(h);return this.xt(y,u)},o.prototype.Ot=function(e){var u=this.cursor({});return new st(function(h,y){u.onerror=function(E){var I=qc(E.target.error);y(I)},u.onsuccess=function(E){var I=E.target.result;I?e(I.primaryKey,I.value).next(function(x){x?I.continue():h()}):h()}})},o.prototype.xt=function(e,u){var h=[];return new st(function(y,E){e.onerror=function(I){E(I.target.error)},e.onsuccess=function(I){var x=I.target.result;if(x){var L=new dp(x),H=u(x.primaryKey,x.value,L);if(H instanceof st){var K=H.catch(function(ie){return L.done(),st.reject(ie)});h.push(K)}L.isDone?y():null===L.Dt?x.continue():x.continue(L.Dt)}else y()}}).next(function(){return st.waitFor(h)})},o.prototype.options=function(e,u){var h;return void 0!==e&&("string"==typeof e?h=e:u=e),{index:h,range:u}},o.prototype.cursor=function(e){var u="next";if(e.reverse&&(u="prev"),e.index){var h=this.store.index(e.index);return e.Ft?h.openKeyCursor(e.range,u):h.openCursor(e.range,u)}return this.store.openCursor(e.range,u)},o}();function Xi(o){return new st(function(e,u){o.onsuccess=function(h){e(h.target.result)},o.onerror=function(h){var y=qc(h.target.error);u(y)}})}var Gl=!1;function qc(o){var e=zc._t((0,ft.z$)());if(e>=12.2&&e<13){var u="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(u)>=0){var h=new tt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+u+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Gl||(Gl=!0,setTimeout(function(){throw h},0)),h}}return o}var hp=function(o){function e(u,h){var y=this;return(y=o.call(this)||this).Mt=u,y.currentSequenceNumber=h,y}return(0,z.ZT)(e,o),e}(Jh);function eo(o,e){var u=wt(o);return zc.It(u.Mt,e)}var ji=function(){function o(e,u,h,y){this.batchId=e,this.localWriteTime=u,this.baseMutations=h,this.mutations=y}return o.prototype.applyToRemoteDocument=function(e,u){for(var h=u.mutationResults,y=0;y<this.mutations.length;y++){var E=this.mutations[y];E.key.isEqual(e.key)&&ku(E,e,h[y])}},o.prototype.applyToLocalView=function(e){for(var u=0,h=this.baseMutations;u<h.length;u++)(I=h[u]).key.isEqual(e.key)&&kc(I,e,this.localWriteTime);for(var y=0,E=this.mutations;y<E.length;y++){var I;(I=E[y]).key.isEqual(e.key)&&kc(I,e,this.localWriteTime)}},o.prototype.applyToLocalDocumentSet=function(e){var u=this;this.mutations.forEach(function(h){var y=e.get(h.key),E=y;u.applyToLocalView(E),y.isValidDocument()||E.convertToNoDocument(Sn.min())})},o.prototype.keys=function(){return this.mutations.reduce(function(e,u){return e.add(u.key)},Un())},o.prototype.isEqual=function(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,function(u,h){return aa(u,h)})&&La(this.baseMutations,e.baseMutations,function(u,h){return aa(u,h)})},o}(),$d=function(){function o(e,u,h,y){this.batch=e,this.commitVersion=u,this.mutationResults=h,this.docVersions=y}return o.from=function(e,u,h){Yt(e.mutations.length===h.length);for(var y=ri(),E=e.mutations,I=0;I<E.length;I++)y=y.insert(E[I].key,h[I].version);return new o(e,u,h,y)},o}(),_i=function(){function o(e,u,h,y,E,I,x){void 0===E&&(E=Sn.min()),void 0===I&&(I=Sn.min()),void 0===x&&(x=kr.EMPTY_BYTE_STRING),this.target=e,this.targetId=u,this.purpose=h,this.sequenceNumber=y,this.snapshotVersion=E,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=x}return o.prototype.withSequenceNumber=function(e){return new o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},o.prototype.withResumeToken=function(e,u){return new o(this.target,this.targetId,this.purpose,this.sequenceNumber,u,this.lastLimboFreeSnapshotVersion,e)},o.prototype.withLastLimboFreeSnapshotVersion=function(e){return new o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},o}(),zu=function(o){this.Lt=o};function Xh(o,e){if(e.document)return up(o.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var u=Gt.fromSegments(e.noDocument.path),h=Kc(e.noDocument.readTime),y=Jn.newNoDocument(u,h);return e.hasCommittedMutations?y.setHasCommittedMutations():y}if(e.unknownDocument){var E=Gt.fromSegments(e.unknownDocument.path);return h=Kc(e.unknownDocument.version),Jn.newUnknownDocument(E,h)}return Rt()}function zd(o,e,u){var ie,pe,h=Wc(u),y=e.key.path.popLast().toArray();if(e.isFoundDocument()){var E={name:jc(ie=o.Lt,(pe=e).key),fields:pe.data.value.mapValue.fields,updateTime:Zo(ie,pe.version.toTimestamp())},I=e.hasCommittedMutations;return new ar(null,null,E,I,h,y)}if(e.isNoDocument()){var x=e.key.path.toArray(),L=Fs(e.version);return I=e.hasCommittedMutations,new ar(null,new yi(x,L),null,I,h,y)}if(e.isUnknownDocument()){var H=e.key.path.toArray(),K=Fs(e.version);return new ar(new Hu(H,K),null,null,!0,h,y)}return Rt()}function Wc(o){var e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function fp(o){var e=new ni(o[0],o[1]);return Sn.fromTimestamp(e)}function Fs(o){var e=o.toTimestamp();return new Xa(e.seconds,e.nanoseconds)}function Kc(o){var e=new ni(o.seconds,o.nanoseconds);return Sn.fromTimestamp(e)}function vi(o,e){for(var u=(e.baseMutations||[]).map(function(L){return Zh(o.Lt,L)}),h=0;h<e.mutations.length-1;++h)h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(e.mutations[h].updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h);var I=e.mutations.map(function(L){return Zh(o.Lt,L)}),x=ni.fromMillis(e.localWriteTimeMs);return new ji(e.batchId,x,u,I)}function ks(o){var e,u,h=Kc(o.readTime),y=void 0!==o.lastLimboFreeSnapshotVersion?Kc(o.lastLimboFreeSnapshotVersion):Sn.min();return void 0!==o.query.documents?(Yt(1===(u=o.query).documents.length),e=fs($a(Bl(u.documents[0])))):e=fs(ii(o.query)),new _i(e,o.targetId,0,o.lastListenSequenceNumber,h,y,kr.fromBase64String(o.resumeToken))}function qu(o,e){var u,h=Fs(e.snapshotVersion),y=Fs(e.lastLimboFreeSnapshotVersion);u=Oc(e.target)?ua(o.Lt,e.target):Hc(o.Lt,e.target);var E=e.resumeToken.toBase64();return new br(e.targetId,Uo(e.target),h,E,e.sequenceNumber,y,u)}function Jo(o){var e=ii({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Hh(e,e.limit,"L"):e}var Sg=function(){function o(){}return o.prototype.getBundleMetadata=function(e,u){return Ig(e).get(u).next(function(h){if(h)return{id:(y=h).bundleId,createTime:Kc(y.createTime),version:y.version};var y})},o.prototype.saveBundleMetadata=function(e,u){return Ig(e).put({bundleId:(h=u).id,createTime:Fs(wr(h.createTime)),version:h.version});var h},o.prototype.getNamedQuery=function(e,u){return qd(e).get(u).next(function(h){if(h)return{name:(y=h).name,query:Jo(y.bundledQuery),readTime:Kc(y.readTime)};var y})},o.prototype.saveNamedQuery=function(e,u){return qd(e).put({name:(h=u).name,readTime:Fs(wr(h.readTime)),bundledQuery:h.bundledQuery});var h},o}();function Ig(o){return eo(o,da.store)}function qd(o){return eo(o,jl.store)}var ef=function(){function o(){this.Bt=new So}return o.prototype.addToCollectionParentIndex=function(e,u){return this.Bt.add(u),st.resolve()},o.prototype.getCollectionParents=function(e,u){return st.resolve(this.Bt.getEntries(u))},o}(),So=function(){function o(){this.index={}}return o.prototype.add=function(e){var u=e.lastSegment(),h=e.popLast(),y=this.index[u]||new er(Vn.comparator),E=!y.has(h);return this.index[u]=y.add(h),E},o.prototype.has=function(e){var u=e.lastSegment(),h=e.popLast(),y=this.index[u];return y&&y.has(h)},o.prototype.getEntries=function(e){return(this.index[e]||new er(Vn.comparator)).toArray()},o}(),tu=function(){function o(){this.qt=new So}return o.prototype.addToCollectionParentIndex=function(e,u){var h=this;if(!this.qt.has(u)){var y=u.lastSegment(),E=u.popLast();e.addOnCommittedListener(function(){h.qt.add(u)});var I={collectionId:y,parent:ys(E)};return Ls(e).put(I)}return st.resolve()},o.prototype.getCollectionParents=function(e,u){var h=[],y=IDBKeyRange.bound([u,""],[Ol(u),""],!1,!0);return Ls(e).Nt(y).next(function(E){for(var I=0,x=E;I<x.length;I++){var L=x[I];if(L.collectionId!==u)break;h.push(Gu(L.parent))}return h})},o}();function Ls(o){return eo(o,eu.store)}var tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bi=function(){function o(e,u,h){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=u,this.maximumSequenceNumbersToCollect=h}return o.withCacheSize=function(e){return new o(e,o.DEFAULT_COLLECTION_PERCENTILE,o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},o}();function Vs(o,e,u){var h=o.store(sr.store),y=o.store(oi.store),E=[],I=IDBKeyRange.only(u.batchId),x=0,L=h.$t({range:I},function(Ae,Ue,ut){return x++,ut.delete()});E.push(L.next(function(){Yt(1===x)}));for(var H=[],K=0,ie=u.mutations;K<ie.length;K++){var pe=ie[K],Te=oi.key(e,pe.key.path,u.batchId);E.push(y.delete(Te)),H.push(pe.key)}return st.waitFor(E).next(function(){return H})}function Hl(o){if(!o)return 0;var e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw Rt();e=o.noDocument}return JSON.stringify(e).length}bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(41943040,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);var pp=function(){function o(e,u,h,y){this.userId=e,this.R=u,this.Ut=h,this.referenceDelegate=y,this.Kt={}}return o.Qt=function(e,u,h,y){return Yt(""!==e.uid),new o(e.isAuthenticated()?e.uid:"",u,h,y)},o.prototype.checkEmpty=function(e){var u=!0,h=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _s(e).$t({index:sr.userMutationsIndex,range:h},function(y,E,I){u=!1,I.done()}).next(function(){return u})},o.prototype.addMutationBatch=function(e,u,h,y){var E=this,I=Wu(e),x=_s(e);return x.add({}).next(function(L){Yt("number"==typeof L);for(var H=new ji(L,u,h,y),K=function(bt,Lt,Vt){var Mn=Vt.baseMutations.map(function(ur){return Qa(bt.Lt,ur)}),In=Vt.mutations.map(function(ur){return Qa(bt.Lt,ur)});return new sr(Lt,Vt.batchId,Vt.localWriteTime.toMillis(),Mn,In)}(E.R,E.userId,H),ie=[],pe=new er(function(bt,Lt){return Rn(bt.canonicalString(),Lt.canonicalString())}),Te=0,Ae=y;Te<Ae.length;Te++){var Ue=Ae[Te],ut=oi.key(E.userId,Ue.key.path,L);pe=pe.add(Ue.key.path.popLast()),ie.push(x.put(K)),ie.push(I.put(ut,oi.PLACEHOLDER))}return pe.forEach(function(bt){ie.push(E.Ut.addToCollectionParentIndex(e,bt))}),e.addOnCommittedListener(function(){E.Kt[L]=H.keys()}),st.waitFor(ie).next(function(){return H})})},o.prototype.lookupMutationBatch=function(e,u){var h=this;return _s(e).get(u).next(function(y){return y?(Yt(y.userId===h.userId),vi(h.R,y)):null})},o.prototype.jt=function(e,u){var h=this;return this.Kt[u]?st.resolve(this.Kt[u]):this.lookupMutationBatch(e,u).next(function(y){if(y){var E=y.keys();return h.Kt[u]=E,E}return null})},o.prototype.getNextMutationBatchAfterBatchId=function(e,u){var h=this,y=u+1,E=IDBKeyRange.lowerBound([this.userId,y]),I=null;return _s(e).$t({index:sr.userMutationsIndex,range:E},function(x,L,H){L.userId===h.userId&&(Yt(L.batchId>=y),I=vi(h.R,L)),H.done()}).next(function(){return I})},o.prototype.getHighestUnacknowledgedBatchId=function(e){var u=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),h=-1;return _s(e).$t({index:sr.userMutationsIndex,range:u,reverse:!0},function(y,E,I){h=E.batchId,I.done()}).next(function(){return h})},o.prototype.getAllMutationBatches=function(e){var u=this,h=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _s(e).Nt(sr.userMutationsIndex,h).next(function(y){return y.map(function(E){return vi(u.R,E)})})},o.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,u){var h=this,y=oi.prefixForPath(this.userId,u.path),E=IDBKeyRange.lowerBound(y),I=[];return Wu(e).$t({range:E},function(x,L,H){var K=x[0],pe=x[2],Te=Gu(x[1]);if(K===h.userId&&u.path.isEqual(Te))return _s(e).get(pe).next(function(Ae){if(!Ae)throw Rt();Yt(Ae.userId===h.userId),I.push(vi(h.R,Ae))});H.done()}).next(function(){return I})},o.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,u){var h=this,y=new er(Rn),E=[];return u.forEach(function(I){var x=oi.prefixForPath(h.userId,I.path),L=IDBKeyRange.lowerBound(x),H=Wu(e).$t({range:L},function(K,ie,pe){var Te=K[0],Ue=K[2],ut=Gu(K[1]);Te===h.userId&&I.path.isEqual(ut)?y=y.add(Ue):pe.done()});E.push(H)}),st.waitFor(E).next(function(){return h.Wt(e,y)})},o.prototype.getAllMutationBatchesAffectingQuery=function(e,u){var h=this,y=u.path,E=y.length+1,I=oi.prefixForPath(this.userId,y),x=IDBKeyRange.lowerBound(I),L=new er(Rn);return Wu(e).$t({range:x},function(H,K,ie){var pe=H[0],Ae=H[2],Ue=Gu(H[1]);pe===h.userId&&y.isPrefixOf(Ue)?Ue.length===E&&(L=L.add(Ae)):ie.done()}).next(function(){return h.Wt(e,L)})},o.prototype.Wt=function(e,u){var h=this,y=[],E=[];return u.forEach(function(I){E.push(_s(e).get(I).next(function(x){if(null===x)throw Rt();Yt(x.userId===h.userId),y.push(vi(h.R,x))}))}),st.waitFor(E).next(function(){return y})},o.prototype.removeMutationBatch=function(e,u){var h=this;return Vs(e.Mt,this.userId,u).next(function(y){return e.addOnCommittedListener(function(){h.Gt(u.batchId)}),st.forEach(y,function(E){return h.referenceDelegate.markPotentiallyOrphaned(e,E)})})},o.prototype.Gt=function(e){delete this.Kt[e]},o.prototype.performConsistencyCheck=function(e){var u=this;return this.checkEmpty(e).next(function(h){if(!h)return st.resolve();var y=IDBKeyRange.lowerBound(oi.prefixForUser(u.userId)),E=[];return Wu(e).$t({range:y},function(I,x,L){if(I[0]===u.userId){var H=Gu(I[1]);E.push(H)}else L.done()}).next(function(){Yt(0===E.length)})})},o.prototype.containsKey=function(e,u){return Wd(e,this.userId,u)},o.prototype.zt=function(e){var u=this;return Ag(e).get(this.userId).next(function(h){return h||new Ji(u.userId,-1,"")})},o}();function Wd(o,e,u){var h=oi.prefixForPath(e,u.path),y=h[1],E=IDBKeyRange.lowerBound(h),I=!1;return Wu(o).$t({range:E,Ft:!0},function(x,L,H){x[0]===e&&x[1]===y&&(I=!0),H.done()}).next(function(){return I})}function _s(o){return eo(o,sr.store)}function Wu(o){return eo(o,oi.store)}function Ag(o){return eo(o,Ji.store)}var Us=function(){function o(e){this.Ht=e}return o.prototype.next=function(){return this.Ht+=2,this.Ht},o.Jt=function(){return new o(0)},o.Yt=function(){return new o(-1)},o}(),Zc=function(){function o(e,u){this.referenceDelegate=e,this.R=u}return o.prototype.allocateTargetId=function(e){var u=this;return this.Xt(e).next(function(h){var y=new Us(h.highestTargetId);return h.highestTargetId=y.next(),u.Zt(e,h).next(function(){return h.highestTargetId})})},o.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(u){return Sn.fromTimestamp(new ni(u.lastRemoteSnapshotVersion.seconds,u.lastRemoteSnapshotVersion.nanoseconds))})},o.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(u){return u.highestListenSequenceNumber})},o.prototype.setTargetsMetadata=function(e,u,h){var y=this;return this.Xt(e).next(function(E){return E.highestListenSequenceNumber=u,h&&(E.lastRemoteSnapshotVersion=h.toTimestamp()),u>E.highestListenSequenceNumber&&(E.highestListenSequenceNumber=u),y.Zt(e,E)})},o.prototype.addTargetData=function(e,u){var h=this;return this.te(e,u).next(function(){return h.Xt(e).next(function(y){return y.targetCount+=1,h.ee(u,y),h.Zt(e,y)})})},o.prototype.updateTargetData=function(e,u){return this.te(e,u)},o.prototype.removeTargetData=function(e,u){var h=this;return this.removeMatchingKeysForTargetId(e,u.targetId).next(function(){return nu(e).delete(u.targetId)}).next(function(){return h.Xt(e)}).next(function(y){return Yt(y.targetCount>0),y.targetCount-=1,h.Zt(e,y)})},o.prototype.removeTargets=function(e,u,h){var y=this,E=0,I=[];return nu(e).$t(function(x,L){var H=ks(L);H.sequenceNumber<=u&&null===h.get(H.targetId)&&(E++,I.push(y.removeTargetData(e,H)))}).next(function(){return st.waitFor(I)}).next(function(){return E})},o.prototype.forEachTarget=function(e,u){return nu(e).$t(function(h,y){var E=ks(y);u(E)})},o.prototype.Xt=function(e){return Yc(e).get(Do.key).next(function(u){return Yt(null!==u),u})},o.prototype.Zt=function(e,u){return Yc(e).put(Do.key,u)},o.prototype.te=function(e,u){return nu(e).put(qu(this.R,u))},o.prototype.ee=function(e,u){var h=!1;return e.targetId>u.highestTargetId&&(u.highestTargetId=e.targetId,h=!0),e.sequenceNumber>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=e.sequenceNumber,h=!0),h},o.prototype.getTargetCount=function(e){return this.Xt(e).next(function(u){return u.targetCount})},o.prototype.getTargetData=function(e,u){var h=Uo(u),y=IDBKeyRange.bound([h,Number.NEGATIVE_INFINITY],[h,Number.POSITIVE_INFINITY]),E=null;return nu(e).$t({range:y,index:br.queryTargetsIndexName},function(I,x,L){var H=ks(x);Zi(u,H.target)&&(E=H,L.done())}).next(function(){return E})},o.prototype.addMatchingKeys=function(e,u,h){var y=this,E=[],I=Xo(e);return u.forEach(function(x){var L=ys(x.path);E.push(I.put(new zr(h,L))),E.push(y.referenceDelegate.addReference(e,h,x))}),st.waitFor(E)},o.prototype.removeMatchingKeys=function(e,u,h){var y=this,E=Xo(e);return st.forEach(u,function(I){var x=ys(I.path);return st.waitFor([E.delete([h,x]),y.referenceDelegate.removeReference(e,h,I)])})},o.prototype.removeMatchingKeysForTargetId=function(e,u){var h=Xo(e),y=IDBKeyRange.bound([u],[u+1],!1,!0);return h.delete(y)},o.prototype.getMatchingKeysForTargetId=function(e,u){var h=IDBKeyRange.bound([u],[u+1],!1,!0),y=Xo(e),E=Un();return y.$t({range:h,Ft:!0},function(I,x,L){var H=Gu(I[1]),K=new Gt(H);E=E.add(K)}).next(function(){return E})},o.prototype.containsKey=function(e,u){var h=ys(u.path),y=IDBKeyRange.bound([h],[Ol(h)],!1,!0),E=0;return Xo(e).$t({index:zr.documentTargetsIndex,Ft:!0,range:y},function(I,x,L){0!==I[0]&&(E++,L.done())}).next(function(){return E>0})},o.prototype.lt=function(e,u){return nu(e).get(u).next(function(h){return h?ks(h):null})},o}();function nu(o){return eo(o,br.store)}function Yc(o){return eo(o,Do.store)}function Xo(o){return eo(o,zr.store)}function Ku(o){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){if(o.code!==ke.FAILED_PRECONDITION||o.message!==Qh)throw o;return dt("LocalStore","Unexpectedly lost primary lease"),[2]})})}function gp(o,e){var h=o[1],E=e[1],I=Rn(o[0],e[0]);return 0===I?Rn(h,E):I}var Mg=function(){function o(e){this.ne=e,this.buffer=new er(gp),this.se=0}return o.prototype.ie=function(){return++this.se},o.prototype.re=function(e){var u=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(u);else{var h=this.buffer.last();gp(u,h)<0&&(this.buffer=this.buffer.delete(h).add(u))}},Object.defineProperty(o.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),o}(),mp=function(){function o(e,u){this.garbageCollector=e,this.asyncQueue=u,this.oe=!1,this.ce=null}return o.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},o.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(o.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),o.prototype.ue=function(e){var u=this,h=this.oe?3e5:6e4;dt("LruGarbageCollector","Garbage collection scheduled in "+h+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",h,function(){return(0,z.mG)(u,void 0,void 0,function(){var y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:this.ce=null,this.oe=!0,E.label=1;case 1:return E.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return E.sent(),[3,7];case 3:return $u(y=E.sent())?(dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,Ku(y)];case 5:E.sent(),E.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return E.sent(),[2]}})})})},o}(),xg=function(){function o(e,u){this.ae=e,this.params=u}return o.prototype.calculateTargetCount=function(e,u){return this.ae.he(e).next(function(h){return Math.floor(u/100*h)})},o.prototype.nthSequenceNumber=function(e,u){var h=this;if(0===u)return st.resolve(fi.o);var y=new Mg(u);return this.ae.forEachTarget(e,function(E){return y.re(E.sequenceNumber)}).next(function(){return h.ae.le(e,function(E){return y.re(E)})}).next(function(){return y.maxValue})},o.prototype.removeTargets=function(e,u,h){return this.ae.removeTargets(e,u,h)},o.prototype.removeOrphanedDocuments=function(e,u){return this.ae.removeOrphanedDocuments(e,u)},o.prototype.collect=function(e,u){var h=this;return-1===this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(tf)):this.getCacheSize(e).next(function(y){return y<h.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+h.params.cacheSizeCollectionThreshold),tf):h.fe(e,u)})},o.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},o.prototype.fe=function(e,u){var h,y,E,I,x,L,H,K=this,ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(pe){return pe>K.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+K.params.maximumSequenceNumbersToCollect+" from "+pe),y=K.params.maximumSequenceNumbersToCollect):y=pe,I=Date.now(),K.nthSequenceNumber(e,y)}).next(function(pe){return h=pe,x=Date.now(),K.removeTargets(e,h,u)}).next(function(pe){return E=pe,L=Date.now(),K.removeOrphanedDocuments(e,h)}).next(function(pe){return H=Date.now(),Xs()<=et.in.DEBUG&&dt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(I-ie)+"ms\n\tDetermined least recently used "+y+" in "+(x-I)+"ms\n\tRemoved "+E+" targets in "+(L-x)+"ms\n\tRemoved "+pe+" documents in "+(H-L)+"ms\nTotal Duration: "+(H-ie)+"ms"),st.resolve({didRun:!0,sequenceNumbersCollected:y,targetsRemoved:E,documentsRemoved:pe})})},o}(),Og=function(){function o(e,u){this.db=e,this.garbageCollector=new xg(this,u)}return o.prototype.he=function(e){var u=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(h){return u.next(function(y){return h+y})})},o.prototype.de=function(e){var u=0;return this.le(e,function(h){u++}).next(function(){return u})},o.prototype.forEachTarget=function(e,u){return this.db.getTargetCache().forEachTarget(e,u)},o.prototype.le=function(e,u){return this.we(e,function(h,y){return u(y)})},o.prototype.addReference=function(e,u,h){return $l(e,h)},o.prototype.removeReference=function(e,u,h){return $l(e,h)},o.prototype.removeTargets=function(e,u,h){return this.db.getTargetCache().removeTargets(e,u,h)},o.prototype.markPotentiallyOrphaned=function(e,u){return $l(e,u)},o.prototype._e=function(e,u){return y=u,E=!1,Ag(h=e).Ot(function(I){return Wd(h,I,y).next(function(x){return x&&(E=!0),st.resolve(!x)})}).next(function(){return E});var h,y,E},o.prototype.removeOrphanedDocuments=function(e,u){var h=this,y=this.db.getRemoteDocumentCache().newChangeBuffer(),E=[],I=0;return this.we(e,function(x,L){if(L<=u){var H=h._e(e,x).next(function(K){if(!K)return I++,y.getEntry(e,x).next(function(){return y.removeEntry(x),Xo(e).delete([0,ys(x.path)])})});E.push(H)}}).next(function(){return st.waitFor(E)}).next(function(){return y.apply(e)}).next(function(){return I})},o.prototype.removeTarget=function(e,u){var h=u.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,h)},o.prototype.updateLimboDocument=function(e,u){return $l(e,u)},o.prototype.we=function(e,u){var h,y=Xo(e),E=fi.o;return y.$t({index:zr.documentTargetsIndex},function(I,x){var H=x.path,K=x.sequenceNumber;0===I[0]?(E!==fi.o&&u(new Gt(Gu(h)),E),E=K,h=H):E=fi.o}).next(function(){E!==fi.o&&u(new Gt(Gu(h)),E)})},o.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},o}();function $l(o,e){return Xo(o).put((h=o.currentSequenceNumber,new zr(0,ys(e.path),h)));var h}var fa=function(){function o(e,u){this.mapKeyFn=e,this.equalsFn=u,this.inner={}}return o.prototype.get=function(e){var u=this.mapKeyFn(e),h=this.inner[u];if(void 0!==h)for(var y=0,E=h;y<E.length;y++){var I=E[y],L=I[1];if(this.equalsFn(I[0],e))return L}},o.prototype.has=function(e){return void 0!==this.get(e)},o.prototype.set=function(e,u){var h=this.mapKeyFn(e),y=this.inner[h];if(void 0!==y){for(var E=0;E<y.length;E++)if(this.equalsFn(y[E][0],e))return void(y[E]=[e,u]);y.push([e,u])}else this.inner[h]=[[e,u]]},o.prototype.delete=function(e){var u=this.mapKeyFn(e),h=this.inner[u];if(void 0===h)return!1;for(var y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return 1===h.length?delete this.inner[u]:h.splice(y,1),!0;return!1},o.prototype.forEach=function(e){ta(this.inner,function(u,h){for(var y=0,E=h;y<E.length;y++){var I=E[y];e(I[0],I[1])}})},o.prototype.isEmpty=function(){return Va(this.inner)},o}(),g=function(){function o(){this.changes=new fa(function(e){return e.toString()},function(e,u){return e.isEqual(u)}),this.changesApplied=!1}return o.prototype.getReadTime=function(e){var u=this.changes.get(e);return u?u.readTime:Sn.min()},o.prototype.addEntry=function(e,u){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:u})},o.prototype.removeEntry=function(e,u){void 0===u&&(u=null),this.assertNotApplied(),this.changes.set(e,{document:Jn.newInvalidDocument(e),readTime:u})},o.prototype.getEntry=function(e,u){this.assertNotApplied();var h=this.changes.get(u);return void 0!==h?st.resolve(h.document):this.getFromCache(e,u)},o.prototype.getEntries=function(e,u){return this.getAllFromCache(e,u)},o.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},o.prototype.assertNotApplied=function(){},o}(),p=function(){function o(e,u){this.R=e,this.Ut=u}return o.prototype.addEntry=function(e,u,h){return M(e).put(R(u),h)},o.prototype.removeEntry=function(e,u){var h=M(e),y=R(u);return h.delete(y)},o.prototype.updateMetadata=function(e,u){var h=this;return this.getMetadata(e).next(function(y){return y.byteSize+=u,h.me(e,y)})},o.prototype.getEntry=function(e,u){var h=this;return M(e).get(R(u)).next(function(y){return h.ye(u,y)})},o.prototype.ge=function(e,u){var h=this;return M(e).get(R(u)).next(function(y){return{document:h.ye(u,y),size:Hl(y)}})},o.prototype.getEntries=function(e,u){var h=this,y=To();return this.pe(e,u,function(E,I){var x=h.ye(E,I);y=y.insert(E,x)}).next(function(){return y})},o.prototype.Ee=function(e,u){var h=this,y=To(),E=new Hr(Gt.comparator);return this.pe(e,u,function(I,x){var L=h.ye(I,x);y=y.insert(I,L),E=E.insert(I,Hl(x))}).next(function(){return{documents:y,Te:E}})},o.prototype.pe=function(e,u,h){if(u.isEmpty())return st.resolve();var y=IDBKeyRange.bound(u.first().path.toArray(),u.last().path.toArray()),E=u.getIterator(),I=E.getNext();return M(e).$t({range:y},function(x,L,H){for(var K=Gt.fromSegments(x);I&&Gt.comparator(I,K)<0;)h(I,null),I=E.getNext();I&&I.isEqual(K)&&(h(I,L),I=E.hasNext()?E.getNext():null),I?H.Ct(I.path.toArray()):H.done()}).next(function(){for(;I;)h(I,null),I=E.hasNext()?E.getNext():null})},o.prototype.getDocumentsMatchingQuery=function(e,u,h){var y=this,E=To(),I=u.path.length+1,x={};if(h.isEqual(Sn.min())){var L=u.path.toArray();x.range=IDBKeyRange.lowerBound(L)}else{var H=u.path.toArray(),K=Wc(h);x.range=IDBKeyRange.lowerBound([H,K],!0),x.index=ar.collectionReadTimeIndex}return M(e).$t(x,function(ie,pe,Te){if(ie.length===I){var Ae=Xh(y.R,pe);u.path.isPrefixOf(Ae.key.path)?gi(u,Ae)&&(E=E.insert(Ae.key,Ae)):Te.done()}}).next(function(){return E})},o.prototype.newChangeBuffer=function(e){return new _(this,!!e&&e.trackRemovals)},o.prototype.getSize=function(e){return this.getMetadata(e).next(function(u){return u.byteSize})},o.prototype.getMetadata=function(e){return w(e).get(Yo.key).next(function(u){return Yt(!!u),u})},o.prototype.me=function(e,u){return w(e).put(Yo.key,u)},o.prototype.ye=function(e,u){if(u){var h=Xh(this.R,u);if(!h.isNoDocument()||!h.version.isEqual(Sn.min()))return h}return Jn.newInvalidDocument(e)},o}(),_=function(o){function e(u,h){var y=this;return(y=o.call(this)||this).Ie=u,y.trackRemovals=h,y.Ae=new fa(function(E){return E.toString()},function(E,I){return E.isEqual(I)}),y}return(0,z.ZT)(e,o),e.prototype.applyChanges=function(u){var h=this,y=[],E=0,I=new er(function(x,L){return Rn(x.canonicalString(),L.canonicalString())});return this.changes.forEach(function(x,L){var H=h.Ae.get(x);if(L.document.isValidDocument()){var K=zd(h.Ie.R,L.document,h.getReadTime(x));I=I.add(x.path.popLast());var ie=Hl(K);E+=ie-H,y.push(h.Ie.addEntry(u,x,K))}else if(E-=H,h.trackRemovals){var pe=zd(h.Ie.R,Jn.newNoDocument(x,Sn.min()),h.getReadTime(x));y.push(h.Ie.addEntry(u,x,pe))}else y.push(h.Ie.removeEntry(u,x))}),I.forEach(function(x){y.push(h.Ie.Ut.addToCollectionParentIndex(u,x))}),y.push(this.Ie.updateMetadata(u,E)),st.waitFor(y)},e.prototype.getFromCache=function(u,h){var y=this;return this.Ie.ge(u,h).next(function(E){return y.Ae.set(h,E.size),E.document})},e.prototype.getAllFromCache=function(u,h){var y=this;return this.Ie.Ee(u,h).next(function(E){var I=E.documents;return E.Te.forEach(function(x,L){y.Ae.set(x,L)}),I})},e}(g);function w(o){return eo(o,Yo.store)}function M(o){return eo(o,ar.store)}function R(o){return o.path.toArray()}var V=function(){function o(e){this.R=e}return o.prototype.Rt=function(e,u,h,y){var E=this;Yt(h<y&&h>=0&&y<=11);var L,I=new cp("createOrUpgrade",u);h<1&&y>=1&&(e.createObjectStore(or.store),(L=e).createObjectStore(Ji.store,{keyPath:Ji.keyPath}),L.createObjectStore(sr.store,{keyPath:sr.keyPath,autoIncrement:!0}).createIndex(sr.userMutationsIndex,sr.userMutationsKeyPath,{unique:!0}),L.createObjectStore(oi.store),Y(e),function(L){L.createObjectStore(ar.store)}(e));var x=st.resolve();return h<3&&y>=3&&(0!==h&&(function(L){L.deleteObjectStore(zr.store),L.deleteObjectStore(br.store),L.deleteObjectStore(Do.store)}(e),Y(e)),x=x.next(function(){return function(L){var H=L.store(Do.store),K=new Do(0,0,Sn.min().toTimestamp(),0);return H.put(Do.key,K)}(I)})),h<4&&y>=4&&(0!==h&&(x=x.next(function(){return function(L,H){return H.store(sr.store).Nt().next(function(K){L.deleteObjectStore(sr.store),L.createObjectStore(sr.store,{keyPath:sr.keyPath,autoIncrement:!0}).createIndex(sr.userMutationsIndex,sr.userMutationsKeyPath,{unique:!0});var ie=H.store(sr.store),pe=K.map(function(Te){return ie.put(Te)});return st.waitFor(pe)})}(e,I)})),x=x.next(function(){!function(L){L.createObjectStore(ca.store,{keyPath:ca.keyPath})}(e)})),h<5&&y>=5&&(x=x.next(function(){return E.Re(I)})),h<6&&y>=6&&(x=x.next(function(){return function(L){L.createObjectStore(Yo.store)}(e),E.be(I)})),h<7&&y>=7&&(x=x.next(function(){return E.ve(I)})),h<8&&y>=8&&(x=x.next(function(){return E.Pe(e,I)})),h<9&&y>=9&&(x=x.next(function(){(function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")})(e),function(L){var H=L.objectStore(ar.store);H.createIndex(ar.readTimeIndex,ar.readTimeIndexPath,{unique:!1}),H.createIndex(ar.collectionReadTimeIndex,ar.collectionReadTimeIndexPath,{unique:!1})}(u)})),h<10&&y>=10&&(x=x.next(function(){return E.Ve(I)})),h<11&&y>=11&&(x=x.next(function(){(function(L){L.createObjectStore(da.store,{keyPath:da.keyPath})})(e),function(L){L.createObjectStore(jl.store,{keyPath:jl.keyPath})}(e)})),x},o.prototype.be=function(e){var u=0;return e.store(ar.store).$t(function(h,y){u+=Hl(y)}).next(function(){var h=new Yo(u);return e.store(Yo.store).put(Yo.key,h)})},o.prototype.Re=function(e){var u=this,h=e.store(Ji.store),y=e.store(sr.store);return h.Nt().next(function(E){return st.forEach(E,function(I){var x=IDBKeyRange.bound([I.userId,-1],[I.userId,I.lastAcknowledgedBatchId]);return y.Nt(sr.userMutationsIndex,x).next(function(L){return st.forEach(L,function(H){Yt(H.userId===I.userId);var K=vi(u.R,H);return Vs(e,I.userId,K).next(function(){})})})})})},o.prototype.ve=function(e){var u=e.store(zr.store),h=e.store(ar.store);return e.store(Do.store).get(Do.key).next(function(y){var E=[];return h.$t(function(I,x){var L=new Vn(I),H=[0,ys(L)];E.push(u.get(H).next(function(K){return K?st.resolve():u.put(new zr(0,ys(L),y.highestListenSequenceNumber))}))}).next(function(){return st.waitFor(E)})})},o.prototype.Pe=function(e,u){e.createObjectStore(eu.store,{keyPath:eu.keyPath});var h=u.store(eu.store),y=new So,E=function(I){if(y.add(I)){var x=I.lastSegment(),L=I.popLast();return h.put({collectionId:x,parent:ys(L)})}};return u.store(ar.store).$t({Ft:!0},function(I,x){var L=new Vn(I);return E(L.popLast())}).next(function(){return u.store(oi.store).$t({Ft:!0},function(I,x){var H=Gu(I[1]);return E(H.popLast())})})},o.prototype.Ve=function(e){var u=this,h=e.store(br.store);return h.$t(function(y,E){var I=ks(E),x=qu(u.R,I);return h.put(x)})},o}();function Y(o){o.createObjectStore(zr.store,{keyPath:zr.keyPath}).createIndex(zr.documentTargetsIndex,zr.documentTargetsKeyPath,{unique:!0}),o.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.queryTargetsIndexName,br.queryTargetsKeyPath,{unique:!0}),o.createObjectStore(Do.store)}var X="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",oe=function(){function o(e,u,h,y,E,I,x,L,H,K){if(this.allowTabSynchronization=e,this.persistenceKey=u,this.clientId=h,this.Se=E,this.window=I,this.document=x,this.De=H,this.Ce=K,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(ie){return Promise.resolve()},!o.yt())throw new tt(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Og(this,y),this.Le=u+"main",this.R=new zu(L),this.Be=new zc(this.Le,11,new V(this.R)),this.qe=new Zc(this.referenceDelegate,this.R),this.Ut=new tu,this.Ue=new p(this.R,this.Ut),this.Ke=new Sg,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===K&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return o.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new tt(ke.FAILED_PRECONDITION,X);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(u){return e.qe.getHighestSequenceNumber(u)})}).then(function(u){e.Ne=new fi(u,e.De)}).then(function(){e.xe=!0}).catch(function(u){return e.Be&&e.Be.close(),Promise.reject(u)})},o.prototype.He=function(e){var u=this;return this.Me=function(h){return(0,z.mG)(u,void 0,void 0,function(){return(0,z.Jh)(this,function(y){return this.started?[2,e(h)]:[2]})})},e(this.isPrimary)},o.prototype.setDatabaseDeletedListener=function(e){var u=this;this.Be.vt(function(h){return(0,z.mG)(u,void 0,void 0,function(){return(0,z.Jh)(this,function(y){switch(y.label){case 0:return null===h.newVersion?[4,e()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},o.prototype.setNetworkEnabled=function(e){var u=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,z.mG)(u,void 0,void 0,function(){return(0,z.Jh)(this,function(h){switch(h.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})}))},o.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(u){return xe(u).put(new ca(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(u).next(function(h){h||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(u)}).next(function(h){return e.isPrimary&&!h?e.Xe(u).next(function(){return!1}):!!h&&e.Ze(u).next(function(){return!0})})}).catch(function(u){if($u(u))return dt("IndexedDbPersistence","Failed to extend owner lease: ",u),e.isPrimary;if(!e.allowTabSynchronization)throw u;return dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",u),!1}).then(function(u){e.isPrimary!==u&&e.Se.enqueueRetryable(function(){return e.Me(u)}),e.isPrimary=u})},o.prototype.Je=function(e){var u=this;return ce(e).get(or.key).next(function(h){return st.resolve(u.tn(h))})},o.prototype.en=function(e){return xe(e).delete(this.clientId)},o.prototype.nn=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u,h,E=this;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(x){var L=eo(x,ca.store);return L.Nt().next(function(H){var K=E.rn(H,18e5),ie=H.filter(function(pe){return-1===K.indexOf(pe)});return st.forEach(ie,function(pe){return L.delete(pe.clientId)}).next(function(){return ie})})}).catch(function(){return[]})]);case 1:if(e=I.sent(),this.Qe)for(u=0,h=e;u<h.length;u++)this.Qe.removeItem(this.on(h[u].clientId));I.label=2;case 2:return[2]}})})},o.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},o.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},o.prototype.Ye=function(e){var u=this;return this.Ce?st.resolve(!0):ce(e).get(or.key).next(function(h){if(null!==h&&u.sn(h.leaseTimestampMs,5e3)&&!u.cn(h.ownerId)){if(u.tn(h)&&u.networkEnabled)return!0;if(!u.tn(h)){if(!h.allowTabSynchronization)throw new tt(ke.FAILED_PRECONDITION,X);return!1}}return!(!u.networkEnabled||!u.inForeground)||xe(e).Nt().next(function(y){return void 0===u.rn(y,5e3).find(function(E){return!(u.clientId===E.clientId||!(!u.networkEnabled&&E.networkEnabled||!u.inForeground&&E.inForeground&&u.networkEnabled===E.networkEnabled))})})}).next(function(h){return u.isPrimary!==h&&dt("IndexedDbPersistence","Client "+(h?"is":"is not")+" eligible for a primary lease."),h})},o.prototype.shutdown=function(){return(0,z.mG)(this,void 0,void 0,function(){var e=this;return(0,z.Jh)(this,function(u){switch(u.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[or.store,ca.store],function(h){var y=new hp(h,fi.o);return e.Xe(y).next(function(){return e.en(y)})})];case 1:return u.sent(),this.Be.close(),this.ln(),[2]}})})},o.prototype.rn=function(e,u){var h=this;return e.filter(function(y){return h.sn(y.updateTimeMs,u)&&!h.cn(y.clientId)})},o.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(u){return xe(u).Nt().next(function(h){return e.rn(h,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(o.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),o.prototype.getMutationQueue=function(e){return pp.Qt(e,this.R,this.Ut,this.referenceDelegate)},o.prototype.getTargetCache=function(){return this.qe},o.prototype.getRemoteDocumentCache=function(){return this.Ue},o.prototype.getIndexManager=function(){return this.Ut},o.prototype.getBundleCache=function(){return this.Ke},o.prototype.runTransaction=function(e,u,h){var E,y=this;return dt("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===u?"readonly":"readwrite",Dg,function(x){return E=new hp(x,y.Ne?y.Ne.next():fi.o),"readwrite-primary"===u?y.Je(E).next(function(L){return!!L||y.Ye(E)}).next(function(L){if(!L)throw Sr("Failed to obtain primary lease for action '"+e+"'."),y.isPrimary=!1,y.Se.enqueueRetryable(function(){return y.Me(!1)}),new tt(ke.FAILED_PRECONDITION,Qh);return h(E)}).next(function(L){return y.Ze(E).next(function(){return L})}):y.dn(E).next(function(){return h(E)})}).then(function(x){return E.raiseOnCommittedEvent(),x})},o.prototype.dn=function(e){var u=this;return ce(e).get(or.key).next(function(h){if(null!==h&&u.sn(h.leaseTimestampMs,5e3)&&!u.cn(h.ownerId)&&!u.tn(h)&&!(u.Ce||u.allowTabSynchronization&&h.allowTabSynchronization))throw new tt(ke.FAILED_PRECONDITION,X)})},o.prototype.Ze=function(e){var u=new or(this.clientId,this.allowTabSynchronization,Date.now());return ce(e).put(or.key,u)},o.yt=function(){return zc.yt()},o.prototype.Xe=function(e){var u=this,h=ce(e);return h.get(or.key).next(function(y){return u.tn(y)?(dt("IndexedDbPersistence","Releasing primary lease."),h.delete(or.key)):st.resolve()})},o.prototype.sn=function(e,u){var h=Date.now();return!(e<h-u||e>h&&(Sr("Detected an update time that is in the future: "+e+" > "+h),1))},o.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},o.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},o.prototype.Ge=function(){var e,u=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){u.un(),(0,ft.G6)()&&navigator.appVersion.match("Version/14")&&u.Se.enterRestrictedMode(!0),u.Se.enqueueAndForget(function(){return u.shutdown()})},this.window.addEventListener("pagehide",this.ke))},o.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},o.prototype.cn=function(e){var u;try{var h=null!==(null===(u=this.Qe)||void 0===u?void 0:u.getItem(this.on(e)));return dt("IndexedDbPersistence","Client '"+e+"' "+(h?"is":"is not")+" zombied in LocalStorage"),h}catch(y){return Sr("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},o.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Sr("Failed to set zombie client id.",e)}},o.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},o.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},o}();function ce(o){return eo(o,or.store)}function xe(o){return eo(o,ca.store)}function Ge(o,e){var u=o.projectId;return o.isDefaultDatabase||(u+="."+o.database),"firestore/"+e+"/"+u+"/"}var Xe=function(o,e){this.progress=o,this.wn=e},Ct=function(){function o(e,u,h){this.Ue=e,this._n=u,this.Ut=h}return o.prototype.mn=function(e,u){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,u).next(function(y){return h.yn(e,u,y)})},o.prototype.yn=function(e,u,h){return this.Ue.getEntry(e,u).next(function(y){for(var E=0,I=h;E<I.length;E++)I[E].applyToLocalView(y);return y})},o.prototype.gn=function(e,u){e.forEach(function(h,y){for(var E=0,I=u;E<I.length;E++)I[E].applyToLocalView(y)})},o.prototype.pn=function(e,u){var h=this;return this.Ue.getEntries(e,u).next(function(y){return h.En(e,y).next(function(){return y})})},o.prototype.En=function(e,u){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,u).next(function(y){return h.gn(u,y)})},o.prototype.getDocumentsMatchingQuery=function(e,u,h){return Gt.isDocumentKey((y=u).path)&&null===y.collectionGroup&&0===y.filters.length?this.Tn(e,u.path):tp(u)?this.In(e,u,h):this.An(e,u,h);var y},o.prototype.Tn=function(e,u){return this.mn(e,new Gt(u)).next(function(h){var y=Vu();return h.isFoundDocument()&&(y=y.insert(h.key,h)),y})},o.prototype.In=function(e,u,h){var y=this,E=u.collectionGroup,I=Vu();return this.Ut.getCollectionParents(e,E).next(function(x){return st.forEach(x,function(L){var K,ie,H=(K=u,ie=L.child(E),new Go(ie,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));return y.An(e,H,h).next(function(K){K.forEach(function(ie,pe){I=I.insert(ie,pe)})})}).next(function(){return I})})},o.prototype.An=function(e,u,h){var y,E,I=this;return this.Ue.getDocumentsMatchingQuery(e,u,h).next(function(x){return y=x,I._n.getAllMutationBatchesAffectingQuery(e,u)}).next(function(x){return I.Rn(e,E=x,y).next(function(L){y=L;for(var H=0,K=E;H<K.length;H++)for(var ie=K[H],pe=0,Te=ie.mutations;pe<Te.length;pe++){var Ae=Te[pe],Ue=Ae.key,ut=y.get(Ue);null==ut&&(ut=Jn.newInvalidDocument(Ue),y=y.insert(Ue,ut)),kc(Ae,ut,ie.localWriteTime),ut.isFoundDocument()||(y=y.remove(Ue))}})}).next(function(){return y.forEach(function(x,L){gi(u,L)||(y=y.remove(x))}),y})},o.prototype.Rn=function(e,u,h){for(var y=Un(),E=0,I=u;E<I.length;E++)for(var x=0,L=I[E].mutations;x<L.length;x++){var H=L[x];H instanceof qo&&null===h.get(H.key)&&(y=y.add(H.key))}var K=h;return this.Ue.getEntries(e,y).next(function(ie){return ie.forEach(function(pe,Te){Te.isFoundDocument()&&(K=K.insert(pe,Te))}),K})},o}(),zt=function(){function o(e,u,h,y){this.targetId=e,this.fromCache=u,this.bn=h,this.vn=y}return o.Pn=function(e,u){for(var h=Un(),y=Un(),E=0,I=u.docChanges;E<I.length;E++){var x=I[E];switch(x.type){case 0:h=h.add(x.doc.key);break;case 1:y=y.add(x.doc.key)}}return new o(e,u.fromCache,h,y)},o}(),kt=function(){function o(){}return o.prototype.Vn=function(e){this.Sn=e},o.prototype.getDocumentsMatchingQuery=function(e,u,h,y){var I,E=this;return 0===(I=u).filters.length&&null===I.limit&&null==I.startAt&&null==I.endAt&&(0===I.explicitOrderBy.length||1===I.explicitOrderBy.length&&I.explicitOrderBy[0].field.isKeyField())||h.isEqual(Sn.min())?this.Dn(e,u):this.Sn.pn(e,y).next(function(I){var x=E.Cn(u,I);return(Pd(u)||ia(u))&&E.Nn(u.limitType,x,y,h)?E.Dn(e,u):(Xs()<=et.in.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Os(u)),E.Sn.getDocumentsMatchingQuery(e,u,h).next(function(L){return x.forEach(function(H){L=L.insert(H.key,H)}),L}))})},o.prototype.Cn=function(e,u){var h=new er(kl(e));return u.forEach(function(y,E){gi(e,E)&&(h=h.add(E))}),h},o.prototype.Nn=function(e,u,h,y){if(h.size!==u.size)return!0;var E="F"===e?u.last():u.first();return!!E&&(E.hasPendingWrites||E.version.compareTo(y)>0)},o.prototype.Dn=function(e,u){return Xs()<=et.in.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Os(u)),this.Sn.getDocumentsMatchingQuery(e,u,Sn.min())},o}(),sn=function(){function o(e,u,h,y){this.persistence=e,this.xn=u,this.R=y,this.kn=new Hr(Rn),this.Fn=new fa(function(E){return Uo(E)},Zi),this.$n=Sn.min(),this._n=e.getMutationQueue(h),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Ct(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return o.prototype.collectGarbage=function(e){var u=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(h){return e.collect(h,u.kn)})},o}();function Er(o,e,u,h){return new sn(o,e,u,h)}function es(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y,E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return u=wt(o),h=u._n,y=u.Mn,[4,u.persistence.runTransaction("Handle user change","readonly",function(x){var L;return u._n.getAllMutationBatches(x).next(function(H){return L=H,h=u.persistence.getMutationQueue(e),y=new Ct(u.On,h,u.persistence.getIndexManager()),h.getAllMutationBatches(x)}).next(function(H){for(var K=[],ie=[],pe=Un(),Te=0,Ae=L;Te<Ae.length;Te++){var Ue=Ae[Te];K.push(Ue.batchId);for(var ut=0,bt=Ue.mutations;ut<bt.length;ut++)pe=pe.add(bt[ut].key)}for(var Vt=0,Mn=H;Vt<Mn.length;Vt++){var In=Mn[Vt];ie.push(In.batchId);for(var ur=0,Hi=In.mutations;ur<Hi.length;ur++)pe=pe.add(Hi[ur].key)}return y.pn(x,pe).next(function(Mf){return{Ln:Mf,removedBatchIds:K,addedBatchIds:ie}})})})];case 1:return E=I.sent(),[2,(u._n=h,u.Mn=y,u.xn.Vn(u.Mn),E)]}})})}function zl(o,e){var u=wt(o);return u.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(h){var I,x,L,H,K,ie,pe,y=e.batch.keys(),E=u.On.newChangeBuffer({trackRemovals:!0});return(I=u,x=h,L=e,H=E,K=L.batch,ie=K.keys(),pe=st.resolve(),ie.forEach(function(Te){pe=pe.next(function(){return H.getEntry(x,Te)}).next(function(Ae){var Ue=L.docVersions.get(Te);Yt(null!==Ue),Ae.version.compareTo(Ue)<0&&(K.applyToRemoteDocument(Ae,L),Ae.isValidDocument()&&H.addEntry(Ae,L.commitVersion))})}),pe.next(function(){return I._n.removeMutationBatch(x,K)})).next(function(){return E.apply(h)}).next(function(){return u._n.performConsistencyCheck(h)}).next(function(){return u.Mn.pn(h,y)})})}function Qc(o){var e=wt(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(u){return e.qe.getLastRemoteSnapshotVersion(u)})}function Jc(o,e){var u=wt(o),h=e.snapshotVersion,y=u.kn;return u.persistence.runTransaction("Apply remote event","readwrite-primary",function(E){var I=u.On.newChangeBuffer({trackRemovals:!0});y=u.kn;var x=[];e.targetChanges.forEach(function(K,ie){var Ue,ut,bt,pe=y.get(ie);if(pe){x.push(u.qe.removeMatchingKeys(E,K.removedDocuments,ie).next(function(){return u.qe.addMatchingKeys(E,K.addedDocuments,ie)}));var Te=K.resumeToken;if(Te.approximateByteSize()>0){var Ae=pe.withResumeToken(Te,h).withSequenceNumber(E.currentSequenceNumber);y=y.insert(ie,Ae),Ue=pe,bt=K,Yt((ut=Ae).resumeToken.approximateByteSize()>0),(0===Ue.resumeToken.approximateByteSize()||ut.snapshotVersion.toMicroseconds()-Ue.snapshotVersion.toMicroseconds()>=3e8||bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0)&&x.push(u.qe.updateTargetData(E,Ae))}}});var L=To();if(e.documentUpdates.forEach(function(K,ie){e.resolvedLimboDocuments.has(K)&&x.push(u.persistence.referenceDelegate.updateLimboDocument(E,K))}),x.push(ql(E,I,e.documentUpdates,h,void 0).next(function(K){L=K})),!h.isEqual(Sn.min())){var H=u.qe.getLastRemoteSnapshotVersion(E).next(function(K){return u.qe.setTargetsMetadata(E,E.currentSequenceNumber,h)});x.push(H)}return st.waitFor(x).next(function(){return I.apply(E)}).next(function(){return u.Mn.En(E,L)}).next(function(){return L})}).then(function(E){return u.kn=y,E})}function ql(o,e,u,h,y){var E=Un();return u.forEach(function(I){return E=E.add(I)}),e.getEntries(o,E).next(function(I){var x=To();return u.forEach(function(L,H){var K=I.get(L),ie=(null==y?void 0:y.get(L))||h;H.isNoDocument()&&H.version.isEqual(Sn.min())?(e.removeEntry(L,ie),x=x.insert(L,H)):!K.isValidDocument()||H.version.compareTo(K.version)>0||0===H.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(H,ie),x=x.insert(L,H)):dt("LocalStore","Ignoring outdated watch update for ",L,". Current version:",K.version," Watch version:",H.version)}),x})}function yp(o,e){var u=wt(o);return u.persistence.runTransaction("Get next mutation batch","readonly",function(h){return void 0===e&&(e=-1),u._n.getNextMutationBatchAfterBatchId(h,e)})}function Wl(o,e){var u=wt(o);return u.persistence.runTransaction("Allocate target","readwrite",function(h){var y;return u.qe.getTargetData(h,e).next(function(E){return E?st.resolve(y=E):u.qe.allocateTargetId(h).next(function(I){return y=new _i(e,I,0,h.currentSequenceNumber),u.qe.addTargetData(h,y).next(function(){return y})})})}).then(function(h){var y=u.kn.get(h.targetId);return(null===y||h.snapshotVersion.compareTo(y.snapshotVersion)>0)&&(u.kn=u.kn.insert(h.targetId,h),u.Fn.set(e,h.targetId)),h})}function Xc(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y,E,I;return(0,z.Jh)(this,function(x){switch(x.label){case 0:h=wt(o),y=h.kn.get(e),E=u?"readwrite":"readwrite-primary",x.label=1;case 1:return x.trys.push([1,4,,5]),u?[3,3]:[4,h.persistence.runTransaction("Release target",E,function(L){return h.persistence.referenceDelegate.removeTarget(L,y)})];case 2:x.sent(),x.label=3;case 3:return[3,5];case 4:if(!$u(I=x.sent()))throw I;return dt("LocalStore","Failed to update sequence numbers for target "+e+": "+I),[3,5];case 5:return h.kn=h.kn.remove(e),h.Fn.delete(y.target),[2]}})})}function nf(o,e,u){var h=wt(o),y=Sn.min(),E=Un();return h.persistence.runTransaction("Execute query","readonly",function(I){return(x=h,L=I,H=fs(e),K=wt(x),ie=K.Fn.get(H),void 0!==ie?st.resolve(K.kn.get(ie)):K.qe.getTargetData(L,H)).next(function(x){if(x)return y=x.lastLimboFreeSnapshotVersion,h.qe.getMatchingKeysForTargetId(I,x.targetId).next(function(L){E=L})}).next(function(){return h.xn.getDocumentsMatchingQuery(I,e,u?y:Sn.min(),u?E:Un())}).next(function(x){return{documents:x,Bn:E}});var x,L,H,K,ie})}function Pg(o,e){var u=wt(o),h=wt(u.qe),y=u.kn.get(e);return y?Promise.resolve(y.target):u.persistence.runTransaction("Get target data","readonly",function(E){return h.lt(E,e).next(function(I){return I?I.target:null})})}function Rg(o){var e=wt(o);return e.persistence.runTransaction("Get new document changes","readonly",function(u){return y=u,E=e.$n,I=wt(e.On),x=To(),L=Wc(E),H=M(y),K=IDBKeyRange.lowerBound(L,!0),H.$t({index:ar.readTimeIndex,range:K},function(ie,pe){var Te=Xh(I.R,pe);x=x.insert(Te.key,Te),L=pe.readTime}).next(function(){return{wn:x,readTime:fp(L)}});var y,E,I,x,L,H,K}).then(function(u){var h=u.wn;return e.$n=u.readTime,h})}function Xm(o){return(0,z.mG)(this,void 0,void 0,function(){var e;return(0,z.Jh)(this,function(u){return[2,(e=wt(o)).persistence.runTransaction("Synchronize last document change read time","readonly",function(h){return E=M(h),I=Sn.min(),E.$t({index:ar.readTimeIndex,reverse:!0},function(x,L,H){L.readTime&&(I=fp(L.readTime)),H.done()}).next(function(){return I});var E,I}).then(function(h){e.$n=h})]})})}function vb(o,e,u,h){return(0,z.mG)(this,void 0,void 0,function(){var y,E,I,x,L,H,K,ie,pe,Te;return(0,z.Jh)(this,function(Ae){switch(Ae.label){case 0:for(y=wt(o),E=Un(),I=To(),x=ri(),L=0,H=u;L<H.length;L++)ie=e.qn((K=H[L]).metadata.name),K.document&&(E=E.add(ie)),I=I.insert(ie,e.Un(K)),x=x.insert(ie,e.Kn(K.metadata.readTime));return pe=y.On.newChangeBuffer({trackRemovals:!0}),[4,Wl(y,(Ue=h,fs($a(Vn.fromString("__bundle__/docs/"+Ue)))))];case 1:return Te=Ae.sent(),[2,y.persistence.runTransaction("Apply bundle documents","readwrite",function(Ue){return ql(Ue,pe,I,Sn.min(),x).next(function(ut){return pe.apply(Ue),ut}).next(function(ut){return y.qe.removeMatchingKeysForTargetId(Ue,Te.targetId).next(function(){return y.qe.addMatchingKeys(Ue,E,Te.targetId)}).next(function(){return y.Mn.En(Ue,ut)}).next(function(){return ut})})})]}var Ue})})}function ey(o,e,u){return void 0===u&&(u=Un()),(0,z.mG)(this,void 0,void 0,function(){var h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return[4,Wl(o,fs(Jo(e.bundledQuery)))];case 1:return h=E.sent(),[2,(y=wt(o)).persistence.runTransaction("Save named query","readwrite",function(I){var x=wr(e.readTime);if(h.snapshotVersion.compareTo(x)>=0)return y.Ke.saveNamedQuery(I,e);var L=h.withResumeToken(kr.EMPTY_BYTE_STRING,x);return y.kn=y.kn.insert(L.targetId,L),y.qe.updateTargetData(I,L).next(function(){return y.qe.removeMatchingKeysForTargetId(I,h.targetId)}).next(function(){return y.qe.addMatchingKeys(I,u,h.targetId)}).next(function(){return y.Ke.saveNamedQuery(I,e)})})]}})})}var S_=function(){function o(e){this.R=e,this.Qn=new Map,this.jn=new Map}return o.prototype.getBundleMetadata=function(e,u){return st.resolve(this.Qn.get(u))},o.prototype.saveBundleMetadata=function(e,u){var h;return this.Qn.set(u.id,{id:(h=u).id,version:h.version,createTime:wr(h.createTime)}),st.resolve()},o.prototype.getNamedQuery=function(e,u){return st.resolve(this.jn.get(u))},o.prototype.saveNamedQuery=function(e,u){return this.jn.set(u.name,{name:(h=u).name,query:Jo(h.bundledQuery),readTime:wr(h.readTime)}),st.resolve();var h},o}(),_p=function(){function o(){this.Wn=new er(Gi.Gn),this.zn=new er(Gi.Hn)}return o.prototype.isEmpty=function(){return this.Wn.isEmpty()},o.prototype.addReference=function(e,u){var h=new Gi(e,u);this.Wn=this.Wn.add(h),this.zn=this.zn.add(h)},o.prototype.Jn=function(e,u){var h=this;e.forEach(function(y){return h.addReference(y,u)})},o.prototype.removeReference=function(e,u){this.Yn(new Gi(e,u))},o.prototype.Xn=function(e,u){var h=this;e.forEach(function(y){return h.removeReference(y,u)})},o.prototype.Zn=function(e){var u=this,h=new Gt(new Vn([])),y=new Gi(h,e),E=new Gi(h,e+1),I=[];return this.zn.forEachInRange([y,E],function(x){u.Yn(x),I.push(x.key)}),I},o.prototype.ts=function(){var e=this;this.Wn.forEach(function(u){return e.Yn(u)})},o.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},o.prototype.es=function(e){var u=new Gt(new Vn([])),h=new Gi(u,e),y=new Gi(u,e+1),E=Un();return this.zn.forEachInRange([h,y],function(I){E=E.add(I.key)}),E},o.prototype.containsKey=function(e){var u=new Gi(e,0),h=this.Wn.firstAfterOrEqual(u);return null!==h&&e.isEqual(h.key)},o}(),Gi=function(){function o(e,u){this.key=e,this.ns=u}return o.Gn=function(e,u){return Gt.comparator(e.key,u.key)||Rn(e.ns,u.ns)},o.Hn=function(e,u){return Rn(e.ns,u.ns)||Gt.comparator(e.key,u.key)},o}(),bb=function(){function o(e,u){this.Ut=e,this.referenceDelegate=u,this._n=[],this.ss=1,this.rs=new er(Gi.Gn)}return o.prototype.checkEmpty=function(e){return st.resolve(0===this._n.length)},o.prototype.addMutationBatch=function(e,u,h,y){var E=this.ss;this.ss++;var I=new ji(E,u,h,y);this._n.push(I);for(var x=0,L=y;x<L.length;x++){var H=L[x];this.rs=this.rs.add(new Gi(H.key,E)),this.Ut.addToCollectionParentIndex(e,H.key.path.popLast())}return st.resolve(I)},o.prototype.lookupMutationBatch=function(e,u){return st.resolve(this.os(u))},o.prototype.getNextMutationBatchAfterBatchId=function(e,u){var y=this.cs(u+1),E=y<0?0:y;return st.resolve(this._n.length>E?this._n[E]:null)},o.prototype.getHighestUnacknowledgedBatchId=function(){return st.resolve(0===this._n.length?-1:this.ss-1)},o.prototype.getAllMutationBatches=function(e){return st.resolve(this._n.slice())},o.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,u){var h=this,y=new Gi(u,0),E=new Gi(u,Number.POSITIVE_INFINITY),I=[];return this.rs.forEachInRange([y,E],function(x){var L=h.os(x.ns);I.push(L)}),st.resolve(I)},o.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,u){var h=this,y=new er(Rn);return u.forEach(function(E){var I=new Gi(E,0),x=new Gi(E,Number.POSITIVE_INFINITY);h.rs.forEachInRange([I,x],function(L){y=y.add(L.ns)})}),st.resolve(this.us(y))},o.prototype.getAllMutationBatchesAffectingQuery=function(e,u){var h=u.path,y=h.length+1,E=h;Gt.isDocumentKey(E)||(E=E.child(""));var I=new Gi(new Gt(E),0),x=new er(Rn);return this.rs.forEachWhile(function(L){var H=L.key.path;return!!h.isPrefixOf(H)&&(H.length===y&&(x=x.add(L.ns)),!0)},I),st.resolve(this.us(x))},o.prototype.us=function(e){var u=this,h=[];return e.forEach(function(y){var E=u.os(y);null!==E&&h.push(E)}),h},o.prototype.removeMutationBatch=function(e,u){var h=this;Yt(0===this.hs(u.batchId,"removed")),this._n.shift();var y=this.rs;return st.forEach(u.mutations,function(E){var I=new Gi(E.key,u.batchId);return y=y.delete(I),h.referenceDelegate.markPotentiallyOrphaned(e,E.key)}).next(function(){h.rs=y})},o.prototype.Gt=function(e){},o.prototype.containsKey=function(e,u){var h=new Gi(u,0),y=this.rs.firstAfterOrEqual(h);return st.resolve(u.isEqual(y&&y.key))},o.prototype.performConsistencyCheck=function(e){return st.resolve()},o.prototype.hs=function(e,u){return this.cs(e)},o.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},o.prototype.os=function(e){var u=this.cs(e);return u<0||u>=this._n.length?null:this._n[u]},o}(),ru=function(){function o(e,u){this.Ut=e,this.ls=u,this.docs=new Hr(Gt.comparator),this.size=0}return o.prototype.addEntry=function(e,u,h){var y=u.key,E=this.docs.get(y),I=E?E.size:0,x=this.ls(u);return this.docs=this.docs.insert(y,{document:u.clone(),size:x,readTime:h}),this.size+=x-I,this.Ut.addToCollectionParentIndex(e,y.path.popLast())},o.prototype.removeEntry=function(e){var u=this.docs.get(e);u&&(this.docs=this.docs.remove(e),this.size-=u.size)},o.prototype.getEntry=function(e,u){var h=this.docs.get(u);return st.resolve(h?h.document.clone():Jn.newInvalidDocument(u))},o.prototype.getEntries=function(e,u){var h=this,y=To();return u.forEach(function(E){var I=h.docs.get(E);y=y.insert(E,I?I.document.clone():Jn.newInvalidDocument(E))}),st.resolve(y)},o.prototype.getDocumentsMatchingQuery=function(e,u,h){for(var y=To(),E=new Gt(u.path.child("")),I=this.docs.getIteratorFrom(E);I.hasNext();){var x=I.getNext(),H=x.value,K=H.document,ie=H.readTime;if(!u.path.isPrefixOf(x.key.path))break;ie.compareTo(h)<=0||gi(u,K)&&(y=y.insert(K.key,K.clone()))}return st.resolve(y)},o.prototype.fs=function(e,u){return st.forEach(this.docs,function(h){return u(h)})},o.prototype.newChangeBuffer=function(e){return new ty(this)},o.prototype.getSize=function(e){return st.resolve(this.size)},o}(),ty=function(o){function e(u){var h=this;return(h=o.call(this)||this).Ie=u,h}return(0,z.ZT)(e,o),e.prototype.applyChanges=function(u){var h=this,y=[];return this.changes.forEach(function(E,I){I.document.isValidDocument()?y.push(h.Ie.addEntry(u,I.document,h.getReadTime(E))):h.Ie.removeEntry(E)}),st.waitFor(y)},e.prototype.getFromCache=function(u,h){return this.Ie.getEntry(u,h)},e.prototype.getAllFromCache=function(u,h){return this.Ie.getEntries(u,h)},e}(g),ny=function(){function o(e){this.persistence=e,this.ds=new fa(function(u){return Uo(u)},Zi),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.ws=0,this._s=new _p,this.targetCount=0,this.ys=Us.Jt()}return o.prototype.forEachTarget=function(e,u){return this.ds.forEach(function(h,y){return u(y)}),st.resolve()},o.prototype.getLastRemoteSnapshotVersion=function(e){return st.resolve(this.lastRemoteSnapshotVersion)},o.prototype.getHighestSequenceNumber=function(e){return st.resolve(this.ws)},o.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),st.resolve(this.highestTargetId)},o.prototype.setTargetsMetadata=function(e,u,h){return h&&(this.lastRemoteSnapshotVersion=h),u>this.ws&&(this.ws=u),st.resolve()},o.prototype.te=function(e){this.ds.set(e.target,e);var u=e.targetId;u>this.highestTargetId&&(this.ys=new Us(u),this.highestTargetId=u),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},o.prototype.addTargetData=function(e,u){return this.te(u),this.targetCount+=1,st.resolve()},o.prototype.updateTargetData=function(e,u){return this.te(u),st.resolve()},o.prototype.removeTargetData=function(e,u){return this.ds.delete(u.target),this._s.Zn(u.targetId),this.targetCount-=1,st.resolve()},o.prototype.removeTargets=function(e,u,h){var y=this,E=0,I=[];return this.ds.forEach(function(x,L){L.sequenceNumber<=u&&null===h.get(L.targetId)&&(y.ds.delete(x),I.push(y.removeMatchingKeysForTargetId(e,L.targetId)),E++)}),st.waitFor(I).next(function(){return E})},o.prototype.getTargetCount=function(e){return st.resolve(this.targetCount)},o.prototype.getTargetData=function(e,u){var h=this.ds.get(u)||null;return st.resolve(h)},o.prototype.addMatchingKeys=function(e,u,h){return this._s.Jn(u,h),st.resolve()},o.prototype.removeMatchingKeys=function(e,u,h){this._s.Xn(u,h);var y=this.persistence.referenceDelegate,E=[];return y&&u.forEach(function(I){E.push(y.markPotentiallyOrphaned(e,I))}),st.waitFor(E)},o.prototype.removeMatchingKeysForTargetId=function(e,u){return this._s.Zn(u),st.resolve()},o.prototype.getMatchingKeysForTargetId=function(e,u){var h=this._s.es(u);return st.resolve(h)},o.prototype.containsKey=function(e,u){return st.resolve(this._s.containsKey(u))},o}(),I_=function(){function o(e,u){var h=this;this.gs={},this.Ne=new fi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ny(this),this.Ut=new ef,this.Ue=new ru(this.Ut,function(I){return h.referenceDelegate.ps(I)}),this.R=new zu(u),this.Ke=new S_(this.R)}return o.prototype.start=function(){return Promise.resolve()},o.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(o.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),o.prototype.setDatabaseDeletedListener=function(){},o.prototype.setNetworkEnabled=function(){},o.prototype.getIndexManager=function(){return this.Ut},o.prototype.getMutationQueue=function(e){var u=this.gs[e.toKey()];return u||(u=new bb(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=u),u},o.prototype.getTargetCache=function(){return this.qe},o.prototype.getRemoteDocumentCache=function(){return this.Ue},o.prototype.getBundleCache=function(){return this.Ke},o.prototype.runTransaction=function(e,u,h){var y=this;dt("MemoryPersistence","Starting transaction:",e);var E=new iu(this.Ne.next());return this.referenceDelegate.Es(),h(E).next(function(I){return y.referenceDelegate.Ts(E).next(function(){return I})}).toPromise().then(function(I){return E.raiseOnCommittedEvent(),I})},o.prototype.Is=function(e,u){return st.or(Object.values(this.gs).map(function(h){return function(){return h.containsKey(e,u)}}))},o}(),iu=function(o){function e(u){var h=this;return(h=o.call(this)||this).currentSequenceNumber=u,h}return(0,z.ZT)(e,o),e}(Jh),A_=function(){function o(e){this.persistence=e,this.As=new _p,this.Rs=null}return o.bs=function(e){return new o(e)},Object.defineProperty(o.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Rt()},enumerable:!1,configurable:!0}),o.prototype.addReference=function(e,u,h){return this.As.addReference(h,u),this.vs.delete(h.toString()),st.resolve()},o.prototype.removeReference=function(e,u,h){return this.As.removeReference(h,u),this.vs.add(h.toString()),st.resolve()},o.prototype.markPotentiallyOrphaned=function(e,u){return this.vs.add(u.toString()),st.resolve()},o.prototype.removeTarget=function(e,u){var h=this;this.As.Zn(u.targetId).forEach(function(E){return h.vs.add(E.toString())});var y=this.persistence.getTargetCache();return y.getMatchingKeysForTargetId(e,u.targetId).next(function(E){E.forEach(function(I){return h.vs.add(I.toString())})}).next(function(){return y.removeTargetData(e,u)})},o.prototype.Es=function(){this.Rs=new Set},o.prototype.Ts=function(e){var u=this,h=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.vs,function(y){var E=Gt.fromPath(y);return u.Ps(e,E).next(function(I){I||h.removeEntry(E)})}).next(function(){return u.Rs=null,h.apply(e)})},o.prototype.updateLimboDocument=function(e,u){var h=this;return this.Ps(e,u).next(function(y){y?h.vs.delete(u.toString()):h.vs.add(u.toString())})},o.prototype.ps=function(e){return 0},o.prototype.Ps=function(e,u){var h=this;return st.or([function(){return st.resolve(h.As.containsKey(u))},function(){return h.persistence.getTargetCache().containsKey(e,u)},function(){return h.persistence.Is(e,u)}])},o}(),Pi=function(){function o(e){this.uid=e}return o.prototype.isAuthenticated=function(){return null!=this.uid},o.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},o.prototype.isEqual=function(e){return e.uid===this.uid},o}();function ry(o,e){return"firestore_clients_"+o+"_"+e}function M_(o,e,u){var h="firestore_mutations_"+o+"_"+u;return e.isAuthenticated()&&(h+="_"+e.uid),h}function iy(o,e){return"firestore_targets_"+o+"_"+e}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");var x_=function(){function o(e,u,h,y){this.user=e,this.batchId=u,this.state=h,this.error=y}return o.Vs=function(e,u,h){var y,E=JSON.parse(h),I="object"==typeof E&&-1!==["pending","acknowledged","rejected"].indexOf(E.state)&&(void 0===E.error||"object"==typeof E.error);return I&&E.error&&(I="string"==typeof E.error.message&&"string"==typeof E.error.code)&&(y=new tt(E.error.code,E.error.message)),I?new o(e,u,E.state,y):(Sr("SharedClientState","Failed to parse mutation state for ID '"+u+"': "+h),null)},o.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},o}(),tn=function(){function o(e,u,h){this.targetId=e,this.state=u,this.error=h}return o.Vs=function(e,u){var h,y=JSON.parse(u),E="object"==typeof y&&-1!==["not-current","current","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return E&&y.error&&(E="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(h=new tt(y.error.code,y.error.message)),E?new o(e,y.state,h):(Sr("SharedClientState","Failed to parse target state for ID '"+e+"': "+u),null)},o.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},o}(),Ng=function(){function o(e,u){this.clientId=e,this.activeTargetIds=u}return o.Vs=function(e,u){for(var h=JSON.parse(u),y="object"==typeof h&&h.activeTargetIds instanceof Array,E=Uu(),I=0;y&&I<h.activeTargetIds.length;++I)y=_g(h.activeTargetIds[I]),E=E.add(h.activeTargetIds[I]);return y?new o(e,E):(Sr("SharedClientState","Failed to parse client data for instance '"+e+"': "+u),null)},o}(),Fg=function(){function o(e,u){this.clientId=e,this.onlineState=u}return o.Vs=function(e){var u=JSON.parse(e);return"object"==typeof u&&-1!==["Unknown","Online","Offline"].indexOf(u.onlineState)&&"string"==typeof u.clientId?new o(u.clientId,u.onlineState):(Sr("SharedClientState","Failed to parse online state: "+e),null)},o}(),Kd=function(){function o(){this.activeTargetIds=Uu()}return o.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},o.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},o.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},o}(),Ci=function(){function o(e,u,h,y,E){this.window=e,this.Se=u,this.persistenceKey=h,this.Ns=y,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Hr(Rn),this.started=!1,this.$s=[];var I=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.Os=ry(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Kd),this.Ls=new RegExp("^firestore_clients_"+I+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+I+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+I+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(x){return"firestore_bundle_loaded_"+x}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return o.yt=function(e){return!(!e||!e.localStorage)},o.prototype.start=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u,h,y,E,I,x,L,H,K,pe=this;return(0,z.Jh)(this,function(Te){switch(Te.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=Te.sent(),u=0,h=e;u<h.length;u++)(y=h[u])!==this.Ns&&(E=this.getItem(ry(this.persistenceKey,y)))&&(I=Ng.Vs(y,E))&&(this.Fs=this.Fs.insert(I.clientId,I));for(this.Qs(),(x=this.storage.getItem(this.Us))&&(L=this.js(x))&&this.Ws(L),H=0,K=this.$s;H<K.length;H++)this.ks(K[H]);return this.$s=[],this.window.addEventListener("pagehide",function(){return pe.shutdown()}),this.started=!0,[2]}})})},o.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},o.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},o.prototype.isActiveQueryTarget=function(e){var u=!1;return this.Fs.forEach(function(h,y){y.activeTargetIds.has(e)&&(u=!0)}),u},o.prototype.addPendingMutation=function(e){this.zs(e,"pending")},o.prototype.updateMutationState=function(e,u,h){this.zs(e,u,h),this.Hs(e)},o.prototype.addLocalQueryTarget=function(e){var u="not-current";if(this.isActiveQueryTarget(e)){var h=this.storage.getItem(iy(this.persistenceKey,e));if(h){var y=tn.Vs(e,h);y&&(u=y.state)}}return this.Js.Ds(e),this.Qs(),u},o.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},o.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},o.prototype.clearQueryState=function(e){this.removeItem(iy(this.persistenceKey,e))},o.prototype.updateQueryState=function(e,u,h){this.Ys(e,u,h)},o.prototype.handleUserChange=function(e,u,h){var y=this;u.forEach(function(E){y.Hs(E)}),this.currentUser=e,h.forEach(function(E){y.addPendingMutation(E)})},o.prototype.setOnlineState=function(e){this.Xs(e)},o.prototype.notifyBundleLoaded=function(){this.Zs()},o.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},o.prototype.getItem=function(e){var u=this.storage.getItem(e);return dt("SharedClientState","READ",e,u),u},o.prototype.setItem=function(e,u){dt("SharedClientState","SET",e,u),this.storage.setItem(e,u)},o.prototype.removeItem=function(e){dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},o.prototype.ks=function(e){var u=this,h=e;if(h.storageArea===this.storage){if(dt("SharedClientState","EVENT",h.key,h.newValue),h.key===this.Os)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,z.mG)(u,void 0,void 0,function(){var y,E,I,x,L,H;return(0,z.Jh)(this,function(K){if(this.started){if(null!==h.key)if(this.Ls.test(h.key)){if(null==h.newValue)return y=this.ti(h.key),[2,this.ei(y,null)];if(E=this.ni(h.key,h.newValue))return[2,this.ei(E.clientId,E)]}else if(this.Bs.test(h.key)){if(null!==h.newValue&&(I=this.si(h.key,h.newValue)))return[2,this.ii(I)]}else if(this.qs.test(h.key)){if(null!==h.newValue&&(x=this.ri(h.key,h.newValue)))return[2,this.oi(x)]}else if(h.key===this.Us){if(null!==h.newValue&&(L=this.js(h.newValue)))return[2,this.Ws(L)]}else if(h.key===this.Ms)(H=function(ie){var pe=fi.o;if(null!=ie)try{var Te=JSON.parse(ie);Yt("number"==typeof Te),pe=Te}catch(Ae){Sr("SharedClientState","Failed to read sequence number from WebStorage",Ae)}return pe}(h.newValue))!==fi.o&&this.sequenceNumberHandler(H);else if(h.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(h);return[2]})})})}},Object.defineProperty(o.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),o.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},o.prototype.zs=function(e,u,h){var y=new x_(this.currentUser,e,u,h),E=M_(this.persistenceKey,this.currentUser,e);this.setItem(E,y.Ss())},o.prototype.Hs=function(e){var u=M_(this.persistenceKey,this.currentUser,e);this.removeItem(u)},o.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},o.prototype.Ys=function(e,u,h){var y=iy(this.persistenceKey,e),E=new tn(e,u,h);this.setItem(y,E.Ss())},o.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},o.prototype.ti=function(e){var u=this.Ls.exec(e);return u?u[1]:null},o.prototype.ni=function(e,u){var h=this.ti(e);return Ng.Vs(h,u)},o.prototype.si=function(e,u){var h=this.Bs.exec(e),y=Number(h[1]);return x_.Vs(new Pi(void 0!==h[2]?h[2]:null),y,u)},o.prototype.ri=function(e,u){var h=this.qs.exec(e),y=Number(h[1]);return tn.Vs(y,u)},o.prototype.js=function(e){return Fg.Vs(e)},o.prototype.ii=function(e){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(u){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(dt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},o.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},o.prototype.ei=function(e,u){var h=this,y=u?this.Fs.insert(e,u):this.Fs.remove(e),E=this.Gs(this.Fs),I=this.Gs(y),x=[],L=[];return I.forEach(function(H){E.has(H)||x.push(H)}),E.forEach(function(H){I.has(H)||L.push(H)}),this.syncEngine.hi(x,L).then(function(){h.Fs=y})},o.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},o.prototype.Gs=function(e){var u=Uu();return e.forEach(function(h,y){u=u.unionWith(y.activeTargetIds)}),u},o}(),kg=function(){function o(){this.li=new Kd,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return o.prototype.addPendingMutation=function(e){},o.prototype.updateMutationState=function(e,u,h){},o.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},o.prototype.updateQueryState=function(e,u,h){this.fi[e]=u},o.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},o.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},o.prototype.clearQueryState=function(e){delete this.fi[e]},o.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},o.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},o.prototype.start=function(){return this.li=new Kd,Promise.resolve()},o.prototype.handleUserChange=function(e,u,h){},o.prototype.setOnlineState=function(e){},o.prototype.shutdown=function(){},o.prototype.writeSequenceNumber=function(e){},o.prototype.notifyBundleLoaded=function(){},o}(),Cb=function(){function o(){}return o.prototype.di=function(e){},o.prototype.shutdown=function(){},o}(),vp=function(){function o(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return o.prototype.di=function(e){this.gi.push(e)},o.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},o.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},o.prototype._i=function(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,u=this.gi;e<u.length;e++)(0,u[e])(0)},o.prototype.yi=function(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,u=this.gi;e<u.length;e++)(0,u[e])(1)},o.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},o}(),Zu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lg=function(){function o(e){this.Ei=e.Ei,this.Ti=e.Ti}return o.prototype.Ii=function(e){this.Ai=e},o.prototype.Ri=function(e){this.bi=e},o.prototype.onMessage=function(e){this.vi=e},o.prototype.close=function(){this.Ti()},o.prototype.send=function(e){this.Ei(e)},o.prototype.Pi=function(){this.Ai()},o.prototype.Vi=function(e){this.bi(e)},o.prototype.Si=function(e){this.vi(e)},o}(),rf=function(o){function e(u){var h=this;return(h=o.call(this,u)||this).forceLongPolling=u.forceLongPolling,h.autoDetectLongPolling=u.autoDetectLongPolling,h.useFetchStreams=u.useFetchStreams,h}return(0,z.ZT)(e,o),e.prototype.Fi=function(u,h,y,E){return new Promise(function(I,x){var L=new Sd;L.listenOnce(Lh.COMPLETE,function(){try{switch(L.getLastErrorCode()){case ka.NO_ERROR:var K=L.getResponseJson();dt("Connection","XHR received:",JSON.stringify(K)),I(K);break;case ka.TIMEOUT:dt("Connection",'RPC "'+u+'" timed out'),x(new tt(ke.DEADLINE_EXCEEDED,"Request time out"));break;case ka.HTTP_ERROR:var ie=L.getStatus();if(dt("Connection",'RPC "'+u+'" failed with status:',ie,"response text:",L.getResponseText()),ie>0){var pe=L.getResponseJson().error;if(pe&&pe.status&&pe.message){var Te=(Ue=pe.status.toLowerCase().replace(/_/g,"-"),Object.values(ke).indexOf(Ue)>=0?Ue:ke.UNKNOWN);x(new tt(Te,pe.message))}else x(new tt(ke.UNKNOWN,"Server responded with status "+L.getStatus()))}else x(new tt(ke.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{dt("Connection",'RPC "'+u+'" completed.')}var Ue});var H=JSON.stringify(E);L.send(h,"POST",H,y,15)})},e.prototype.Oi=function(u,h){var y=[this.Di,"/","google.firestore.v1.Firestore","/",u,"/channel"],E=new Al,I=_c(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new Yf({})),this.ki(x.initMessageHeaders,h),(0,ft.uI)()||(0,ft.b$)()||(0,ft.d)()||(0,ft.w1)()||(0,ft.Mn)()||(0,ft.ru)()||(x.httpHeadersOverwriteParam="$httpHeaders");var L=y.join("");dt("Connection","Creating WebChannel: "+L,x);var H=E.createWebChannel(L,x),K=!1,ie=!1,pe=new Lg({Ei:function(Ae){ie?dt("Connection","Not sending because WebChannel is closed:",Ae):(K||(dt("Connection","Opening WebChannel transport."),H.open(),K=!0),dt("Connection","WebChannel sending:",Ae),H.send(Ae))},Ti:function(){return H.close()}}),Te=function(Ae,Ue,ut){Ae.listen(Ue,function(bt){try{ut(bt)}catch(Lt){setTimeout(function(){throw Lt},0)}})};return Te(H,Is.EventType.OPEN,function(){ie||dt("Connection","WebChannel transport opened.")}),Te(H,Is.EventType.CLOSE,function(){ie||(ie=!0,dt("Connection","WebChannel transport closed"),pe.Vi())}),Te(H,Is.EventType.ERROR,function(Ae){ie||(ie=!0,ea("Connection","WebChannel transport errored:",Ae),pe.Vi(new tt(ke.UNAVAILABLE,"The operation could not be completed")))}),Te(H,Is.EventType.MESSAGE,function(Ae){var Ue;if(!ie){var ut=Ae.data[0];Yt(!!ut);var Lt=ut.error||(null===(Ue=ut[0])||void 0===Ue?void 0:Ue.error);if(Lt){dt("Connection","WebChannel received error:",Lt);var Vt=Lt.status,Mn=function(ur){var Hi=hr[ur];if(void 0!==Hi)return Vc(Hi)}(Vt),In=Lt.message;void 0===Mn&&(Mn=ke.INTERNAL,In="Unknown error status: "+Vt+" with message "+Lt.message),ie=!0,pe.Vi(new tt(Mn,In)),H.close()}else dt("Connection","WebChannel received:",ut),pe.Si(ut)}}),Te(I,xu.STAT_EVENT,function(Ae){Ae.stat===jr_PROXY?dt("Connection","Detected buffering proxy"):Ae.stat===jr_NOPROXY&&dt("Connection","Detected no buffering proxy")}),setTimeout(function(){pe.Pi()},0),pe},e}(function(){function o(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return o.prototype.Ni=function(e,u,h,y){var E=this.xi(e,u);dt("RestConnection","Sending: ",E,h);var I={};return this.ki(I,y),this.Fi(e,E,I,h).then(function(x){return dt("RestConnection","Received: ",x),x},function(x){throw ea("RestConnection",e+" failed with error: ",x,"url: ",E,"request:",h),x})},o.prototype.$i=function(e,u,h,y){return this.Ni(e,u,h,y)},o.prototype.ki=function(e,u){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),u)for(var h in u.authHeaders)u.authHeaders.hasOwnProperty(h)&&(e[h]=u.authHeaders[h])},o.prototype.xi=function(e,u){return this.Di+"/v1/"+u+":"+Zu[e]},o}());function bp(){return"undefined"!=typeof window?window:null}function Vg(){return"undefined"!=typeof document?document:null}function Zd(o){return new Ko(o,!0)}var oy=function(){function o(e,u,h,y,E){void 0===h&&(h=1e3),void 0===y&&(y=1.5),void 0===E&&(E=6e4),this.Se=e,this.timerId=u,this.Mi=h,this.Li=y,this.Bi=E,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return o.prototype.reset=function(){this.qi=0},o.prototype.Qi=function(){this.qi=this.Bi},o.prototype.ji=function(e){var u=this;this.cancel();var h=Math.floor(this.qi+this.Wi()),y=Math.max(0,Date.now()-this.Ki),E=Math.max(0,h-y);E>0&&dt("ExponentialBackoff","Backing off for "+E+" ms (base delay: "+this.qi+" ms, delay with jitter: "+h+" ms, last attempt: "+y+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,E,function(){return u.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},o.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},o.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},o.prototype.Wi=function(){return(Math.random()-.5)*this.qi},o}(),Yu=function(){function o(e,u,h,y,E,I){this.Se=e,this.zi=h,this.Hi=y,this.Ji=E,this.listener=I,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new oy(e,u)}return o.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},o.prototype.er=function(){return 2===this.state},o.prototype.start=function(){3!==this.state?this.auth():this.nr()},o.prototype.stop=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},o.prototype.sr=function(){this.state=0,this.Zi.reset()},o.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},o.prototype.cr=function(e){this.ur(),this.stream.send(e)},o.prototype.rr=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},o.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},o.prototype.close=function(e,u){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(h){switch(h.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():u&&u.code===ke.RESOURCE_EXHAUSTED?(Sr(u.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):u&&u.code===ke.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(u)];case 1:return h.sent(),[2]}})})},o.prototype.ar=function(){},o.prototype.auth=function(){var e=this;this.state=1;var u=this.hr(this.Yi),h=this.Yi;this.Ji.getToken().then(function(y){e.Yi===h&&e.lr(y)},function(y){u(function(){var E=new tt(ke.UNKNOWN,"Fetching auth token failed: "+y.message);return e.dr(E)})})},o.prototype.lr=function(e){var u=this,h=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){h(function(){return u.state=2,u.listener.Ii()})}),this.stream.Ri(function(y){h(function(){return u.dr(y)})}),this.stream.onMessage(function(y){h(function(){return u.onMessage(y)})})},o.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,z.mG)(e,void 0,void 0,function(){return(0,z.Jh)(this,function(u){return this.state=0,this.start(),[2]})})})},o.prototype.dr=function(e){return dt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},o.prototype.hr=function(e){var u=this;return function(h){u.Se.enqueueAndForget(function(){return u.Yi===e?h():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},o}(),Ug=function(o){function e(u,h,y,E,I){var x=this;return(x=o.call(this,u,"listen_stream_connection_backoff","listen_stream_idle",h,y,I)||this).R=E,x}return(0,z.ZT)(e,o),e.prototype.wr=function(u){return this.Hi.Oi("Listen",u)},e.prototype.onMessage=function(u){this.Zi.reset();var h=function(E,I){var x,ut;if("targetChange"in I){var L="NO_CHANGE"===(ut=I.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ut?1:"REMOVE"===ut?2:"CURRENT"===ut?3:"RESET"===ut?4:Rt(),H=I.targetChange.targetIds||[],K=function(ut,bt){return ut.I?(Yt(void 0===bt||"string"==typeof bt),kr.fromBase64String(bt||"")):(Yt(void 0===bt||bt instanceof Uint8Array),kr.fromUint8Array(bt||new Uint8Array))}(E,I.targetChange.resumeToken),ie=(pe=I.targetChange.cause)&&function(ut){var bt=void 0===ut.code?ke.UNKNOWN:Vc(ut.code);return new tt(bt,ut.message||"")}(pe);x=new Uc(L,H,K,ie||null)}else if("documentChange"in I){H=mi(E,(L=I.documentChange).document.name),K=wr(L.document.updateTime);var pe=new Ki({mapValue:{fields:L.document.fields}}),Te=(ie=Jn.newFoundDocument(H,K,pe),L.targetIds||[]);x=new Za(Te,L.removedTargetIds||[],ie.key,ie)}else if("documentDelete"in I)H=mi(E,(L=I.documentDelete).document),K=L.readTime?wr(L.readTime):Sn.min(),pe=Jn.newNoDocument(H,K),x=new Za([],ie=L.removedTargetIds||[],pe.key,pe);else if("documentRemove"in I)H=mi(E,(L=I.documentRemove).document),x=new Za([],K=L.removedTargetIds||[],H,null);else{if(!("filter"in I))return Rt();var Ue=I.filter;H=new Ld(L=Ue.count||0),x=new Ud(K=Ue.targetId,H)}return x}(this.R,u),y=function(E){if(!("targetChange"in E))return Sn.min();var I=E.targetChange;return I.targetIds&&I.targetIds.length?Sn.min():I.readTime?wr(I.readTime):Sn.min()}(u);return this.listener._r(h,y)},e.prototype.mr=function(u){var E,I,x,L,h={};h.database=jd(this.R),h.addTarget=(E=this.R,(x=Oc(L=(I=u).target)?{documents:ua(E,L)}:{query:Hc(E,L)}).targetId=I.targetId,I.resumeToken.approximateByteSize()>0?x.resumeToken=Wh(E,I.resumeToken):I.snapshotVersion.compareTo(Sn.min())>0&&(x.readTime=Zo(E,I.snapshotVersion.toTimestamp())),x);var y=function(E,I){var x=function(L,H){switch(H){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rt()}}(0,I.purpose);return null==x?null:{"goog-listen-tags":x}}(0,u);y&&(h.labels=y),this.cr(h)},e.prototype.yr=function(u){var h={};h.database=jd(this.R),h.removeTarget=u,this.cr(h)},e}(Yu),Bg=function(o){function e(u,h,y,E,I){var x=this;return(x=o.call(this,u,"write_stream_connection_backoff","write_stream_idle",h,y,I)||this).R=E,x.gr=!1,x}return(0,z.ZT)(e,o),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,o.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(u){return this.Hi.Oi("Write",u)},e.prototype.onMessage=function(u){if(Yt(!!u.streamToken),this.lastStreamToken=u.streamToken,this.gr){this.Zi.reset();var h=(I=u.commitTime,(E=u.writeResults)&&E.length>0?(Yt(void 0!==I),E.map(function(x){return H=I,(K=wr((L=x).updateTime?L.updateTime:H)).isEqual(Sn.min())&&(K=wr(H)),new ps(K,L.transformResults||[]);var L,H,K})):[]),y=wr(u.commitTime);return this.listener.Tr(y,h)}var E,I;return Yt(!u.writeResults||0===u.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var u={};u.database=jd(this.R),this.cr(u)},e.prototype.Er=function(u){var h=this,y={streamToken:this.lastStreamToken,writes:u.map(function(E){return Qa(h.R,E)})};this.cr(y)},e}(Yu),sy=function(o){function e(u,h,y){var E=this;return(E=o.call(this)||this).credentials=u,E.Hi=h,E.R=y,E.Rr=!1,E}return(0,z.ZT)(e,o),e.prototype.br=function(){if(this.Rr)throw new tt(ke.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(u,h,y){var E=this;return this.br(),this.credentials.getToken().then(function(I){return E.Hi.Ni(u,h,y,I)}).catch(function(I){throw"FirebaseError"===I.name?(I.code===ke.UNAUTHENTICATED&&E.credentials.invalidateToken(),I):new tt(ke.UNKNOWN,I.toString())})},e.prototype.$i=function(u,h,y){var E=this;return this.br(),this.credentials.getToken().then(function(I){return E.Hi.$i(u,h,y,I)}).catch(function(I){throw"FirebaseError"===I.name?(I.code===ke.UNAUTHENTICATED&&E.credentials.invalidateToken(),I):new tt(ke.UNKNOWN,I.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),TC=function(){function o(e,u){this.asyncQueue=e,this.onlineStateHandler=u,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return o.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},o.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},o.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},o.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},o.prototype.Cr=function(e){var u="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Sr(u),this.Vr=!1):dt("OnlineStateTracker",u)},o.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},o}(),of=function(o,e,u,h,y){var E=this;this.localStore=o,this.datastore=e,this.asyncQueue=u,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=y,this.Lr.di(function(I){u.enqueueAndForget(function(){return(0,z.mG)(E,void 0,void 0,function(){return(0,z.Jh)(this,function(x){switch(x.label){case 0:return ed(this)?(dt("RemoteStore","Restarting streams for network reachability change."),[4,function(L){return(0,z.mG)(this,void 0,void 0,function(){var H;return(0,z.Jh)(this,function(K){switch(K.label){case 0:return(H=wt(L)).Or.add(4),[4,af(H)];case 1:return K.sent(),H.Br.set("Unknown"),H.Or.delete(4),[4,sf(H)];case 2:return K.sent(),[2]}})})}(this)]):[3,2];case 1:x.sent(),x.label=2;case 2:return[2]}})})})}),this.Br=new TC(u,h)};function sf(o){return(0,z.mG)(this,void 0,void 0,function(){var e,u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:if(!ed(o))return[3,4];e=0,u=o.Mr,h.label=1;case 1:return e<u.length?[4,(0,u[e])(!0)]:[3,4];case 2:h.sent(),h.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function af(o){return(0,z.mG)(this,void 0,void 0,function(){var e,u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:e=0,u=o.Mr,h.label=1;case 1:return e<u.length?[4,(0,u[e])(!1)]:[3,4];case 2:h.sent(),h.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function uf(o,e){var u=wt(o);u.$r.has(e.targetId)||(u.$r.set(e.targetId,e),lf(u)?wp(u):Kl(u).er()&&Yd(u,e))}function Cp(o,e){var u=wt(o),h=Kl(u);u.$r.delete(e),h.er()&&Ep(u,e),0===u.$r.size&&(h.er()?h.ir():ed(u)&&u.Br.set("Unknown"))}function Yd(o,e){o.qr.U(e.targetId),Kl(o).mr(e)}function Ep(o,e){o.qr.U(e),Kl(o).yr(e)}function wp(o){o.qr=new sp({getRemoteKeysForTarget:function(e){return o.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return o.$r.get(e)||null}}),Kl(o).start(),o.Br.Sr()}function lf(o){return ed(o)&&!Kl(o).tr()&&o.$r.size>0}function ed(o){return 0===wt(o).Or.size}function O_(o){o.qr=void 0}function Eb(o){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return o.$r.forEach(function(u,h){Yd(o,u)}),[2]})})}function wb(o,e){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(u){return O_(o),lf(o)?(o.Br.Nr(e),wp(o)):o.Br.set("Unknown"),[2]})})}function Tb(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y,E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:if(o.Br.set("Online"),!(e instanceof Uc&&2===e.state&&e.cause))return[3,6];I.label=1;case 1:return I.trys.push([1,3,,5]),[4,function(x,L){return(0,z.mG)(this,void 0,void 0,function(){var H,K,ie,pe;return(0,z.Jh)(this,function(Te){switch(Te.label){case 0:H=L.cause,K=0,ie=L.targetIds,Te.label=1;case 1:return K<ie.length?x.$r.has(pe=ie[K])?[4,x.remoteSyncer.rejectListen(pe,H)]:[3,3]:[3,5];case 2:Te.sent(),x.$r.delete(pe),x.qr.removeTarget(pe),Te.label=3;case 3:Te.label=4;case 4:return K++,[3,1];case 5:return[2]}})})}(o,e)];case 2:return I.sent(),[3,5];case 3:return h=I.sent(),dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),h),[4,jg(o,h)];case 4:return I.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Za?o.qr.X(e):e instanceof Ud?o.qr.rt(e):o.qr.et(e),u.isEqual(Sn.min()))return[3,13];I.label=7;case 7:return I.trys.push([7,11,,13]),[4,Qc(o.localStore)];case 8:return y=I.sent(),u.compareTo(y)>=0?[4,(x=o,L=u,H=x.qr.ut(L),H.targetChanges.forEach(function(K,ie){if(K.resumeToken.approximateByteSize()>0){var pe=x.$r.get(ie);pe&&x.$r.set(ie,pe.withResumeToken(K.resumeToken,L))}}),H.targetMismatches.forEach(function(K){var ie=x.$r.get(K);if(ie){x.$r.set(K,ie.withResumeToken(kr.EMPTY_BYTE_STRING,ie.snapshotVersion)),Ep(x,K);var pe=new _i(ie.target,K,1,ie.sequenceNumber);Yd(x,pe)}}),x.remoteSyncer.applyRemoteEvent(H))]:[3,10];case 9:I.sent(),I.label=10;case 10:return[3,13];case 11:return dt("RemoteStore","Failed to raise snapshot:",E=I.sent()),[4,jg(o,E)];case 12:return I.sent(),[3,13];case 13:return[2]}var x,L,H})})}function jg(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h=this;return(0,z.Jh)(this,function(y){switch(y.label){case 0:if(!$u(e))throw e;return o.Or.add(1),[4,af(o)];case 1:return y.sent(),o.Br.set("Offline"),u||(u=function(){return Qc(o.localStore)}),o.asyncQueue.enqueueRetryable(function(){return(0,z.mG)(h,void 0,void 0,function(){return(0,z.Jh)(this,function(E){switch(E.label){case 0:return dt("RemoteStore","Retrying IndexedDB access"),[4,u()];case 1:return E.sent(),o.Or.delete(1),[4,sf(o)];case 2:return E.sent(),[2]}})})}),[2]}})})}function P_(o,e){return e().catch(function(u){return jg(o,u,e)})}function Qd(o){return(0,z.mG)(this,void 0,void 0,function(){var e,u,h,y,E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:e=wt(o),u=Zl(e),h=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,I.label=1;case 1:if(!(ed(x=e)&&x.Fr.length<10))return[3,7];I.label=2;case 2:return I.trys.push([2,4,,6]),[4,yp(e.localStore,h)];case 3:return null===(y=I.sent())?(0===e.Fr.length&&u.ir(),[3,7]):(h=y.batchId,function(x,L){x.Fr.push(L);var H=Zl(x);H.er()&&H.pr&&H.Er(L.mutations)}(e,y),[3,6]);case 4:return E=I.sent(),[4,jg(e,E)];case 5:return I.sent(),[3,6];case 6:return[3,1];case 7:return R_(e)&&N_(e),[2]}var x})})}function R_(o){return ed(o)&&!Zl(o).tr()&&o.Fr.length>0}function N_(o){Zl(o).start()}function F_(o){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return Zl(o).Ar(),[2]})})}function Qu(o){return(0,z.mG)(this,void 0,void 0,function(){var e,u,h;return(0,z.Jh)(this,function(E){for(e=Zl(o),u=0,h=o.Fr;u<h.length;u++)e.Er(h[u].mutations);return[2]})})}function ay(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return h=o.Fr.shift(),y=$d.from(h,e,u),[4,P_(o,function(){return o.remoteSyncer.applySuccessfulWrite(y)})];case 1:return E.sent(),[4,Qd(o)];case 2:return E.sent(),[2]}})})}function k_(o,e){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(u){switch(u.label){case 0:return e&&Zl(o).pr?[4,function(h,y){return(0,z.mG)(this,void 0,void 0,function(){var E,I;return(0,z.Jh)(this,function(x){switch(x.label){case 0:return Wa(I=y.code)&&I!==ke.ABORTED?(E=h.Fr.shift(),Zl(h).sr(),[4,P_(h,function(){return h.remoteSyncer.rejectFailedWrite(E.batchId,y)})]):[3,3];case 1:return x.sent(),[4,Qd(h)];case 2:x.sent(),x.label=3;case 3:return[2]}})})}(o,e)]:[3,2];case 1:u.sent(),u.label=2;case 2:return R_(o)&&N_(o),[2]}})})}function Tp(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:return u=wt(o),e?(u.Or.delete(2),[4,sf(u)]):[3,2];case 1:return h.sent(),[3,5];case 2:return e?[3,4]:(u.Or.add(2),[4,af(u)]);case 3:h.sent(),u.Br.set("Unknown"),h.label=4;case 4:h.label=5;case 5:return[2]}})})}function Kl(o){var u,h,y,E,e=this;return o.Ur||(o.Ur=(u=o.datastore,h=o.asyncQueue,y={Ii:Eb.bind(null,o),Ri:wb.bind(null,o),_r:Tb.bind(null,o)},(E=wt(u)).br(),new Ug(h,E.Hi,E.credentials,E.R,y)),o.Mr.push(function(u){return(0,z.mG)(e,void 0,void 0,function(){return(0,z.Jh)(this,function(h){switch(h.label){case 0:return u?(o.Ur.sr(),lf(o)?wp(o):o.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,o.Ur.stop()];case 2:h.sent(),O_(o),h.label=3;case 3:return[2]}})})})),o.Ur}function Zl(o){var u,h,y,E,e=this;return o.Kr||(o.Kr=(u=o.datastore,h=o.asyncQueue,y={Ii:F_.bind(null,o),Ri:k_.bind(null,o),Ir:Qu.bind(null,o),Tr:ay.bind(null,o)},(E=wt(u)).br(),new Bg(h,E.Hi,E.credentials,E.R,y)),o.Mr.push(function(u){return(0,z.mG)(e,void 0,void 0,function(){return(0,z.Jh)(this,function(h){switch(h.label){case 0:return u?(o.Kr.sr(),[4,Qd(o)]):[3,2];case 1:return h.sent(),[3,4];case 2:return[4,o.Kr.stop()];case 3:h.sent(),o.Fr.length>0&&(dt("RemoteStore","Stopping write stream with "+o.Fr.length+" pending writes"),o.Fr=[]),h.label=4;case 4:return[2]}})})})),o.Kr}var uy=function(){function o(e,u,h,y,E){this.asyncQueue=e,this.timerId=u,this.targetTimeMs=h,this.op=y,this.removalCallback=E,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(I){})}return o.createAndSchedule=function(e,u,h,y,E){var I=new o(e,u,Date.now()+h,y,E);return I.start(h),I},o.prototype.start=function(e){var u=this;this.timerHandle=setTimeout(function(){return u.handleDelayElapsed()},e)},o.prototype.skipDelay=function(){return this.handleDelayElapsed()},o.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},o.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(u){return e.deferred.resolve(u)})):Promise.resolve()})},o.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},o}();function cf(o,e){if(Sr("AsyncQueue",e+": "+o),$u(o))return new tt(ke.UNAVAILABLE,e+": "+o);throw o}var Yl=function(){function o(e){this.comparator=e?function(u,h){return e(u,h)||Gt.comparator(u.key,h.key)}:function(u,h){return Gt.comparator(u.key,h.key)},this.keyedMap=Vu(),this.sortedSet=new Hr(this.comparator)}return o.emptySet=function(e){return new o(e.comparator)},o.prototype.has=function(e){return null!=this.keyedMap.get(e)},o.prototype.get=function(e){return this.keyedMap.get(e)},o.prototype.first=function(){return this.sortedSet.minKey()},o.prototype.last=function(){return this.sortedSet.maxKey()},o.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},o.prototype.indexOf=function(e){var u=this.keyedMap.get(e);return u?this.sortedSet.indexOf(u):-1},Object.defineProperty(o.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),o.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(u,h){return e(u),!1})},o.prototype.add=function(e){var u=this.delete(e.key);return u.copy(u.keyedMap.insert(e.key,e),u.sortedSet.insert(e,null))},o.prototype.delete=function(e){var u=this.get(e);return u?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(u)):this},o.prototype.isEqual=function(e){if(!(e instanceof o)||this.size!==e.size)return!1;for(var u=this.sortedSet.getIterator(),h=e.sortedSet.getIterator();u.hasNext();){var y=u.getNext().key,E=h.getNext().key;if(!y.isEqual(E))return!1}return!0},o.prototype.toString=function(){var e=[];return this.forEach(function(u){e.push(u.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},o.prototype.copy=function(e,u){var h=new o;return h.comparator=this.comparator,h.keyedMap=e,h.sortedSet=u,h},o}(),Gg=function(){function o(){this.Qr=new Hr(Gt.comparator)}return o.prototype.track=function(e){var u=e.doc.key,h=this.Qr.get(u);h?0!==e.type&&3===h.type?this.Qr=this.Qr.insert(u,e):3===e.type&&1!==h.type?this.Qr=this.Qr.insert(u,{type:h.type,doc:e.doc}):2===e.type&&2===h.type?this.Qr=this.Qr.insert(u,{type:2,doc:e.doc}):2===e.type&&0===h.type?this.Qr=this.Qr.insert(u,{type:0,doc:e.doc}):1===e.type&&0===h.type?this.Qr=this.Qr.remove(u):1===e.type&&2===h.type?this.Qr=this.Qr.insert(u,{type:1,doc:h.doc}):0===e.type&&1===h.type?this.Qr=this.Qr.insert(u,{type:2,doc:e.doc}):Rt():this.Qr=this.Qr.insert(u,e)},o.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(u,h){e.push(h)}),e},o}(),Dp=function(){function o(e,u,h,y,E,I,x,L){this.query=e,this.docs=u,this.oldDocs=h,this.docChanges=y,this.mutatedKeys=E,this.fromCache=I,this.syncStateChanged=x,this.excludesMetadataChanges=L}return o.fromInitialDocuments=function(e,u,h,y){var E=[];return u.forEach(function(I){E.push({type:0,doc:I})}),new o(e,u,Yl.emptySet(u),E,h,y,!0,!1)},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var u=this.docChanges,h=e.docChanges;if(u.length!==h.length)return!1;for(var y=0;y<u.length;y++)if(u[y].type!==h[y].type||!u[y].doc.isEqual(h[y].doc))return!1;return!0},o}(),Db=function(){this.Wr=void 0,this.listeners=[]},Hg=function(){this.queries=new fa(function(o){return Pc(o)},Nd),this.onlineState="Unknown",this.Gr=new Set};function ly(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y,E,I,x,L;return(0,z.Jh)(this,function(H){switch(H.label){case 0:if(u=wt(o),y=!1,(E=u.queries.get(h=e.query))||(y=!0,E=new Db),!y)return[3,4];H.label=1;case 1:return H.trys.push([1,3,,4]),I=E,[4,u.onListen(h)];case 2:return I.Wr=H.sent(),[3,4];case 3:return x=H.sent(),L=cf(x,"Initialization of query '"+Os(e.query)+"' failed"),[2,void e.onError(L)];case 4:return u.queries.set(h,E),E.listeners.push(e),e.zr(u.onlineState),E.Wr&&e.Hr(E.Wr)&&pa(u),[2]}})})}function $g(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y,E,I;return(0,z.Jh)(this,function(x){return u=wt(o),y=!1,(E=u.queries.get(h=e.query))&&(I=E.listeners.indexOf(e))>=0&&(E.listeners.splice(I,1),y=0===E.listeners.length),y?[2,(u.queries.delete(h),u.onUnlisten(h))]:[2]})})}function L_(o,e){for(var u=wt(o),h=!1,y=0,E=e;y<E.length;y++){var I=E[y],L=u.queries.get(I.query);if(L){for(var H=0,K=L.listeners;H<K.length;H++)K[H].Hr(I)&&(h=!0);L.Wr=I}}h&&pa(u)}function V_(o,e,u){var h=wt(o),y=h.queries.get(e);if(y)for(var E=0,I=y.listeners;E<I.length;E++)I[E].onError(u);h.queries.delete(e)}function pa(o){o.Gr.forEach(function(e){e.next()})}var an=function(){function o(e,u,h){this.query=e,this.Jr=u,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=h||{}}return o.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var u=[],h=0,y=e.docChanges;h<y.length;h++){var E=y[h];3!==E.type&&u.push(E)}e=new Dp(e.query,e.docs,e.oldDocs,u,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var I=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),I=!0):this.eo(e,this.onlineState)&&(this.no(e),I=!0),this.Xr=e,I},o.prototype.onError=function(e){this.Jr.error(e)},o.prototype.zr=function(e){this.onlineState=e;var u=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),u=!0),u},o.prototype.eo=function(e,u){return!e.fromCache||!(this.options.so&&"Offline"!==u||e.docs.isEmpty()&&"Offline"!==u)},o.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},o.prototype.no=function(e){e=Dp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},o}(),zg=function(){function o(e,u){this.payload=e,this.byteLength=u}return o.prototype.io=function(){return"metadata"in this.payload},o}(),Lr=function(){function o(e){this.R=e}return o.prototype.qn=function(e){return mi(this.R,e)},o.prototype.Un=function(e){return e.metadata.exists?up(this.R,e.document,!1):Jn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},o.prototype.Kn=function(e){return wr(e)},o}();!function(){function o(e,u,h){this.ro=e,this.localStore=u,this.R=h,this.queries=[],this.documents=[],this.progress=function(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}(e)}o.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var u=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++u):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++u),u!==this.progress.documentsLoaded?(this.progress.documentsLoaded=u,Object.assign({},this.progress)):null},o.prototype.co=function(e){for(var u=new Map,h=new Lr(this.R),y=0,E=e;y<E.length;y++){var I=E[y];if(I.metadata.queries)for(var x=h.qn(I.metadata.name),L=0,H=I.metadata.queries;L<H.length;L++){var K=H[L],ie=(u.get(K)||Un()).add(x);u.set(K,ie)}}return u},o.prototype.complete=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u,h,y,E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return[4,vb(this.localStore,new Lr(this.R),this.documents,this.ro.id)];case 1:e=I.sent(),u=this.co(this.documents),h=0,y=this.queries,I.label=2;case 2:return h<y.length?[4,ey(this.localStore,E=y[h],u.get(E.name))]:[3,5];case 3:I.sent(),I.label=4;case 4:return h++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Xe(Object.assign({},this.progress),e))]}})})}}();var qg=function(o){this.key=o},Ei=function(o){this.key=o},su=function(){function o(e,u){this.query=e,this.uo=u,this.ao=null,this.current=!1,this.ho=Un(),this.mutatedKeys=Un(),this.lo=kl(e),this.fo=new Yl(this.lo)}return Object.defineProperty(o.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),o.prototype._o=function(e,u){var h=this,y=u?u.mo:new Gg,E=u?u.fo:this.fo,I=u?u.mutatedKeys:this.mutatedKeys,x=E,L=!1,H=Pd(this.query)&&E.size===this.query.limit?E.last():null,K=ia(this.query)&&E.size===this.query.limit?E.first():null;if(e.inorderTraversal(function(pe,Te){var Ae=E.get(pe),Ue=gi(h.query,Te)?Te:null,ut=!!Ae&&h.mutatedKeys.has(Ae.key),bt=!!Ue&&(Ue.hasLocalMutations||h.mutatedKeys.has(Ue.key)&&Ue.hasCommittedMutations),Lt=!1;Ae&&Ue?Ae.data.isEqual(Ue.data)?ut!==bt&&(y.track({type:3,doc:Ue}),Lt=!0):h.yo(Ae,Ue)||(y.track({type:2,doc:Ue}),Lt=!0,(H&&h.lo(Ue,H)>0||K&&h.lo(Ue,K)<0)&&(L=!0)):!Ae&&Ue?(y.track({type:0,doc:Ue}),Lt=!0):Ae&&!Ue&&(y.track({type:1,doc:Ae}),Lt=!0,(H||K)&&(L=!0)),Lt&&(Ue?(x=x.add(Ue),I=bt?I.add(pe):I.delete(pe)):(x=x.delete(pe),I=I.delete(pe)))}),Pd(this.query)||ia(this.query))for(;x.size>this.query.limit;){var ie=Pd(this.query)?x.last():x.first();x=x.delete(ie.key),I=I.delete(ie.key),y.track({type:1,doc:ie})}return{fo:x,mo:y,Nn:L,mutatedKeys:I}},o.prototype.yo=function(e,u){return e.hasLocalMutations&&u.hasCommittedMutations&&!u.hasLocalMutations},o.prototype.applyChanges=function(e,u,h){var y=this,E=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var I=e.mo.jr();I.sort(function(K,ie){return Te=ie.type,(Ae=function(Ue){switch(Ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}})(K.type)-Ae(Te)||y.lo(K.doc,ie.doc);var Te,Ae}),this.po(h);var x=u?this.Eo():[],L=0===this.ho.size&&this.current?1:0,H=L!==this.ao;return this.ao=L,0!==I.length||H?{snapshot:new Dp(this.query,e.fo,E,I,e.mutatedKeys,0===L,H,!1),To:x}:{To:x}},o.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Gg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},o.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},o.prototype.po=function(e){var u=this;e&&(e.addedDocuments.forEach(function(h){return u.uo=u.uo.add(h)}),e.modifiedDocuments.forEach(function(h){}),e.removedDocuments.forEach(function(h){return u.uo=u.uo.delete(h)}),this.current=e.current)},o.prototype.Eo=function(){var e=this;if(!this.current)return[];var u=this.ho;this.ho=Un(),this.fo.forEach(function(y){e.Io(y.key)&&(e.ho=e.ho.add(y.key))});var h=[];return u.forEach(function(y){e.ho.has(y)||h.push(new Ei(y))}),this.ho.forEach(function(y){u.has(y)||h.push(new qg(y))}),h},o.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Un();var u=this._o(e.documents);return this.applyChanges(u,!0)},o.prototype.Ro=function(){return Dp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},o}(),Wg=function(o,e,u){this.query=o,this.targetId=e,this.view=u},Kg=function(o){this.key=o,this.bo=!1},Zg=function(){function o(e,u,h,y,E,I){this.localStore=e,this.remoteStore=u,this.eventManager=h,this.sharedClientState=y,this.currentUser=E,this.maxConcurrentLimboResolutions=I,this.vo={},this.Po=new fa(function(x){return Pc(x)},Nd),this.Vo=new Map,this.So=new Set,this.Do=new Hr(Gt.comparator),this.Co=new Map,this.No=new _p,this.xo={},this.ko=new Map,this.Fo=Us.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(o.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),o}();function Sp(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,y,E,I,x;return(0,z.Jh)(this,function(L){switch(L.label){case 0:return u=th(o),(E=u.Po.get(e))?(u.sharedClientState.addLocalQueryTarget(E.targetId),y=E.view.Ro(),[3,4]):[3,1];case 1:return[4,Wl(u.localStore,fs(e))];case 2:return I=L.sent(),x=u.sharedClientState.addLocalQueryTarget(I.targetId),[4,Yg(u,e,I.targetId,"current"===x)];case 3:y=L.sent(),u.isPrimaryClient&&uf(u.remoteStore,I),L.label=4;case 4:return[2,y]}})})}function Yg(o,e,u,h){return(0,z.mG)(this,void 0,void 0,function(){var y,E,I,x,L,H;return(0,z.Jh)(this,function(K){switch(K.label){case 0:return o.Oo=function(ie,pe,Te){return function(Ae,Ue,ut,bt){return(0,z.mG)(this,void 0,void 0,function(){var Lt,Vt,Mn;return(0,z.Jh)(this,function(In){switch(In.label){case 0:return(Lt=Ue.view._o(ut)).Nn?[4,nf(Ae.localStore,Ue.query,!1).then(function(ur){return Ue.view._o(ur.documents,Lt)})]:[3,2];case 1:Lt=In.sent(),In.label=2;case 2:return Vt=bt&&bt.targetChanges.get(Ue.targetId),Mn=Ue.view.applyChanges(Lt,Ae.isPrimaryClient,Vt),[2,(Xg(Ae,Ue.targetId,Mn.To),Mn.snapshot)]}})})}(o,ie,pe,Te)},[4,nf(o.localStore,e,!0)];case 1:return y=K.sent(),E=new su(e,y.Bn),I=E._o(y.documents),x=Ul.createSynthesizedTargetChangeForCurrentChange(u,h&&"Offline"!==o.onlineState),L=E.applyChanges(I,o.isPrimaryClient,x),Xg(o,u,L.To),H=new Wg(e,u,E),[2,(o.Po.set(e,H),o.Vo.has(u)?o.Vo.get(u).push(e):o.Vo.set(u,[e]),L.snapshot)]}})})}function cy(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return u=wt(o),h=u.Po.get(e),(y=u.Vo.get(h.targetId)).length>1?[2,(u.Vo.set(h.targetId,y.filter(function(I){return!Nd(I,e)})),void u.Po.delete(e))]:u.isPrimaryClient?(u.sharedClientState.removeLocalQueryTarget(h.targetId),u.sharedClientState.isActiveQueryTarget(h.targetId)?[3,2]:[4,Xc(u.localStore,h.targetId,!1).then(function(){u.sharedClientState.clearQueryState(h.targetId),Cp(u.remoteStore,h.targetId),Xd(u,h.targetId)}).catch(Ku)]):[3,3];case 1:E.sent(),E.label=2;case 2:return[3,5];case 3:return Xd(u,h.targetId),[4,Xc(u.localStore,h.targetId,!0)];case 4:E.sent(),E.label=5;case 5:return[2]}})})}function Io(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y,E,I;return(0,z.Jh)(this,function(x){switch(x.label){case 0:h=nh(o),x.label=1;case 1:return x.trys.push([1,5,,6]),[4,(L=h.localStore,H=e,ie=wt(L),pe=ni.now(),Te=H.reduce(function(Ae,Ue){return Ae.add(Ue.key)},Un()),ie.persistence.runTransaction("Locally write mutations","readwrite",function(Ae){return ie.Mn.pn(Ae,Te).next(function(Ue){K=Ue;for(var ut=[],bt=0,Lt=H;bt<Lt.length;bt++){var Vt=Lt[bt],Mn=Vl(Vt,K.get(Vt.key));null!=Mn&&ut.push(new qo(Vt.key,Mn,Md(Mn.value.mapValue),dr.exists(!0)))}return ie._n.addMutationBatch(Ae,pe,ut,H)})}).then(function(Ae){return Ae.applyToLocalDocumentSet(K),{batchId:Ae.batchId,changes:K}}))];case 2:return y=x.sent(),h.sharedClientState.addPendingMutation(y.batchId),function(L,H,K){var ie=L.xo[L.currentUser.toKey()];ie||(ie=new Hr(Rn)),ie=ie.insert(H,K),L.xo[L.currentUser.toKey()]=ie}(h,y.batchId,u),[4,tl(h,y.changes)];case 3:return x.sent(),[4,Qd(h.remoteStore)];case 4:return x.sent(),[3,6];case 5:return E=x.sent(),I=cf(E,"Failed to persist write"),u.reject(I),[3,6];case 6:return[2]}var L,H,K,ie,pe,Te})})}function Ql(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h;return(0,z.Jh)(this,function(y){switch(y.label){case 0:u=wt(o),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,Jc(u.localStore,e)];case 2:return h=y.sent(),e.targetChanges.forEach(function(E,I){var x=u.Co.get(I);x&&(Yt(E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size<=1),E.addedDocuments.size>0?x.bo=!0:E.modifiedDocuments.size>0?Yt(x.bo):E.removedDocuments.size>0&&(Yt(x.bo),x.bo=!1))}),[4,tl(u,h,e)];case 3:return y.sent(),[3,6];case 4:return[4,Ku(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function Ju(o,e,u){var h=wt(o);if(h.isPrimaryClient&&0===u||!h.isPrimaryClient&&1===u){var y=[];h.Po.forEach(function(E,I){var x=I.view.zr(e);x.snapshot&&y.push(x.snapshot)}),function(E,I){var x=wt(E);x.onlineState=I;var L=!1;x.queries.forEach(function(H,K){for(var ie=0,pe=K.listeners;ie<pe.length;ie++)pe[ie].zr(I)&&(L=!0)}),L&&pa(x)}(h.eventManager,e),y.length&&h.vo._r(y),h.onlineState=e,h.isPrimaryClient&&h.sharedClientState.setOnlineState(e)}}function dy(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y,E,I,x,L;return(0,z.Jh)(this,function(H){switch(H.label){case 0:return(h=wt(o)).sharedClientState.updateQueryState(e,"rejected",u),y=h.Co.get(e),(E=y&&y.key)?(I=(I=new Hr(Gt.comparator)).insert(E,Jn.newNoDocument(E,Sn.min())),x=Un().add(E),L=new Vd(Sn.min(),new Map,new er(Rn),I,x),[4,Ql(h,L)]):[3,2];case 1:return H.sent(),h.Do=h.Do.remove(E),h.Co.delete(e),B_(h),[3,4];case 2:return[4,Xc(h.localStore,e,!1).then(function(){return Xd(h,e,u)}).catch(Ku)];case 3:H.sent(),H.label=4;case 4:return[2]}})})}function Qg(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:u=wt(o),h=e.batch.batchId,E.label=1;case 1:return E.trys.push([1,4,,6]),[4,zl(u.localStore,e)];case 2:return y=E.sent(),Jg(u,h,null),Ao(u,h),u.sharedClientState.updateMutationState(h,"acknowledged"),[4,tl(u,y)];case 3:return E.sent(),[3,6];case 4:return[4,Ku(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}})})}function Xu(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:h=wt(o),E.label=1;case 1:return E.trys.push([1,4,,6]),[4,(I=h.localStore,x=e,L=wt(I),L.persistence.runTransaction("Reject batch","readwrite-primary",function(H){var K;return L._n.lookupMutationBatch(H,x).next(function(ie){return Yt(null!==ie),K=ie.keys(),L._n.removeMutationBatch(H,ie)}).next(function(){return L._n.performConsistencyCheck(H)}).next(function(){return L.Mn.pn(H,K)})}))];case 2:return y=E.sent(),Jg(h,e,u),Ao(h,e),h.sharedClientState.updateMutationState(e,"rejected",u),[4,tl(h,y)];case 3:return E.sent(),[3,6];case 4:return[4,Ku(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}var I,x,L})})}function U_(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y,E,I;return(0,z.Jh)(this,function(x){switch(x.label){case 0:ed((u=wt(o)).remoteStore)||dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),x.label=1;case 1:return x.trys.push([1,3,,4]),[4,(L=u.localStore,H=wt(L),H.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(K){return H._n.getHighestUnacknowledgedBatchId(K)}))];case 2:return-1===(h=x.sent())?[2,void e.resolve()]:((y=u.ko.get(h)||[]).push(e),u.ko.set(h,y),[3,4]);case 3:return E=x.sent(),I=cf(E,"Initialization of waitForPendingWrites() operation failed"),e.reject(I),[3,4];case 4:return[2]}var L,H})})}function Ao(o,e){(o.ko.get(e)||[]).forEach(function(u){u.resolve()}),o.ko.delete(e)}function Jg(o,e,u){var h=wt(o),y=h.xo[h.currentUser.toKey()];if(y){var E=y.get(e);E&&(u?E.reject(u):E.resolve(),y=y.remove(e)),h.xo[h.currentUser.toKey()]=y}}function Xd(o,e,u){void 0===u&&(u=null),o.sharedClientState.removeLocalQueryTarget(e);for(var h=0,y=o.Vo.get(e);h<y.length;h++){var E=y[h];o.Po.delete(E),u&&o.vo.Mo(E,u)}o.Vo.delete(e),o.isPrimaryClient&&o.No.Zn(e).forEach(function(I){o.No.containsKey(I)||hy(o,I)})}function hy(o,e){o.So.delete(e.path.canonicalString());var u=o.Do.get(e);null!==u&&(Cp(o.remoteStore,u),o.Do=o.Do.remove(e),o.Co.delete(u),B_(o))}function Xg(o,e,u){for(var h=0,y=u;h<y.length;h++){var E=y[h];E instanceof qg?(o.No.addReference(E.key,e),el(o,E)):E instanceof Ei?(dt("SyncEngine","Document no longer in limbo: "+E.key),o.No.removeReference(E.key,e),o.No.containsKey(E.key)||hy(o,E.key)):Rt()}}function el(o,e){var u=e.key,h=u.path.canonicalString();o.Do.get(u)||o.So.has(h)||(dt("SyncEngine","New document in limbo: "+u),o.So.add(h),B_(o))}function B_(o){for(;o.So.size>0&&o.Do.size<o.maxConcurrentLimboResolutions;){var e=o.So.values().next().value;o.So.delete(e);var u=new Gt(Vn.fromString(e)),h=o.Fo.next();o.Co.set(h,new Kg(u)),o.Do=o.Do.insert(u,h),uf(o.remoteStore,new _i(fs($a(u.path)),h,2,fi.o))}}function tl(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y,E,I;return(0,z.Jh)(this,function(x){switch(x.label){case 0:return h=wt(o),y=[],E=[],I=[],h.Po.isEmpty()?[3,3]:(h.Po.forEach(function(L,H){I.push(h.Oo(H,e,u).then(function(K){if(K){h.isPrimaryClient&&h.sharedClientState.updateQueryState(H.targetId,K.fromCache?"not-current":"current"),y.push(K);var ie=zt.Pn(H.targetId,K);E.push(ie)}}))}),[4,Promise.all(I)]);case 1:return x.sent(),h.vo._r(y),[4,function(L,H){return(0,z.mG)(this,void 0,void 0,function(){var K,ie,pe,Te,Ae,Ue,ut,Lt;return(0,z.Jh)(this,function(Vt){switch(Vt.label){case 0:K=wt(L),Vt.label=1;case 1:return Vt.trys.push([1,3,,4]),[4,K.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Mn){return st.forEach(H,function(In){return st.forEach(In.bn,function(ur){return K.persistence.referenceDelegate.addReference(Mn,In.targetId,ur)}).next(function(){return st.forEach(In.vn,function(ur){return K.persistence.referenceDelegate.removeReference(Mn,In.targetId,ur)})})})})];case 2:return Vt.sent(),[3,4];case 3:if(!$u(ie=Vt.sent()))throw ie;return dt("LocalStore","Failed to update sequence numbers: "+ie),[3,4];case 4:for(pe=0,Te=H;pe<Te.length;pe++)Ue=(Ae=Te[pe]).targetId,Ae.fromCache||(ut=K.kn.get(Ue),Lt=ut.withLastLimboFreeSnapshotVersion(ut.snapshotVersion),K.kn=K.kn.insert(Ue,Lt));return[2]}})})}(h.localStore,E)];case 2:x.sent(),x.label=3;case 3:return[2]}})})}function em(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h;return(0,z.Jh)(this,function(y){switch(y.label){case 0:return(u=wt(o)).currentUser.isEqual(e)?[3,3]:(dt("SyncEngine","User change. New user:",e.toKey()),[4,es(u.localStore,e)]);case 1:return h=y.sent(),u.currentUser=e,(E=u).ko.forEach(function(x){x.forEach(function(L){L.reject(new tt(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.ko.clear(),u.sharedClientState.handleUserChange(e,h.removedBatchIds,h.addedBatchIds),[4,tl(u,h.Ln)];case 2:y.sent(),y.label=3;case 3:return[2]}var E})})}function tm(o,e){var u=wt(o),h=u.Co.get(e);if(h&&h.bo)return Un().add(h.key);var y=Un(),E=u.Vo.get(e);if(!E)return y;for(var I=0,x=E;I<x.length;I++){var H=u.Po.get(x[I]);y=y.unionWith(H.view.wo)}return y}function fy(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return[4,nf((u=wt(o)).localStore,e.query,!0)];case 1:return h=E.sent(),y=e.view.Ao(h),[2,(u.isPrimaryClient&&Xg(u,e.targetId,y.To),y)]}})})}function py(o){return(0,z.mG)(this,void 0,void 0,function(){var e;return(0,z.Jh)(this,function(u){return[2,Rg((e=wt(o)).localStore).then(function(h){return tl(e,h)})]})})}function j_(o,e,u,h){return(0,z.mG)(this,void 0,void 0,function(){var y,E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return[4,(x=(y=wt(o)).localStore,L=e,H=wt(x),K=wt(H._n),H.persistence.runTransaction("Lookup mutation documents","readonly",function(ie){return K.jt(ie,L).next(function(pe){return pe?H.Mn.pn(ie,pe):st.resolve(null)})}))];case 1:return null===(E=I.sent())?[3,6]:"pending"!==u?[3,3]:[4,Qd(y.remoteStore)];case 2:return I.sent(),[3,4];case 3:"acknowledged"===u||"rejected"===u?(Jg(y,e,h||null),Ao(y,e),function(x,L){wt(wt(x)._n).Gt(L)}(y.localStore,e)):Rt(),I.label=4;case 4:return[4,tl(y,E)];case 5:return I.sent(),[3,7];case 6:dt("SyncEngine","Cannot apply mutation batch with id: "+e),I.label=7;case 7:return[2]}var x,L,H,K})})}function eh(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y,E,I,L,H;return(0,z.Jh)(this,function(K){switch(K.label){case 0:return th(u=wt(o)),nh(u),!0!==e||!0===u.$o?[3,3]:(h=u.sharedClientState.getAllActiveQueryTargets(),[4,Wr(u,h.toArray())]);case 1:return y=K.sent(),u.$o=!0,[4,Tp(u.remoteStore,!0)];case 2:for(K.sent(),E=0,I=y;E<I.length;E++)uf(u.remoteStore,I[E]);return[3,7];case 3:return!1!==e||!1===u.$o?[3,7]:(L=[],H=Promise.resolve(),u.Vo.forEach(function(ie,pe){u.sharedClientState.isLocalQueryTarget(pe)?L.push(pe):H=H.then(function(){return Xd(u,pe),Xc(u.localStore,pe,!0)}),Cp(u.remoteStore,pe)}),[4,H]);case 4:return K.sent(),[4,Wr(u,L)];case 5:return K.sent(),(pe=wt(u)).Co.forEach(function(Te,Ae){Cp(pe.remoteStore,Ae)}),pe.No.ts(),pe.Co=new Map,pe.Do=new Hr(Gt.comparator),u.$o=!1,[4,Tp(u.remoteStore,!1)];case 6:K.sent(),K.label=7;case 7:return[2]}var pe})})}function Wr(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y,E,I,x,L,H,K,ie,pe,Ae,Ue,ut;return(0,z.Jh)(this,function(bt){switch(bt.label){case 0:h=wt(o),y=[],E=[],I=0,x=e,bt.label=1;case 1:return I<x.length?(H=void 0,(K=h.Vo.get(L=x[I]))&&0!==K.length?[4,Wl(h.localStore,fs(K[0]))]:[3,7]):[3,13];case 2:H=bt.sent(),ie=0,pe=K,bt.label=3;case 3:return ie<pe.length?(Ae=h.Po.get(pe[ie]),[4,fy(h,Ae)]):[3,6];case 4:(Ue=bt.sent()).snapshot&&E.push(Ue.snapshot),bt.label=5;case 5:return ie++,[3,3];case 6:return[3,11];case 7:return[4,Pg(h.localStore,L)];case 8:return ut=bt.sent(),[4,Wl(h.localStore,ut)];case 9:return H=bt.sent(),[4,Yg(h,df(ut),L,!1)];case 10:bt.sent(),bt.label=11;case 11:y.push(H),bt.label=12;case 12:return I++,[3,1];case 13:return[2,(h.vo._r(E),y)]}})})}function df(o){return Nu(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function nm(o){var e=wt(o);return wt(wt(e.localStore).persistence).fn()}function Ip(o,e,u,h){return(0,z.mG)(this,void 0,void 0,function(){var y,E,I;return(0,z.Jh)(this,function(x){switch(x.label){case 0:return(y=wt(o)).$o?(dt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Vo.has(e))return[3,8];switch(u){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Rg(y.localStore)];case 3:return E=x.sent(),I=Vd.createSynthesizedRemoteEventForCurrentChange(e,"current"===u),[4,tl(y,E,I)];case 4:return x.sent(),[3,8];case 5:return[4,Xc(y.localStore,e,!0)];case 6:return x.sent(),Xd(y,e,h),[3,8];case 7:Rt(),x.label=8;case 8:return[2]}})})}function rm(o,e,u){return(0,z.mG)(this,void 0,void 0,function(){var h,y,E,I,x,L,H,K,ie;return(0,z.Jh)(this,function(Te){switch(Te.label){case 0:if(!(h=th(o)).$o)return[3,10];y=0,E=e,Te.label=1;case 1:return y<E.length?h.Vo.has(I=E[y])?(dt("SyncEngine","Adding an already active target "+I),[3,5]):[4,Pg(h.localStore,I)]:[3,6];case 2:return x=Te.sent(),[4,Wl(h.localStore,x)];case 3:return L=Te.sent(),[4,Yg(h,df(x),L.targetId,!1)];case 4:Te.sent(),uf(h.remoteStore,L),Te.label=5;case 5:return y++,[3,1];case 6:H=function(Ae){return(0,z.Jh)(this,function(Ue){switch(Ue.label){case 0:return h.Vo.has(Ae)?[4,Xc(h.localStore,Ae,!1).then(function(){Cp(h.remoteStore,Ae),Xd(h,Ae)}).catch(Ku)]:[3,2];case 1:Ue.sent(),Ue.label=2;case 2:return[2]}})},K=0,ie=u,Te.label=7;case 7:return K<ie.length?[5,H(ie[K])]:[3,10];case 8:Te.sent(),Te.label=9;case 9:return K++,[3,7];case 10:return[2]}})})}function th(o){var e=wt(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ql.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dy.bind(null,e),e.vo._r=L_.bind(null,e.eventManager),e.vo.Mo=V_.bind(null,e.eventManager),e}function nh(o){var e=wt(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xu.bind(null,e),e}var hf=function(){function o(){this.synchronizeTabs=!1}return o.prototype.initialize=function(e){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(u){switch(u.label){case 0:return this.R=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return u.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},o.prototype.Uo=function(e){return null},o.prototype.Ko=function(e){return Er(this.persistence,new kt,e.initialUser,this.R)},o.prototype.qo=function(e){return new I_(A_.bs,this.R)},o.prototype.Bo=function(e){return new kg},o.prototype.terminate=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},o}(),gy=function(o){function e(u,h,y){var E=this;return(E=o.call(this)||this).Qo=u,E.cacheSizeBytes=h,E.forceOwnership=y,E.synchronizeTabs=!1,E}return(0,z.ZT)(e,o),e.prototype.initialize=function(u){return(0,z.mG)(this,void 0,void 0,function(){var h=this;return(0,z.Jh)(this,function(y){switch(y.label){case 0:return[4,o.prototype.initialize.call(this,u)];case 1:return y.sent(),[4,Xm(this.localStore)];case 2:return y.sent(),[4,this.Qo.initialize(this,u)];case 3:return y.sent(),[4,nh(this.Qo.syncEngine)];case 4:return y.sent(),[4,Qd(this.Qo.remoteStore)];case 5:return y.sent(),[4,this.persistence.He(function(){return h.gcScheduler&&!h.gcScheduler.started&&h.gcScheduler.start(h.localStore),Promise.resolve()})];case 6:return y.sent(),[2]}})})},e.prototype.Ko=function(u){return Er(this.persistence,new kt,u.initialUser,this.R)},e.prototype.Uo=function(u){return new mp(this.persistence.referenceDelegate.garbageCollector,u.asyncQueue)},e.prototype.qo=function(u){var h=Ge(u.databaseInfo.databaseId,u.databaseInfo.persistenceKey),y=void 0!==this.cacheSizeBytes?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new oe(this.synchronizeTabs,h,u.clientId,y,u.asyncQueue,bp(),Vg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(u){return new kg},e}(hf),Sb=function(o){function e(u,h){var y=this;return(y=o.call(this,u,h,!1)||this).Qo=u,y.cacheSizeBytes=h,y.synchronizeTabs=!0,y}return(0,z.ZT)(e,o),e.prototype.initialize=function(u){return(0,z.mG)(this,void 0,void 0,function(){var h,y=this;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return[4,o.prototype.initialize.call(this,u)];case 1:return E.sent(),h=this.Qo.syncEngine,this.sharedClientState instanceof Ci?(this.sharedClientState.syncEngine={ui:j_.bind(null,h),ai:Ip.bind(null,h),hi:rm.bind(null,h),fn:nm.bind(null,h),ci:py.bind(null,h)},[4,this.sharedClientState.start()]):[3,3];case 2:E.sent(),E.label=3;case 3:return[4,this.persistence.He(function(I){return(0,z.mG)(y,void 0,void 0,function(){return(0,z.Jh)(this,function(x){switch(x.label){case 0:return[4,eh(this.Qo.syncEngine,I)];case 1:return x.sent(),this.gcScheduler&&(I&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):I||this.gcScheduler.stop()),[2]}})})})];case 4:return E.sent(),[2]}})})},e.prototype.Bo=function(u){var h=bp();if(!Ci.yt(h))throw new tt(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=Ge(u.databaseInfo.databaseId,u.databaseInfo.persistenceKey);return new Ci(h,u.asyncQueue,y,u.clientId,u.initialUser)},e}(gy),G_=function(){function o(){}return o.prototype.initialize=function(e,u){return(0,z.mG)(this,void 0,void 0,function(){var h=this;return(0,z.Jh)(this,function(y){switch(y.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(u),this.remoteStore=this.createRemoteStore(u),this.eventManager=this.createEventManager(u),this.syncEngine=this.createSyncEngine(u,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(E){return Ju(h.syncEngine,E,1)},this.remoteStore.remoteSyncer.handleCredentialChange=em.bind(null,this.syncEngine),[4,Tp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},o.prototype.createEventManager=function(e){return new Hg},o.prototype.createDatastore=function(e){var h=Zd(e.databaseInfo.databaseId),y=new rf(e.databaseInfo);return new sy(e.credentials,y,h)},o.prototype.createRemoteStore=function(e){var u,h,y,E,I,x=this;return u=this.localStore,h=this.datastore,y=e.asyncQueue,E=function(L){return Ju(x.syncEngine,L,0)},I=vp.yt()?new vp:new Cb,new of(u,h,y,E,I)},o.prototype.createSyncEngine=function(e,u){return H=u,K=new Zg(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),H&&(K.$o=!0),K;var H,K},o.prototype.terminate=function(){return function(e){return(0,z.mG)(this,void 0,void 0,function(){var u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:return u=wt(e),dt("RemoteStore","RemoteStore shutting down."),u.Or.add(5),[4,af(u)];case 1:return h.sent(),u.Lr.shutdown(),u.Br.set("Unknown"),[2]}})})}(this.remoteStore)},o}(),im=function(){function o(e){this.observer=e,this.muted=!1}return o.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},o.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},o.prototype.Wo=function(){this.muted=!0},o.prototype.jo=function(e,u){var h=this;this.muted||setTimeout(function(){h.muted||e(u)},0)},o}(),Ab=(function(){function o(e,u){var h=this;this.Go=e,this.R=u,this.metadata=new qr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(y){y&&y.io()?h.metadata.resolve(y.payload.metadata):h.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==y?void 0:y.payload)))},function(y){return h.metadata.reject(y)})}o.prototype.close=function(){return this.Go.cancel()},o.prototype.getMetadata=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return[2,this.metadata.promise]})})},o.prototype.Lo=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},o.prototype.Ho=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u,h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return[4,this.Jo()];case 1:return null===(e=E.sent())?[2,null]:(u=this.zo.decode(e),h=Number(u),isNaN(h)&&this.Yo("length string ("+u+") is not valid number"),[4,this.Xo(h)]);case 2:return y=E.sent(),[2,new zg(JSON.parse(y),e.length+h)]}})})},o.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},o.prototype.Jo=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(h.sent())return[3,3];h.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),u=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),u)])}})})},o.prototype.Xo=function(e){return(0,z.mG)(this,void 0,void 0,function(){var u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:h.sent()&&this.Yo("Reached the end of bundle when more is expected."),h.label=2;case 2:return[3,0];case 3:return u=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),u)]}})})},o.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},o.prototype.tc=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:return[4,this.Go.read()];case 1:return(e=h.sent()).done||((u=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),u.set(e.value,this.buffer.length),this.buffer=u),[2,e.done]}})})}}(),function(){function o(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return o.prototype.lookup=function(e){return(0,z.mG)(this,void 0,void 0,function(){var u,h=this;return(0,z.Jh)(this,function(y){switch(y.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new tt(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(E,I){return(0,z.mG)(this,void 0,void 0,function(){var x,L,H,K,ie,pe;return(0,z.Jh)(this,function(Te){switch(Te.label){case 0:return x=wt(E),L=jd(x.R)+"/documents",H={documents:I.map(function(Ae){return jc(x.R,Ae)})},[4,x.$i("BatchGetDocuments",L,H)];case 1:return K=Te.sent(),ie=new Map,K.forEach(function(Ae){var ut,bt,Ue=(ut=x.R,"found"in(bt=Ae)?function(Lt,Vt){Yt(!!Vt.found);var Mn=mi(Lt,Vt.found.name),In=wr(Vt.found.updateTime),ur=new Ki({mapValue:{fields:Vt.found.fields}});return Jn.newFoundDocument(Mn,In,ur)}(ut,bt):"missing"in bt?function(Lt,Vt){Yt(!!Vt.missing),Yt(!!Vt.readTime);var Mn=mi(Lt,Vt.missing),In=wr(Vt.readTime);return Jn.newNoDocument(Mn,In)}(ut,bt):Rt());ie.set(Ue.key.toString(),Ue)}),pe=[],[2,(I.forEach(function(Ae){var Ue=ie.get(Ae.toString());Yt(!!Ue),pe.push(Ue)}),pe)]}})})}(this.datastore,e)];case 1:return[2,((u=y.sent()).forEach(function(E){return h.recordVersion(E)}),u)]}})})},o.prototype.set=function(e,u){this.write(u.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},o.prototype.update=function(e,u){try{this.write(u.toMutation(e,this.preconditionForUpdate(e)))}catch(h){this.lastWriteError=h}this.writtenDocs.add(e.toString())},o.prototype.delete=function(e){this.write(new Lc(e,this.precondition(e))),this.writtenDocs.add(e.toString())},o.prototype.commit=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u=this;return(0,z.Jh)(this,function(h){switch(h.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(y){e.delete(y.key.toString())}),e.forEach(function(y,E){var I=Gt.fromPath(E);u.mutations.push(new rp(I,u.precondition(I)))}),[4,function(y,E){return(0,z.mG)(this,void 0,void 0,function(){var I,x,L;return(0,z.Jh)(this,function(H){switch(H.label){case 0:return I=wt(y),x=jd(I.R)+"/documents",L={writes:E.map(function(K){return Qa(I.R,K)})},[4,I.Ni("Commit",x,L)];case 1:return H.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return h.sent(),this.committed=!0,[2]}})})},o.prototype.recordVersion=function(e){var u;if(e.isFoundDocument())u=e.version;else{if(!e.isNoDocument())throw Rt();u=Sn.min()}var h=this.readVersions.get(e.key.toString());if(h){if(!u.isEqual(h))throw new tt(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),u)},o.prototype.precondition=function(e){var u=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&u?dr.updateTime(u):dr.none()},o.prototype.preconditionForUpdate=function(e){var u=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&u){if(u.isEqual(Sn.min()))throw new tt(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dr.updateTime(u)}return dr.exists(!0)},o.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},o.prototype.ensureCommitNotCalled=function(){},o}()),yy=function(){function o(e,u,h,y){this.asyncQueue=e,this.datastore=u,this.updateFunction=h,this.deferred=y,this.ec=5,this.Zi=new oy(this.asyncQueue,"transaction_retry")}return o.prototype.run=function(){this.ec-=1,this.nc()},o.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,z.mG)(e,void 0,void 0,function(){var u,h,y=this;return(0,z.Jh)(this,function(E){return u=new Ab(this.datastore),(h=this.sc(u))&&h.then(function(I){y.asyncQueue.enqueueAndForget(function(){return u.commit().then(function(){y.deferred.resolve(I)}).catch(function(x){y.ic(x)})})}).catch(function(I){y.ic(I)}),[2]})})})},o.prototype.sc=function(e){try{var u=this.updateFunction(e);return!Ua(u)&&u.catch&&u.then?u:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(h){return this.deferred.reject(h),null}},o.prototype.ic=function(e){var u=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return u.nc(),Promise.resolve()})):this.deferred.reject(e)},o.prototype.rc=function(e){if("FirebaseError"===e.name){var u=e.code;return"aborted"===u||"failed-precondition"===u||!Wa(u)}return!1},o}(),H_=function(){function o(e,u,h){var y=this;this.credentials=e,this.asyncQueue=u,this.databaseInfo=h,this.user=Pi.UNAUTHENTICATED,this.clientId=Qf.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(u,function(E){return(0,z.mG)(y,void 0,void 0,function(){return(0,z.Jh)(this,function(I){switch(I.label){case 0:return dt("FirestoreClient","Received user=",E.uid),[4,this.credentialListener(E)];case 1:return I.sent(),this.user=E,[2]}})})})}return o.prototype.getConfiguration=function(){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},o.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},o.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new tt(ke.FAILED_PRECONDITION,"The client has already been terminated.")},o.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var u=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,z.mG)(e,void 0,void 0,function(){var h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return E.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:E.sent(),E.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:E.sent(),E.label=4;case 4:return this.credentials.removeChangeListener(),u.resolve(),[3,6];case 5:return h=E.sent(),y=cf(h,"Failed to shutdown persistence"),u.reject(y),[3,6];case 6:return[2]}})})}),u.promise},o}();function _y(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h,y=this;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return o.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider"),[4,o.getConfiguration()];case 1:return u=E.sent(),[4,e.initialize(u)];case 2:return E.sent(),h=u.initialUser,o.setCredentialChangeListener(function(I){return(0,z.mG)(y,void 0,void 0,function(){return(0,z.Jh)(this,function(x){switch(x.label){case 0:return h.isEqual(I)?[3,2]:[4,es(e.localStore,I)];case 1:x.sent(),h=I,x.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return o.terminate()}),o.offlineComponents=e,[2]}})})}function rh(o,e){return(0,z.mG)(this,void 0,void 0,function(){var u,h;return(0,z.Jh)(this,function(y){switch(y.label){case 0:return o.asyncQueue.verifyOperationInProgress(),[4,td(o)];case 1:return u=y.sent(),dt("FirestoreClient","Initializing OnlineComponentProvider"),[4,o.getConfiguration()];case 2:return h=y.sent(),[4,e.initialize(u,h)];case 3:return y.sent(),o.setCredentialChangeListener(function(E){return function(I,x){return(0,z.mG)(this,void 0,void 0,function(){var L,H;return(0,z.Jh)(this,function(K){switch(K.label){case 0:return(L=wt(I)).asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials"),H=ed(L),L.Or.add(3),[4,af(L)];case 1:return K.sent(),H&&L.Br.set("Unknown"),[4,L.remoteSyncer.handleCredentialChange(x)];case 2:return K.sent(),L.Or.delete(3),[4,sf(L)];case 3:return K.sent(),[2]}})})}(e.remoteStore,E)}),o.onlineComponents=e,[2]}})})}function td(o){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){switch(e.label){case 0:return o.offlineComponents?[3,2]:(dt("FirestoreClient","Using default OfflineComponentProvider"),[4,_y(o,new hf)]);case 1:e.sent(),e.label=2;case 2:return[2,o.offlineComponents]}})})}function ih(o){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(e){switch(e.label){case 0:return o.onlineComponents?[3,2]:(dt("FirestoreClient","Using default OnlineComponentProvider"),[4,rh(o,new G_)]);case 1:e.sent(),e.label=2;case 2:return[2,o.onlineComponents]}})})}function ff(o){return td(o).then(function(e){return e.persistence})}function pf(o){return td(o).then(function(e){return e.localStore})}function gf(o){return ih(o).then(function(e){return e.remoteStore})}function om(o){return ih(o).then(function(e){return e.syncEngine})}function mf(o){return(0,z.mG)(this,void 0,void 0,function(){var e,u;return(0,z.Jh)(this,function(h){switch(h.label){case 0:return[4,ih(o)];case 1:return e=h.sent(),[2,((u=e.eventManager).onListen=Sp.bind(null,e.syncEngine),u.onUnlisten=cy.bind(null,e.syncEngine),u)]}})})}function sm(o,e,u){var h=this;void 0===u&&(u={});var y=new qr;return o.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(h,void 0,void 0,function(){var E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return E=function(x,L,H,K,ie){var pe=new im({next:function(Ae){L.enqueueAndForget(function(){return $g(x,Te)});var Ue=Ae.docs.has(H);!Ue&&Ae.fromCache?ie.reject(new tt(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):Ue&&Ae.fromCache&&K&&"server"===K.source?ie.reject(new tt(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ie.resolve(Ae)},error:function(Ae){return ie.reject(Ae)}}),Te=new an($a(H.path),pe,{includeMetadataChanges:!0,so:!0});return ly(x,Te)},[4,mf(o)];case 1:return[2,E.apply(void 0,[I.sent(),o.asyncQueue,e,u,y])]}})})}),y.promise}function $_(o,e,u){var h=this;void 0===u&&(u={});var y=new qr;return o.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(h,void 0,void 0,function(){var E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return E=function(x,L,H,K,ie){var pe=new im({next:function(Ae){L.enqueueAndForget(function(){return $g(x,Te)}),Ae.fromCache&&"server"===K.source?ie.reject(new tt(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ie.resolve(Ae)},error:function(Ae){return ie.reject(Ae)}}),Te=new an(H,pe,{includeMetadataChanges:!0,so:!0});return ly(x,Te)},[4,mf(o)];case 1:return[2,E.apply(void 0,[I.sent(),o.asyncQueue,e,u,y])]}})})}),y.promise}var Mb=function(o,e,u,h,y,E,I,x){this.databaseId=o,this.appId=e,this.persistenceKey=u,this.host=h,this.ssl=y,this.forceLongPolling=E,this.autoDetectLongPolling=I,this.useFetchStreams=x},Ap=function(){function o(e,u){this.projectId=e,this.database=u||"(default)"}return Object.defineProperty(o.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(e){return e instanceof o&&e.projectId===this.projectId&&e.database===this.database},o}(),vy=new Map,am=function(o,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+o},Mp=function(){function o(){this.changeListener=null}return o.prototype.getToken=function(){return Promise.resolve(null)},o.prototype.invalidateToken=function(){},o.prototype.setChangeListener=function(e,u){this.changeListener=u,e.enqueueRetryable(function(){return u(Pi.UNAUTHENTICATED)})},o.prototype.removeChangeListener=function(){this.changeListener=null},o}(),by=function(){function o(e){this.token=e,this.changeListener=null}return o.prototype.getToken=function(){return Promise.resolve(this.token)},o.prototype.invalidateToken=function(){},o.prototype.setChangeListener=function(e,u){var h=this;this.changeListener=u,e.enqueueRetryable(function(){return u(h.token.user)})},o.prototype.removeChangeListener=function(){this.changeListener=null},o}(),au=function(){function o(e){var u=this;this.currentUser=Pi.UNAUTHENTICATED,this.oc=new qr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){u.cc++,u.currentUser=u.ac(),u.oc.resolve(),u.changeListener&&u.asyncQueue.enqueueRetryable(function(){return u.changeListener(u.currentUser)})};var h=function(y){dt("FirebaseCredentialsProvider","Auth detected"),u.auth=y,u.auth.addAuthTokenListener(u.uc)};e.onInit(function(y){return h(y)}),setTimeout(function(){if(!u.auth){var y=e.getImmediate({optional:!0});y?h(y):(dt("FirebaseCredentialsProvider","Auth not yet detected"),u.oc.resolve())}},0)}return o.prototype.getToken=function(){var e=this,u=this.cc,h=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(h).then(function(y){return e.cc!==u?(dt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):y?(Yt("string"==typeof y.accessToken),new am(y.accessToken,e.currentUser)):null}):Promise.resolve(null)},o.prototype.invalidateToken=function(){this.forceRefresh=!0},o.prototype.setChangeListener=function(e,u){var h=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,z.mG)(h,void 0,void 0,function(){return(0,z.Jh)(this,function(y){switch(y.label){case 0:return[4,this.oc.promise];case 1:return y.sent(),[4,u(this.currentUser)];case 2:return y.sent(),this.changeListener=u,[2]}})})})},o.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},o.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Yt(null===e||"string"==typeof e),new Pi(e)},o}(),yf=function(){function o(e,u,h){this.hc=e,this.lc=u,this.fc=h,this.type="FirstParty",this.user=Pi.FIRST_PARTY}return Object.defineProperty(o.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},u=this.hc.auth.getAuthHeaderValueForFirstParty([]);return u&&(e.Authorization=u),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),o}(),nd=function(){function o(e,u,h){this.hc=e,this.lc=u,this.fc=h}return o.prototype.getToken=function(){return Promise.resolve(new yf(this.hc,this.lc,this.fc))},o.prototype.setChangeListener=function(e,u){e.enqueueRetryable(function(){return u(Pi.FIRST_PARTY)})},o.prototype.removeChangeListener=function(){},o.prototype.invalidateToken=function(){},o}();function oh(o,e,u){if(!u)throw new tt(ke.INVALID_ARGUMENT,"Function "+o+"() cannot be called with an empty "+e+".")}function Cy(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tt(ke.INVALID_ARGUMENT,"Invalid options passed to function "+o+'(): You cannot specify both "merge" and "mergeFields".');return e}function sh(o,e,u,h){if(!0===e&&!0===h)throw new tt(ke.INVALID_ARGUMENT,o+" and "+u+" cannot be used together.")}function ah(o){if(!Gt.isDocumentKey(o))throw new tt(ke.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+o+" has "+o.length+".")}function rd(o){if(Gt.isDocumentKey(o))throw new tt(ke.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+o+" has "+o.length+".")}function Jl(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=o.substring(0,20)+"..."),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";var e=function(u){if(u.constructor){var h=/function\s+([^\s(]+)\s*\(/.exec(u.constructor.toString());if(h&&h.length>1)return h[1]}return null}(o);return e?"a custom "+e+" object":"an object"}return"function"==typeof o?"a function":Rt()}function Yn(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new tt(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var u=Jl(o);throw new tt(ke.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+u)}return o}function xp(o,e){if(e<=0)throw new tt(ke.INVALID_ARGUMENT,"Function "+o+"() requires a positive number, but it was: "+e+".")}var um=function(){function o(e){var u;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(u=e.ssl)||void 0===u||u;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,sh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return o.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},o}(),uh=function(){function o(e,u){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new um({}),this._settingsFrozen=!1,e instanceof Ap?(this._databaseId=e,this._credentials=new Mp):(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new tt(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ap(h.options.projectId)}(e),this._credentials=new au(u))}return Object.defineProperty(o.prototype,"app",{get:function(){if(!this._app)throw new tt(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),o.prototype._setSettings=function(e){if(this._settingsFrozen)throw new tt(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new um(e),void 0!==e.credentials&&(this._credentials=function(u){if(!u)return new Mp;switch(u.type){case"gapi":var h=u.client;return Yt(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new nd(h,u.sessionIndex||"0",u.iamToken||null);case"provider":return u.client;default:throw new tt(ke.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},o.prototype._getSettings=function(){return this._settings},o.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},o.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},o.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},o.prototype._terminate=function(){return(u=vy.get(this))&&(dt("ComponentProvider","Removing Datastore"),vy.delete(this),u.terminate()),Promise.resolve();var u},o}(),Tr=function(){function o(e,u,h){this.converter=u,this._key=h,this.type="document",this.firestore=e}return Object.defineProperty(o.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return new uu(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),o.prototype.withConverter=function(e){return new o(this.firestore,e,this._key)},o}(),ts=function(){function o(e,u,h){this.converter=u,this._query=h,this.type="query",this.firestore=e}return o.prototype.withConverter=function(e){return new o(this.firestore,e,this._query)},o}(),uu=function(o){function e(u,h,y){var E=this;return(E=o.call(this,u,h,$a(y))||this)._path=y,E.type="collection",E}return(0,z.ZT)(e,o),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var u=this._path.popLast();return u.isEmpty()?null:new Tr(this.firestore,null,new Gt(u))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(u){return new e(this.firestore,u,this._path)},e}(ts);function Ey(o,e){for(var u,h=[],y=2;y<arguments.length;y++)h[y-2]=arguments[y];if(o=(0,ft.m9)(o),oh("collection","path",e),o instanceof uh)return rd(u=Vn.fromString.apply(Vn,(0,z.ev)([e],h))),new uu(o,null,u);if(!(o instanceof Tr||o instanceof uu))throw new tt(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rd(u=Vn.fromString.apply(Vn,(0,z.ev)([o.path],h)).child(Vn.fromString(e))),new uu(o.firestore,null,u)}function Op(o,e){for(var u,h=[],y=2;y<arguments.length;y++)h[y-2]=arguments[y];if(o=(0,ft.m9)(o),1===arguments.length&&(e=Qf.u()),oh("doc","path",e),o instanceof uh)return ah(u=Vn.fromString.apply(Vn,(0,z.ev)([e],h))),new Tr(o,null,new Gt(u));if(!(o instanceof Tr||o instanceof uu))throw new tt(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ah(u=o._path.child(Vn.fromString.apply(Vn,(0,z.ev)([e],h)))),new Tr(o.firestore,o instanceof uu?o.converter:null,new Gt(u))}function lm(o,e){return o=(0,ft.m9)(o),e=(0,ft.m9)(e),(o instanceof Tr||o instanceof uu)&&(e instanceof Tr||e instanceof uu)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function id(o,e){return o=(0,ft.m9)(o),e=(0,ft.m9)(e),o instanceof ts&&e instanceof ts&&o.firestore===e.firestore&&Nd(o._query,e._query)&&o.converter===e.converter}var wy=function(){function o(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new oy(this,"async_queue_retry"),this.Ic=function(){var h=Vg();h&&dt("AsyncQueue","Visibility state changed to "+h.visibilityState),e.Zi.Gi()};var u=Vg();u&&"function"==typeof u.addEventListener&&u.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(o.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),o.prototype.enqueueAndForget=function(e){this.enqueue(e)},o.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},o.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var u=Vg();u&&"function"==typeof u.removeEventListener&&u.removeEventListener("visibilitychange",this.Ic)}},o.prototype.enqueue=function(e){var u=this;if(this.Ac(),this._c)return new Promise(function(){});var h=new qr;return this.Rc(function(){return u._c&&u.Ec?Promise.resolve():(e().then(h.resolve,h.reject),h.promise)}).then(function(){return h.promise})},o.prototype.enqueueRetryable=function(e){var u=this;this.enqueueAndForget(function(){return u.wc.push(e),u.bc()})},o.prototype.bc=function(){return(0,z.mG)(this,void 0,void 0,function(){var e,u=this;return(0,z.Jh)(this,function(h){switch(h.label){case 0:if(0===this.wc.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return h.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!$u(e=h.sent()))throw e;return dt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return u.bc()}),h.label=5;case 5:return[2]}})})},o.prototype.Rc=function(e){var u=this,h=this.dc.then(function(){return u.gc=!0,e().catch(function(y){throw u.yc=y,u.gc=!1,Sr("INTERNAL UNHANDLED ERROR: ",(I=(E=y).message||"",E.stack&&(I=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),I)),y;var E,I}).then(function(y){return u.gc=!1,y})});return this.dc=h,h},o.prototype.enqueueAfterDelay=function(e,u,h){var y=this;this.Ac(),this.Tc.indexOf(e)>-1&&(u=0);var E=uy.createAndSchedule(this,e,u,h,function(I){return y.vc(I)});return this.mc.push(E),E},o.prototype.Ac=function(){this.yc&&Rt()},o.prototype.verifyOperationInProgress=function(){},o.prototype.Pc=function(){return(0,z.mG)(this,void 0,void 0,function(){var e;return(0,z.Jh)(this,function(u){switch(u.label){case 0:return[4,e=this.dc];case 1:u.sent(),u.label=2;case 2:if(e!==this.dc)return[3,0];u.label=3;case 3:return[2]}})})},o.prototype.Vc=function(e){for(var u=0,h=this.mc;u<h.length;u++)if(h[u].timerId===e)return!0;return!1},o.prototype.Sc=function(e){var u=this;return this.Pc().then(function(){u.mc.sort(function(I,x){return I.targetTimeMs-x.targetTimeMs});for(var h=0,y=u.mc;h<y.length;h++){var E=y[h];if(E.skipDelay(),"all"!==e&&E.timerId===e)break}return u.Pc()})},o.prototype.Dc=function(e){this.Tc.push(e)},o.prototype.vc=function(e){var u=this.mc.indexOf(e);this.mc.splice(u,1)},o}();function lh(o){return function(e,u){if("object"!=typeof e||null===e)return!1;for(var h=e,y=0,E=["next","error","complete"];y<E.length;y++){var I=E[y];if(I in h&&"function"==typeof h[I])return!0}return!1}(o)}!function(){function o(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}o.prototype.onProgress=function(e,u,h){this._progressObserver={next:e,error:u,complete:h}},o.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},o.prototype.then=function(e,u){return this._taskCompletionResolver.promise.then(e,u)},o.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},o.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},o.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Vr=function(o){function e(u,h){var y=this;return(y=o.call(this,u,h)||this).type="firestore",y._queue=new wy,y._persistenceKey="name"in u?u.name:"[DEFAULT]",y}return(0,z.ZT)(e,o),e.prototype._terminate=function(){return this._firestoreClient||cm(this),this._firestoreClient.terminate()},e}(uh);function Ri(o){return o._firestoreClient||cm(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function cm(o){var e,E,x,u=o._freezeSettings(),h=(E=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Mb(o._databaseId,E,o._persistenceKey,(x=u).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));o._firestoreClient=new H_(o._credentials,o._queue,h)}function Dy(o,e,u){var h=this,y=new qr;return o.asyncQueue.enqueue(function(){return(0,z.mG)(h,void 0,void 0,function(){var E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return I.trys.push([0,3,,4]),[4,_y(o,u)];case 1:return I.sent(),[4,rh(o,e)];case 2:return I.sent(),y.resolve(),[3,4];case 3:if(!("FirebaseError"===(x=E=I.sent()).name?x.code===ke.FAILED_PRECONDITION||x.code===ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&x instanceof DOMException)||22===x.code||20===x.code||11===x.code))throw E;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+E),y.reject(E),[3,4];case 4:return[2]}var x})})}).then(function(){return y.promise})}function od(o){if(o._initialized||o._terminated)throw new tt(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ma=function(){function o(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];for(var h=0;h<e.length;++h)if(0===e[h].length)throw new tt(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}return o.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},o}(),Xl=function(){function o(e){this._byteString=e}return o.fromBase64String=function(e){try{return new o(kr.fromBase64String(e))}catch(u){throw new tt(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+u)}},o.fromUint8Array=function(e){return new o(kr.fromUint8Array(e))},o.prototype.toBase64=function(){return this._byteString.toBase64()},o.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},o.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},o.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},o}(),En=function(o){this._methodName=o},ec=function(){function o(e,u){if(!isFinite(e)||e<-90||e>90)throw new tt(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(u)||u<-180||u>180)throw new tt(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+u);this._lat=e,this._long=u}return Object.defineProperty(o.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},o.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},o.prototype._compareTo=function(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)},o}(),Sy=/^__.*__$/,nl=function(){function o(e,u,h){this.data=e,this.fieldMask=u,this.fieldTransforms=h}return o.prototype.toMutation=function(e,u){return null!==this.fieldMask?new qo(e,this.data,this.fieldMask,u,this.fieldTransforms):new Oi(e,this.data,u,this.fieldTransforms)},o}(),ch=function(){function o(e,u,h){this.data=e,this.fieldMask=u,this.fieldTransforms=h}return o.prototype.toMutation=function(e,u){return new qo(e,this.data,this.fieldMask,u,this.fieldTransforms)},o}();function Pp(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}var z_=function(){function o(e,u,h,y,E,I){this.settings=e,this.databaseId=u,this.R=h,this.ignoreUndefinedProperties=y,void 0===E&&this.Cc(),this.fieldTransforms=E||[],this.fieldMask=I||[]}return Object.defineProperty(o.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),o.prototype.xc=function(e){return new o(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},o.prototype.kc=function(e){var u,h=null===(u=this.path)||void 0===u?void 0:u.child(e),y=this.xc({path:h,Fc:!1});return y.$c(e),y},o.prototype.Oc=function(e){var u,h=null===(u=this.path)||void 0===u?void 0:u.child(e),y=this.xc({path:h,Fc:!1});return y.Cc(),y},o.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},o.prototype.Lc=function(e){return mm(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},o.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(u){return e.isPrefixOf(u)})||void 0!==this.fieldTransforms.find(function(u){return e.isPrefixOf(u.field)})},o.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},o.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Pp(this.Nc)&&Sy.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},o}(),q_=function(){function o(e,u,h){this.databaseId=e,this.ignoreUndefinedProperties=u,this.R=h||Zd(e)}return o.prototype.Uc=function(e,u,h,y){return void 0===y&&(y=!1),new z_({Nc:e,methodName:u,qc:h,path:xi.emptyPath(),Fc:!1,Bc:y},this.databaseId,this.R,this.ignoreUndefinedProperties)},o}();function sd(o){var e=o._freezeSettings(),u=Zd(o._databaseId);return new q_(o._databaseId,!!e.ignoreUndefinedProperties,u)}function _f(o,e,u,h,y,E){void 0===E&&(E={});var I=o.Uc(E.merge||E.mergeFields?2:0,e,u,y);pm("Data must be an object, but it was:",I,h);var x,L,H=fm(h,I);if(E.merge)x=new cs(I.fieldMask),L=I.fieldTransforms;else if(E.mergeFields){for(var K=[],ie=0,pe=E.mergeFields;ie<pe.length;ie++){var Te=gm(e,pe[ie],u);if(!I.contains(Te))throw new tt(ke.INVALID_ARGUMENT,"Field '"+Te+"' is specified in your field mask but missing from your input data.");ym(K,Te)||K.push(Te)}x=new cs(K),L=I.fieldTransforms.filter(function(Ae){return x.covers(Ae.field)})}else x=null,L=I.fieldTransforms;return new nl(new Ki(H),x,L)}var Rp=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e.prototype._toFieldTransform=function(u){if(2!==u.Nc)throw u.Lc(1===u.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return u.fieldMask.push(u.path),null},e.prototype.isEqual=function(u){return u instanceof e},e}(En);function tc(o,e,u){return new z_({Nc:3,qc:e.settings.qc,methodName:o._methodName,Fc:u},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Iy=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e.prototype._toFieldTransform=function(u){return new wo(u.path,new Gr)},e.prototype.isEqual=function(u){return u instanceof e},e}(En),dm=function(o){function e(u,h){var y=this;return(y=o.call(this,u)||this).Kc=h,y}return(0,z.ZT)(e,o),e.prototype._toFieldTransform=function(u){var h=tc(this,u,!0),y=this.Kc.map(function(I){return nc(I,h)}),E=new Co(y);return new wo(u.path,E)},e.prototype.isEqual=function(u){return this===u},e}(En),rl=function(o){function e(u,h){var y=this;return(y=o.call(this,u)||this).Kc=h,y}return(0,z.ZT)(e,o),e.prototype._toFieldTransform=function(u){var h=tc(this,u,!0),y=this.Kc.map(function(I){return nc(I,h)}),E=new sa(y);return new wo(u.path,E)},e.prototype.isEqual=function(u){return this===u},e}(En),ad=function(o){function e(u,h){var y=this;return(y=o.call(this,u)||this).Qc=h,y}return(0,z.ZT)(e,o),e.prototype._toFieldTransform=function(u){var h=new za(u.R,Ui(u.R,this.Qc));return new wo(u.path,h)},e.prototype.isEqual=function(u){return this===u},e}(En);function il(o,e,u,h){var y=o.Uc(1,e,u);pm("Data must be an object, but it was:",y,h);var E=[],I=Ki.empty();ta(h,function(L,H){var K=bf(e,L,u);H=(0,ft.m9)(H);var ie=y.Oc(K);if(H instanceof Rp)E.push(K);else{var pe=nc(H,ie);null!=pe&&(E.push(K),I.set(K,pe))}});var x=new cs(E);return new ch(I,x,y.fieldTransforms)}function vf(o,e,u,h,y,E){var I=o.Uc(1,e,u),x=[gm(e,h,u)],L=[y];if(E.length%2!=0)throw new tt(ke.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var H=0;H<E.length;H+=2)x.push(gm(e,E[H])),L.push(E[H+1]);for(var K=[],ie=Ki.empty(),pe=x.length-1;pe>=0;--pe)if(!ym(K,x[pe])){var Te=x[pe],Ae=L[pe];Ae=(0,ft.m9)(Ae);var Ue=I.Oc(Te);if(Ae instanceof Rp)K.push(Te);else{var ut=nc(Ae,Ue);null!=ut&&(K.push(Te),ie.set(Te,ut))}}var bt=new cs(K);return new ch(ie,bt,I.fieldTransforms)}function hm(o,e,u,h){return void 0===h&&(h=!1),nc(u,o.Uc(h?4:3,e))}function nc(o,e){if(Ay(o=(0,ft.m9)(o)))return pm("Unsupported field value:",e,o),fm(o,e);if(o instanceof En)return function(u,h){if(!Pp(h.Nc))throw h.Lc(u._methodName+"() can only be used with update() and set()");if(!h.path)throw h.Lc(u._methodName+"() is not currently supported inside arrays");var y=u._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(u,h){for(var y=[],E=0,I=0,x=u;I<x.length;I++){var L=nc(x[I],h.Mc(E));null==L&&(L={nullValue:"NULL_VALUE"}),y.push(L),E++}return{arrayValue:{values:y}}}(o,e)}return function(u,h){if(null===(u=(0,ft.m9)(u)))return{nullValue:"NULL_VALUE"};if("number"==typeof u)return Ui(h.R,u);if("boolean"==typeof u)return{booleanValue:u};if("string"==typeof u)return{stringValue:u};if(u instanceof Date){var y=ni.fromDate(u);return{timestampValue:Zo(h.R,y)}}if(u instanceof ni)return y=new ni(u.seconds,1e3*Math.floor(u.nanoseconds/1e3)),{timestampValue:Zo(h.R,y)};if(u instanceof ec)return{geoPointValue:{latitude:u.latitude,longitude:u.longitude}};if(u instanceof Xl)return{bytesValue:Wh(h.R,u._byteString)};if(u instanceof Tr){var E=u.firestore._databaseId;if(!E.isEqual(y=h.databaseId))throw h.Lc("Document reference is for database "+E.projectId+"/"+E.database+" but should be for database "+y.projectId+"/"+y.database);return{referenceValue:Bd(u.firestore._databaseId||h.databaseId,u._key.path)}}throw h.Lc("Unsupported field value: "+Jl(u))}(o,e)}function fm(o,e){var u={};return Va(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(o,function(h,y){var E=nc(y,e.kc(h));null!=E&&(u[h]=E)}),{mapValue:{fields:u}}}function Ay(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof ni||o instanceof ec||o instanceof Xl||o instanceof Tr||o instanceof En)}function pm(o,e,u){if(!Ay(u)||"object"!=typeof(y=u)||null===y||Object.getPrototypeOf(y)!==Object.prototype&&null!==Object.getPrototypeOf(y)){var h=Jl(u);throw e.Lc("an object"===h?o+" a custom object":o+" "+h)}var y}function gm(o,e,u){if((e=(0,ft.m9)(e))instanceof ma)return e._internalPath;if("string"==typeof e)return bf(o,e);throw mm("Field path arguments must be of type string or FieldPath.",o,!1,void 0,u)}var My=new RegExp("[~\\*/\\[\\]]");function bf(o,e,u){if(e.search(My)>=0)throw mm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",o,!1,void 0,u);try{return(new(ma.bind.apply(ma,(0,z.ev)([void 0],e.split(".")))))._internalPath}catch(h){throw mm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",o,!1,void 0,u)}}function mm(o,e,u,h,y){var E=h&&!h.isEmpty(),I=void 0!==y,x="Function "+e+"() called with invalid data";u&&(x+=" (via `toFirestore()`)");var L="";return(E||I)&&(L+=" (found",E&&(L+=" in field "+h),I&&(L+=" in document "+y),L+=")"),new tt(ke.INVALID_ARGUMENT,(x+=". ")+o+L)}function ym(o,e){return o.some(function(u){return u.isEqual(e)})}var Cf=function(){function o(e,u,h,y,E){this._firestore=e,this._userDataWriter=u,this._key=h,this._document=y,this._converter=E}return Object.defineProperty(o.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ref",{get:function(){return new Tr(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),o.prototype.exists=function(){return null!==this._document},o.prototype.data=function(){if(this._document){if(this._converter){var e=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},o.prototype.get=function(e){if(this._document){var u=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==u)return this._userDataWriter.convertValue(u)}},o}(),W_=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e.prototype.data=function(){return o.prototype.data.call(this)},e}(Cf);function Np(o,e){return"string"==typeof e?bf(o,e):e instanceof ma?e._internalPath:e._delegate._internalPath}var vn=function(){function o(e,u){this.hasPendingWrites=e,this.fromCache=u}return o.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},o}(),ya=function(o){function e(u,h,y,E,I,x){var L=this;return(L=o.call(this,u,h,y,E,x)||this)._firestore=u,L._firestoreImpl=u,L.metadata=I,L}return(0,z.ZT)(e,o),e.prototype.exists=function(){return o.prototype.exists.call(this)},e.prototype.data=function(u){if(void 0===u&&(u={}),this._document){if(this._converter){var h=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(h,u)}return this._userDataWriter.convertValue(this._document.data.value,u.serverTimestamps)}},e.prototype.get=function(u,h){if(void 0===h&&(h={}),this._document){var y=this._document.data.field(Np("DocumentSnapshot.get",u));if(null!==y)return this._userDataWriter.convertValue(y,h.serverTimestamps)}},e}(Cf),lu=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e.prototype.data=function(u){return void 0===u&&(u={}),o.prototype.data.call(this,u)},e}(ya),cu=function(){function o(e,u,h,y){this._firestore=e,this._userDataWriter=u,this._snapshot=y,this.metadata=new vn(y.hasPendingWrites,y.fromCache),this.query=h}return Object.defineProperty(o.prototype,"docs",{get:function(){var e=[];return this.forEach(function(u){return e.push(u)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),o.prototype.forEach=function(e,u){var h=this;this._snapshot.docs.forEach(function(y){e.call(u,new lu(h._firestore,h._userDataWriter,y.key,y,new vn(h._snapshot.mutatedKeys.has(y.key),h._snapshot.fromCache),h.query.converter))})},o.prototype.docChanges=function(e){void 0===e&&(e={});var u=!!e.includeMetadataChanges;if(u&&this._snapshot.excludesMetadataChanges)throw new tt(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===u||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){var E=0;return h._snapshot.docChanges.map(function(x){return{type:"added",doc:new lu(h._firestore,h._userDataWriter,x.doc.key,x.doc,new vn(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:E++}})}var I=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(function(x){return y||3!==x.type}).map(function(x){var L=new lu(h._firestore,h._userDataWriter,x.doc.key,x.doc,new vn(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),H=-1,K=-1;return 0!==x.type&&(H=I.indexOf(x.doc.key),I=I.delete(x.doc.key)),1!==x.type&&(K=(I=I.add(x.doc)).indexOf(x.doc.key)),{type:Fp(x.type),doc:L,oldIndex:H,newIndex:K}})}(this,u),this._cachedChangesIncludeMetadataChanges=u),this._cachedChanges},o}();function Fp(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function K_(o,e){return o instanceof ya&&e instanceof ya?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof cu&&e instanceof cu&&o._firestore===e._firestore&&id(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}function Bs(o){if(ia(o)&&0===o.explicitOrderBy.length)throw new tt(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kp=function(){};function to(o){for(var e=[],u=1;u<arguments.length;u++)e[u-1]=arguments[u];for(var h=0,y=e;h<y.length;h++){var E=y[h];o=E._apply(o)}return o}var Z_=function(o){function e(u,h,y){var E=this;return(E=o.call(this)||this).jc=u,E.Wc=h,E.Gc=y,E.type="where",E}return(0,z.ZT)(e,o),e.prototype._apply=function(u){var E,x,h=sd(u.firestore),y=function(E,I,x,L,H,K,ie){var pe;if(H.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new tt(ke.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+K+"' queries on FieldPath.documentId().");if("in"===K||"not-in"===K){Vp(ie,K);for(var Te=[],Ae=0,Ue=ie;Ae<Ue.length;Ae++)Te.push(vm(L,E,Ue[Ae]));pe={arrayValue:{values:Te}}}else pe=vm(L,E,ie)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||Vp(ie,K),pe=hm(x,"where",ie,"in"===K||"not-in"===K);var bt=Yi.create(H,K,pe);return function(Lt,Vt){if(Vt.g()){var Mn=Fu(Lt);if(null!==Mn&&!Mn.isEqual(Vt.field))throw new tt(ke.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Mn.toString()+"' and '"+Vt.field.toString()+"'");var In=Rd(Lt);null!==In&&bm(0,Vt.field,In)}var ur=function(Hi,Tm){for(var Mf=0,ld=Hi.filters;Mf<ld.length;Mf++){var mh=ld[Mf];if(Tm.indexOf(mh.op)>=0)return mh.op}return null}(Lt,function(Hi){switch(Hi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Vt.op));if(null!==ur)throw new tt(ke.INVALID_ARGUMENT,ur===Vt.op?"Invalid query. You cannot use more than one '"+Vt.op.toString()+"' filter.":"Invalid query. You cannot use '"+Vt.op.toString()+"' filters with '"+ur.toString()+"' filters.")}(E,bt),bt}(u._query,0,h,u.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ts(u.firestore,u.converter,(x=(E=u._query).filters.concat([y]),new Go(E.path,E.collectionGroup,E.explicitOrderBy.slice(),x,E.limit,E.limitType,E.startAt,E.endAt)))},e}(kp),_m=function(o){function e(u,h){var y=this;return(y=o.call(this)||this).jc=u,y.zc=h,y.type="orderBy",y}return(0,z.ZT)(e,o),e.prototype._apply=function(u){var y,I,h=function(y,E,I){if(null!==y.startAt)throw new tt(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==y.endAt)throw new tt(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var x=new xs(E,I);return function(L,H){if(null===Rd(L)){var K=Fu(L);null!==K&&bm(0,K,H.field)}}(y,x),x}(u._query,this.jc,this.zc);return new ts(u.firestore,u.converter,(I=(y=u._query).explicitOrderBy.concat([h]),new Go(y.path,y.collectionGroup,I,y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)))},e}(kp),Lp=function(o){function e(u,h,y){var E=this;return(E=o.call(this)||this).type=u,E.Hc=h,E.Jc=y,E}return(0,z.ZT)(e,o),e.prototype._apply=function(u){return new ts(u.firestore,u.converter,Hh(u._query,this.Hc,this.Jc))},e}(kp),xy=function(o){function e(u,h,y){var E=this;return(E=o.call(this)||this).type=u,E.Yc=h,E.Xc=y,E}return(0,z.ZT)(e,o),e.prototype._apply=function(u){var y,E,h=du(u,this.type,this.Yc,this.Xc);return new ts(u.firestore,u.converter,(E=h,new Go((y=u._query).path,y.collectionGroup,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,E,y.endAt)))},e}(kp),Ni=function(o){function e(u,h,y){var E=this;return(E=o.call(this)||this).type=u,E.Yc=h,E.Xc=y,E}return(0,z.ZT)(e,o),e.prototype._apply=function(u){var y,E,h=du(u,this.type,this.Yc,this.Xc);return new ts(u.firestore,u.converter,(E=h,new Go((y=u._query).path,y.collectionGroup,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,E)))},e}(kp);function du(o,e,u,h){if(u[0]=(0,ft.m9)(u[0]),u[0]instanceof Cf)return function(E,I,x,L,H){if(!L)throw new tt(ke.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+x+"().");for(var K=[],ie=0,pe=Fl(E);ie<pe.length;ie++){var Te=pe[ie];if(Te.field.isKeyField())K.push(xc(I,L.key));else{var Ae=L.data.field(Te.field);if(Jf(Ae))throw new tt(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ae){var Ue=Te.field.canonicalString();throw new tt(ke.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Ue+"' (used as the orderBy) does not exist.")}K.push(Ae)}}return new Nl(K,H)}(o._query,o.firestore._databaseId,e,u[0]._document,h);var y=sd(o.firestore);return function(E,I,x,L,H,K){var ie=E.explicitOrderBy;if(H.length>ie.length)throw new tt(ke.INVALID_ARGUMENT,"Too many arguments provided to "+L+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var pe=[],Te=0;Te<H.length;Te++){var Ae=H[Te];if(ie[Te].field.isKeyField()){if("string"!=typeof Ae)throw new tt(ke.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+L+"(), but got a "+typeof Ae);if(!tp(E)&&-1!==Ae.indexOf("/"))throw new tt(ke.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+L+"() must be a plain document ID, but '"+Ae+"' contains a slash.");var Ue=E.path.child(Vn.fromString(Ae));if(!Gt.isDocumentKey(Ue))throw new tt(ke.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+L+"() must result in a valid document path, but '"+Ue+"' is not because it contains an odd number of segments.");var ut=new Gt(Ue);pe.push(xc(I,ut))}else{var bt=hm(x,L,Ae);pe.push(bt)}}return new Nl(pe,K)}(o._query,o.firestore._databaseId,y,e,u,h)}function vm(o,e,u){if("string"==typeof(u=(0,ft.m9)(u))){if(""===u)throw new tt(ke.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!tp(e)&&-1!==u.indexOf("/"))throw new tt(ke.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+u+"' contains a '/' character.");var h=e.path.child(Vn.fromString(u));if(!Gt.isDocumentKey(h))throw new tt(ke.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+h+"' is not because it has an odd number of segments ("+h.length+").");return xc(o,new Gt(h))}if(u instanceof Tr)return xc(o,u._key);throw new tt(ke.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Jl(u)+".")}function Vp(o,e){if(!Array.isArray(o)||0===o.length)throw new tt(ke.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(o.length>10)throw new tt(ke.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bm(o,e,u){if(!u.isEqual(e))throw new tt(ke.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+u.toString()+"' instead.")}var dh=function(){function o(){}return o.prototype.convertValue=function(e,u){switch(void 0===u&&(u="none"),Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,u);case 5:return e.stringValue;case 6:return this.convertBytes(Rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,u);case 10:return this.convertObject(e.mapValue,u);default:throw Rt()}},o.prototype.convertObject=function(e,u){var h=this,y={};return ta(e.fields,function(E,I){y[E]=h.convertValue(I,u)}),y},o.prototype.convertGeoPoint=function(e){return new ec(tr(e.latitude),tr(e.longitude))},o.prototype.convertArray=function(e,u){var h=this;return(e.values||[]).map(function(y){return h.convertValue(y,u)})},o.prototype.convertServerTimestamp=function(e,u){switch(u){case"previous":var h=jh(e);return null==h?null:this.convertValue(h,u);case"estimate":return this.convertTimestamp(Ou(e));default:return null}},o.prototype.convertTimestamp=function(e){var u=ds(e);return new ni(u.seconds,u.nanos)},o.prototype.convertDocumentKey=function(e,u){var h=Vn.fromString(e);Yt(ju(h));var y=new Ap(h.get(1),h.get(3)),E=new Gt(h.popFirst(5));return y.isEqual(u)||Sr("Document "+E+" contains a document reference within a different database ("+y.projectId+"/"+y.database+") which is not supported. It will be treated as a reference in the current database ("+u.projectId+"/"+u.database+") instead."),E},o}();function Up(o,e,u){return o?u&&(u.merge||u.mergeFields)?o.toFirestore(e,u):o.toFirestore(e):e}var Oy=function(o){function e(u){var h=this;return(h=o.call(this)||this).firestore=u,h}return(0,z.ZT)(e,o),e.prototype.convertBytes=function(u){return new Xl(u)},e.prototype.convertReference=function(u){var h=this.convertDocumentKey(u,this.firestore._databaseId);return new Tr(this.firestore,null,h)},e}(dh),Y_=function(){function o(e,u){this._firestore=e,this._commitHandler=u,this._mutations=[],this._committed=!1,this._dataReader=sd(e)}return o.prototype.set=function(e,u,h){this._verifyNotCommitted();var y=ol(e,this._firestore),E=Up(y.converter,u,h),I=_f(this._dataReader,"WriteBatch.set",y._key,E,null!==y.converter,h);return this._mutations.push(I.toMutation(y._key,dr.none())),this},o.prototype.update=function(e,u,h){for(var y=[],E=3;E<arguments.length;E++)y[E-3]=arguments[E];this._verifyNotCommitted();var I,x=ol(e,this._firestore);return I="string"==typeof(u=(0,ft.m9)(u))||u instanceof ma?vf(this._dataReader,"WriteBatch.update",x._key,u,h,y):il(this._dataReader,"WriteBatch.update",x._key,u),this._mutations.push(I.toMutation(x._key,dr.exists(!0))),this},o.prototype.delete=function(e){this._verifyNotCommitted();var u=ol(e,this._firestore);return this._mutations=this._mutations.concat(new Lc(u._key,dr.none())),this},o.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},o.prototype._verifyNotCommitted=function(){if(this._committed)throw new tt(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},o}();function ol(o,e){if((o=(0,ft.m9)(o)).firestore!==e)throw new tt(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}var rc=function(o){function e(u){var h=this;return(h=o.call(this)||this).firestore=u,h}return(0,z.ZT)(e,o),e.prototype.convertBytes=function(u){return new Xl(u)},e.prototype.convertReference=function(u){var h=this.convertDocumentKey(u,this.firestore._databaseId);return new Tr(this.firestore,null,h)},e}(dh);function Ef(o,e,u){for(var h=[],y=3;y<arguments.length;y++)h[y-3]=arguments[y];o=Yn(o,Tr);var E=Yn(o.firestore,Vr),I=sd(E);return ln(E,[("string"==typeof(e=(0,ft.m9)(e))||e instanceof ma?vf(I,"updateDoc",o._key,e,u,h):il(I,"updateDoc",o._key,e)).toMutation(o._key,dr.exists(!0))])}function _a(o){for(var e,u,h,y=[],E=1;E<arguments.length;E++)y[E-1]=arguments[E];o=(0,ft.m9)(o);var I={includeMetadataChanges:!1},x=0;"object"!=typeof y[x]||lh(y[x])||(I=y[x],x++);var L,H,K,ie={includeMetadataChanges:I.includeMetadataChanges};if(lh(y[x])){var pe=y[x];y[x]=null===(e=pe.next)||void 0===e?void 0:e.bind(pe),y[x+1]=null===(u=pe.error)||void 0===u?void 0:u.bind(pe),y[x+2]=null===(h=pe.complete)||void 0===h?void 0:h.bind(pe)}if(o instanceof Tr)H=Yn(o.firestore,Vr),K=$a(o._key.path),L={next:function(Ue){y[x]&&y[x](ic(H,o,Ue))},error:y[x+1],complete:y[x+2]};else{var Te=Yn(o,ts);H=Yn(Te.firestore,Vr),K=Te._query;var Ae=new rc(H);L={next:function(Ue){y[x]&&y[x](new cu(H,Ae,Te,Ue))},error:y[x+1],complete:y[x+2]},Bs(o._query)}return function(Ue,ut,bt,Lt){var Vt=this,Mn=new im(Lt),In=new an(ut,Mn,bt);return Ue.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(Vt,void 0,void 0,function(){var ur;return(0,z.Jh)(this,function(Hi){switch(Hi.label){case 0:return ur=ly,[4,mf(Ue)];case 1:return[2,ur.apply(void 0,[Hi.sent(),In])]}})})}),function(){Mn.Wo(),Ue.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(Vt,void 0,void 0,function(){var ur;return(0,z.Jh)(this,function(Hi){switch(Hi.label){case 0:return ur=$g,[4,mf(Ue)];case 1:return[2,ur.apply(void 0,[Hi.sent(),In])]}})})})}}(Ri(H),K,ie,L)}function ln(o,e){return function(u,h){var y=this,E=new qr;return u.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(y,void 0,void 0,function(){var I;return(0,z.Jh)(this,function(x){switch(x.label){case 0:return I=Io,[4,om(u)];case 1:return[2,I.apply(void 0,[x.sent(),h,E])]}})})}),E.promise}(Ri(o),e)}function ic(o,e,u){var h=u.docs.get(e._key),y=new rc(o);return new ya(o,y,e._key,h,new vn(u.hasPendingWrites,u.fromCache),e.converter)}var va=function(o){function e(u,h){var y=this;return(y=o.call(this,u,h)||this)._firestore=u,y}return(0,z.ZT)(e,o),e.prototype.get=function(u){var h=this,y=ol(u,this._firestore),E=new rc(this._firestore);return o.prototype.get.call(this,u).then(function(I){return new ya(h._firestore,E,y._key,I._document,new vn(!1,!1),y.converter)})},e}(function(){function o(e,u){this._firestore=e,this._transaction=u,this._dataReader=sd(e)}return o.prototype.get=function(e){var u=this,h=ol(e,this._firestore),y=new Oy(this._firestore);return this._transaction.lookup([h._key]).then(function(E){if(!E||1!==E.length)return Rt();var I=E[0];if(I.isFoundDocument())return new Cf(u._firestore,y,I.key,I,h.converter);if(I.isNoDocument())return new Cf(u._firestore,y,h._key,null,h.converter);throw Rt()})},o.prototype.set=function(e,u,h){var y=ol(e,this._firestore),E=Up(y.converter,u,h),I=_f(this._dataReader,"Transaction.set",y._key,E,null!==y.converter,h);return this._transaction.set(y._key,I),this},o.prototype.update=function(e,u,h){for(var y=[],E=3;E<arguments.length;E++)y[E-3]=arguments[E];var I,x=ol(e,this._firestore);return I="string"==typeof(u=(0,ft.m9)(u))||u instanceof ma?vf(this._dataReader,"Transaction.update",x._key,u,h,y):il(this._dataReader,"Transaction.update",x._key,u),this._transaction.update(x._key,I),this},o.prototype.delete=function(e){var u=ol(e,this._firestore);return this._transaction.delete(u._key),this},o}());function js(){if("undefined"==typeof Uint8Array)throw new tt(ke.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Py(){if("undefined"==typeof atob)throw new tt(ke.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Bp=function(){function o(e){this._delegate=e}return o.fromBase64String=function(e){return Py(),new o(Xl.fromBase64String(e))},o.fromUint8Array=function(e){return js(),new o(Xl.fromUint8Array(e))},o.prototype.toBase64=function(){return Py(),this._delegate.toBase64()},o.prototype.toUint8Array=function(){return js(),this._delegate.toUint8Array()},o.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},o.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},o}(),jp=function(){function o(){}return o.prototype.enableIndexedDbPersistence=function(e,u){return function(h,y){od(h=Yn(h,Vr));var E=Ri(h),I=h._freezeSettings(),x=new G_;return Dy(E,x,new gy(x,I.cacheSizeBytes,null==y?void 0:y.forceOwnership))}(e._delegate,{forceOwnership:u})},o.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(u){od(u=Yn(u,Vr));var h=Ri(u),y=u._freezeSettings(),E=new G_;return Dy(h,E,new Sb(E,y.cacheSizeBytes))}(e._delegate)},o.prototype.clearIndexedDbPersistence=function(e){return function(u){var h=this;if(u._initialized&&!u._terminated)throw new tt(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var y=new qr;return u._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,z.mG)(h,void 0,void 0,function(){var E;return(0,z.Jh)(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(x){return(0,z.mG)(this,void 0,void 0,function(){return(0,z.Jh)(this,function(H){switch(H.label){case 0:return zc.yt()?[4,zc.delete(x+"main")]:[2,Promise.resolve()];case 1:return H.sent(),[2]}})})}(Ge(u._databaseId,u._persistenceKey))];case 1:return I.sent(),y.resolve(),[3,3];case 2:return E=I.sent(),y.reject(E),[3,3];case 3:return[2]}})})}),y.promise}(e._delegate)},o}(),ba=function(){function o(e,u,h){var y=this;this._delegate=u,this.Zc=h,this.INTERNAL={delete:function(){return y.terminate()}},e instanceof Ap||(this.tu=e)}return Object.defineProperty(o.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),o.prototype.settings=function(e){var u=this._delegate._getSettings();e.merge||u.host===e.host||ea("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},u),e)).merge,this._delegate._setSettings(e)},o.prototype.useEmulator=function(e,u,h){void 0===h&&(h={}),function(y,E,I,x){var L;void 0===x&&(x={});var H=(y=Yn(y,uh))._getSettings();if("firestore.googleapis.com"!==H.host&&H.host!==E&&ea("Host has been set in both settings() and useEmulator(), emulator host will be used"),y._setSettings(Object.assign(Object.assign({},H),{host:E+":"+I,ssl:!1})),x.mockUserToken){var K,ie;if("string"==typeof x.mockUserToken)K=x.mockUserToken,ie=Pi.MOCK_USER;else{K=(0,ft.Sg)(x.mockUserToken,null===(L=y._app)||void 0===L?void 0:L.options.projectId);var pe=x.mockUserToken.sub||x.mockUserToken.user_id;if(!pe)throw new tt(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ie=new Pi(pe)}y._credentials=new by(new am(K,ie))}}(this._delegate,e,u,h)},o.prototype.enableNetwork=function(){return function(e){var u=this;return e.asyncQueue.enqueue(function(){return(0,z.mG)(u,void 0,void 0,function(){var h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return[4,ff(e)];case 1:return h=E.sent(),[4,gf(e)];case 2:return y=E.sent(),[2,(h.setNetworkEnabled(!0),I=y,x=wt(I),x.Or.delete(0),sf(x))]}var I,x})})})}(Ri(Yn(this._delegate,Vr)))},o.prototype.disableNetwork=function(){return function(e){var u=this;return e.asyncQueue.enqueue(function(){return(0,z.mG)(u,void 0,void 0,function(){var h,y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return[4,ff(e)];case 1:return h=E.sent(),[4,gf(e)];case 2:return y=E.sent(),[2,(h.setNetworkEnabled(!1),function(I){return(0,z.mG)(this,void 0,void 0,function(){var x;return(0,z.Jh)(this,function(L){switch(L.label){case 0:return(x=wt(I)).Or.add(0),[4,af(x)];case 1:return L.sent(),x.Br.set("Offline"),[2]}})})}(y))]}})})})}(Ri(Yn(this._delegate,Vr)))},o.prototype.enablePersistence=function(e){var u=!1,h=!1;return e&&sh("synchronizeTabs",u=!!e.synchronizeTabs,"experimentalForceOwningTab",h=!!e.experimentalForceOwningTab),u?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,h)},o.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},o.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},o.prototype.waitForPendingWrites=function(){return function(e){var u=this,h=new qr;return e.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(u,void 0,void 0,function(){var y;return(0,z.Jh)(this,function(E){switch(E.label){case 0:return y=U_,[4,om(e)];case 1:return[2,y.apply(void 0,[E.sent(),h])]}})})}),h.promise}(Ri(Yn(this._delegate,Vr)))},o.prototype.onSnapshotsInSync=function(e){return h=e,function(y,E){var I=this,x=new im(E);return y.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(I,void 0,void 0,function(){var L;return(0,z.Jh)(this,function(H){switch(H.label){case 0:return L=function(K,ie){wt(K).Gr.add(ie),ie.next()},[4,mf(y)];case 1:return[2,L.apply(void 0,[H.sent(),x])]}})})}),function(){x.Wo(),y.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(I,void 0,void 0,function(){var L;return(0,z.Jh)(this,function(H){switch(H.label){case 0:return L=function(K,ie){wt(K).Gr.delete(ie)},[4,mf(y)];case 1:return[2,L.apply(void 0,[H.sent(),x])]}})})})}}(Ri(Yn(this._delegate,Vr)),lh(h)?h:{next:h});var h},Object.defineProperty(o.prototype,"app",{get:function(){if(!this.tu)throw new tt(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),o.prototype.collection=function(e){try{return new ul(this,Ey(this._delegate,e))}catch(u){throw Ar(u,"collection()","Firestore.collection()")}},o.prototype.doc=function(e){try{return new Ea(this,Op(this._delegate,e))}catch(u){throw Ar(u,"doc()","Firestore.doc()")}},o.prototype.collectionGroup=function(e){try{return new pu(this,function(u,h){if(u=Yn(u,uh),oh("collectionGroup","collection id",h),h.indexOf("/")>=0)throw new tt(ke.INVALID_ARGUMENT,"Invalid collection ID '"+h+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ts(u,null,(y=h,new Go(Vn.emptyPath(),y)));var y}(this._delegate,e))}catch(u){throw Ar(u,"collectionGroup()","Firestore.collectionGroup()")}},o.prototype.runTransaction=function(e){var h,u=this;return function(E,I){var x=this,L=new qr;return E.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(x,void 0,void 0,function(){var H;return(0,z.Jh)(this,function(K){switch(K.label){case 0:return[4,(ie=E,ih(ie).then(function(pe){return pe.datastore}))];case 1:return H=K.sent(),new yy(E.asyncQueue,H,I,L).run(),[2]}var ie})})}),L.promise}(Ri(h=this._delegate),function(E){return function(h){return e(new sl(u,h))}(new va(h,E))})},o.prototype.batch=function(){var e=this;return Ri(this._delegate),new oc(new Y_(this._delegate,function(u){return ln(e._delegate,u)}))},o.prototype.loadBundle=function(e){throw new tt(ke.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},o.prototype.namedQuery=function(e){throw new tt(ke.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},o}(),Ca=function(o){function e(u){var h=this;return(h=o.call(this)||this).firestore=u,h}return(0,z.ZT)(e,o),e.prototype.convertBytes=function(u){return new Bp(new Xl(u))},e.prototype.convertReference=function(u){var h=this.convertDocumentKey(u,this.firestore._databaseId);return Ea.eu(h,this.firestore,null)},e}(dh),sl=function(){function o(e,u){this._firestore=e,this._delegate=u,this._userDataWriter=new Ca(e)}return o.prototype.get=function(e){var u=this,h=lc(e);return this._delegate.get(h).then(function(y){return new hu(u._firestore,new ya(u._firestore._delegate,u._userDataWriter,y._key,y._document,y.metadata,h.converter))})},o.prototype.set=function(e,u,h){var y=lc(e);return h?(Cy("Transaction.set",h),this._delegate.set(y,u,h)):this._delegate.set(y,u),this},o.prototype.update=function(e,u,h){for(var y,E=[],I=3;I<arguments.length;I++)E[I-3]=arguments[I];var x=lc(e);return 2===arguments.length?this._delegate.update(x,u):(y=this._delegate).update.apply(y,(0,z.ev)([x,u,h],E)),this},o.prototype.delete=function(e){var u=lc(e);return this._delegate.delete(u),this},o}(),oc=function(){function o(e){this._delegate=e}return o.prototype.set=function(e,u,h){var y=lc(e);return h?(Cy("WriteBatch.set",h),this._delegate.set(y,u,h)):this._delegate.set(y,u),this},o.prototype.update=function(e,u,h){for(var y,E=[],I=3;I<arguments.length;I++)E[I-3]=arguments[I];var x=lc(e);return 2===arguments.length?this._delegate.update(x,u):(y=this._delegate).update.apply(y,(0,z.ev)([x,u,h],E)),this},o.prototype.delete=function(e){var u=lc(e);return this._delegate.delete(u),this},o.prototype.commit=function(){return this._delegate.commit()},o}(),Mo=function(){function o(e,u,h){this._firestore=e,this._userDataWriter=u,this._delegate=h}return o.prototype.fromFirestore=function(e,u){var h=new lu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fu(this._firestore,h),null!=u?u:{})},o.prototype.toFirestore=function(e,u){return u?this._delegate.toFirestore(e,u):this._delegate.toFirestore(e)},o.nu=function(e,u){var h=o.su,y=h.get(e);y||(y=new WeakMap,h.set(e,y));var E=y.get(u);return E||(E=new o(e,new Ca(e),u),y.set(u,E)),E},o}();Mo.su=new WeakMap;var Ea=function(){function o(e,u){this.firestore=e,this._delegate=u,this._userDataWriter=new Ca(e)}return o.iu=function(e,u,h){if(e.length%2!=0)throw new tt(ke.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new o(u,new Tr(u._delegate,h,new Gt(e)))},o.eu=function(e,u,h){return new o(u,new Tr(u._delegate,h,e))},Object.defineProperty(o.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return new ul(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),o.prototype.collection=function(e){try{return new ul(this.firestore,Ey(this._delegate,e))}catch(u){throw Ar(u,"collection()","DocumentReference.collection()")}},o.prototype.isEqual=function(e){return(e=(0,ft.m9)(e))instanceof Tr&&lm(this._delegate,e)},o.prototype.set=function(e,u){u=Cy("DocumentReference.set",u);try{return function(h,y,E){h=Yn(h,Tr);var I=Yn(h.firestore,Vr),x=Up(h.converter,y,E);return ln(I,[_f(sd(I),"setDoc",h._key,x,null!==h.converter,E).toMutation(h._key,dr.none())])}(this._delegate,e,u)}catch(h){throw Ar(h,"setDoc()","DocumentReference.set()")}},o.prototype.update=function(e,u){for(var h=[],y=2;y<arguments.length;y++)h[y-2]=arguments[y];try{return 1===arguments.length?Ef(this._delegate,e):Ef.apply(void 0,(0,z.ev)([this._delegate,e,u],h))}catch(E){throw Ar(E,"updateDoc()","DocumentReference.update()")}},o.prototype.delete=function(){return ln(Yn((e=this._delegate).firestore,Vr),[new Lc(e._key,dr.none())]);var e},o.prototype.onSnapshot=function(){for(var e=this,u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var y=sc(u),E=ac(u,function(I){return new hu(e.firestore,new ya(e.firestore._delegate,e._userDataWriter,I._key,I._document,I.metadata,e._delegate.converter))});return _a(this._delegate,y,E)},o.prototype.get=function(e){var u=this;return("cache"===(null==e?void 0:e.source)?function(h){h=Yn(h,Tr);var y=Yn(h.firestore,Vr),E=Ri(y),I=new rc(y);return function(x,L){var H=this,K=new qr;return x.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(H,void 0,void 0,function(){var ie;return(0,z.Jh)(this,function(pe){switch(pe.label){case 0:return ie=function(Te,Ae,Ue){return(0,z.mG)(this,void 0,void 0,function(){var ut,bt;return(0,z.Jh)(this,function(Lt){switch(Lt.label){case 0:return Lt.trys.push([0,2,,3]),[4,(Vt=Te,Mn=Ae,In=wt(Vt),In.persistence.runTransaction("read document","readonly",function(ur){return In.Mn.mn(ur,Mn)}))];case 1:return(bt=Lt.sent()).isFoundDocument()?Ue.resolve(bt):bt.isNoDocument()?Ue.resolve(null):Ue.reject(new tt(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ut=Lt.sent(),bt=cf(ut,"Failed to get document '"+Ae+" from cache"),Ue.reject(bt),[3,3];case 3:return[2]}var Vt,Mn,In})})},[4,pf(x)];case 1:return[2,ie.apply(void 0,[pe.sent(),L,K])]}})})}),K.promise}(E,h._key).then(function(x){return new ya(y,I,h._key,x,new vn(null!==x&&x.hasLocalMutations,!0),h.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(h){h=Yn(h,Tr);var y=Yn(h.firestore,Vr);return sm(Ri(y),h._key,{source:"server"}).then(function(E){return ic(y,h,E)})}(this._delegate):function(h){h=Yn(h,Tr);var y=Yn(h.firestore,Vr);return sm(Ri(y),h._key).then(function(E){return ic(y,h,E)})}(this._delegate)).then(function(h){return new hu(u.firestore,new ya(u.firestore._delegate,u._userDataWriter,h._key,h._document,h.metadata,u._delegate.converter))})},o.prototype.withConverter=function(e){return new o(this.firestore,this._delegate.withConverter(e?Mo.nu(this.firestore,e):null))},o}();function Ar(o,e,u){return o.message=o.message.replace(e,u),o}function sc(o){for(var e=0,u=o;e<u.length;e++){var h=u[e];if("object"==typeof h&&!lh(h))return h}return{}}function ac(o,e){var u,h,y;return{next:function(E){y.next&&y.next(e(E))},error:null===(u=(y=lh(o[0])?o[0]:lh(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]}).error)||void 0===u?void 0:u.bind(y),complete:null===(h=y.complete)||void 0===h?void 0:h.bind(y)}}var hu=function(){function o(e,u){this._firestore=e,this._delegate=u}return Object.defineProperty(o.prototype,"ref",{get:function(){return new Ea(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),o.prototype.data=function(e){return this._delegate.data(e)},o.prototype.get=function(e,u){return this._delegate.get(e,u)},o.prototype.isEqual=function(e){return K_(this._delegate,e._delegate)},o}(),fu=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return(0,z.ZT)(e,o),e.prototype.data=function(u){return this._delegate.data(u)},e}(hu),pu=function(){function o(e,u){this.firestore=e,this._delegate=u,this._userDataWriter=new Ca(e)}return o.prototype.where=function(e,u,h){try{return new o(this.firestore,to(this._delegate,(I=h,x=u,L=Np("where",y=e),new Z_(L,x,I))))}catch(y){throw Ar(y,/(orderBy|where)\(\)/,"Query.$1()")}var y,I,x,L},o.prototype.orderBy=function(e,u){try{return new o(this.firestore,to(this._delegate,function(h,y){void 0===y&&(y="asc");var E=y,I=Np("orderBy",h);return new _m(I,E)}(e,u)))}catch(h){throw Ar(h,/(orderBy|where)\(\)/,"Query.$1()")}},o.prototype.limit=function(e){try{return new o(this.firestore,to(this._delegate,(xp("limit",u=e),new Lp("limit",u,"F"))))}catch(u){throw Ar(u,"limit()","Query.limit()")}var u},o.prototype.limitToLast=function(e){try{return new o(this.firestore,to(this._delegate,(xp("limitToLast",u=e),new Lp("limitToLast",u,"L"))))}catch(u){throw Ar(u,"limitToLast()","Query.limitToLast()")}var u},o.prototype.startAt=function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];try{return new o(this.firestore,to(this._delegate,function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return new xy("startAt",h,!0)}.apply(void 0,e)))}catch(h){throw Ar(h,"startAt()","Query.startAt()")}},o.prototype.startAfter=function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];try{return new o(this.firestore,to(this._delegate,function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return new xy("startAfter",h,!1)}.apply(void 0,e)))}catch(h){throw Ar(h,"startAfter()","Query.startAfter()")}},o.prototype.endBefore=function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];try{return new o(this.firestore,to(this._delegate,function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return new Ni("endBefore",h,!0)}.apply(void 0,e)))}catch(h){throw Ar(h,"endBefore()","Query.endBefore()")}},o.prototype.endAt=function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];try{return new o(this.firestore,to(this._delegate,function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return new Ni("endAt",h,!1)}.apply(void 0,e)))}catch(h){throw Ar(h,"endAt()","Query.endAt()")}},o.prototype.isEqual=function(e){return id(this._delegate,e._delegate)},o.prototype.get=function(e){var u=this;return("cache"===(null==e?void 0:e.source)?function(h){h=Yn(h,ts);var y=Yn(h.firestore,Vr),E=Ri(y),I=new rc(y);return function(x,L){var H=this,K=new qr;return x.asyncQueue.enqueueAndForget(function(){return(0,z.mG)(H,void 0,void 0,function(){var ie;return(0,z.Jh)(this,function(pe){switch(pe.label){case 0:return ie=function(Te,Ae,Ue){return(0,z.mG)(this,void 0,void 0,function(){var ut,bt,Lt,Vt,Mn;return(0,z.Jh)(this,function(In){switch(In.label){case 0:return In.trys.push([0,2,,3]),[4,nf(Te,Ae,!0)];case 1:return Mn=In.sent(),ut=new su(Ae,Mn.Bn),bt=ut._o(Mn.documents),Lt=ut.applyChanges(bt,!1),Ue.resolve(Lt.snapshot),[3,3];case 2:return Vt=In.sent(),Mn=cf(Vt,"Failed to execute query '"+Ae+" against cache"),Ue.reject(Mn),[3,3];case 3:return[2]}})})},[4,pf(x)];case 1:return[2,ie.apply(void 0,[pe.sent(),L,K])]}})})}),K.promise}(E,h._query).then(function(x){return new cu(y,I,h,x)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(h){h=Yn(h,ts);var y=Yn(h.firestore,Vr),E=Ri(y),I=new rc(y);return $_(E,h._query,{source:"server"}).then(function(x){return new cu(y,I,h,x)})}(this._delegate):function(h){h=Yn(h,ts);var y=Yn(h.firestore,Vr),E=Ri(y),I=new rc(y);return Bs(h._query),$_(E,h._query).then(function(x){return new cu(y,I,h,x)})}(this._delegate)).then(function(h){return new uc(u.firestore,new cu(u.firestore._delegate,u._userDataWriter,u._delegate,h._snapshot))})},o.prototype.onSnapshot=function(){for(var e=this,u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var y=sc(u),E=ac(u,function(I){return new uc(e.firestore,new cu(e.firestore._delegate,e._userDataWriter,e._delegate,I._snapshot))});return _a(this._delegate,y,E)},o.prototype.withConverter=function(e){return new o(this.firestore,this._delegate.withConverter(e?Mo.nu(this.firestore,e):null))},o}(),al=function(){function o(e,u){this._firestore=e,this._delegate=u}return Object.defineProperty(o.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"doc",{get:function(){return new fu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),o}(),uc=function(){function o(e,u){this._firestore=e,this._delegate=u}return Object.defineProperty(o.prototype,"query",{get:function(){return new pu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(u){return new fu(e._firestore,u)})},enumerable:!1,configurable:!0}),o.prototype.docChanges=function(e){var u=this;return this._delegate.docChanges(e).map(function(h){return new al(u._firestore,h)})},o.prototype.forEach=function(e,u){var h=this;this._delegate.forEach(function(y){e.call(u,new fu(h._firestore,y))})},o.prototype.isEqual=function(e){return K_(this._delegate,e._delegate)},o}(),ul=function(o){function e(u,h){var y=this;return(y=o.call(this,u,h)||this).firestore=u,y._delegate=h,y}return(0,z.ZT)(e,o),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var u=this._delegate.parent;return u?new Ea(this.firestore,u):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(u){try{return new Ea(this.firestore,void 0===u?Op(this._delegate):Op(this._delegate,u))}catch(h){throw Ar(h,"doc()","CollectionReference.doc()")}},e.prototype.add=function(u){var y,E,I,x,L,h=this;return(y=this._delegate,E=u,I=Yn(y.firestore,Vr),x=Op(y),L=Up(y.converter,E),ln(I,[_f(sd(y.firestore),"addDoc",x._key,L,null!==y.converter,{}).toMutation(x._key,dr.exists(!1))]).then(function(){return x})).then(function(y){return new Ea(h.firestore,y)})},e.prototype.isEqual=function(u){return lm(this._delegate,u._delegate)},e.prototype.withConverter=function(u){return new e(this.firestore,this._delegate.withConverter(u?Mo.nu(this.firestore,u):null))},e}(pu);function lc(o){return Yn(o,Tr)}var Ry=function(){function o(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];this._delegate=new(ma.bind.apply(ma,(0,z.ev)([void 0],e)))}return o.documentId=function(){return new o(xi.keyField().canonicalString())},o.prototype.isEqual=function(e){return(e=(0,ft.m9)(e))instanceof ma&&this._delegate._internalPath.isEqual(e._internalPath)},o}(),Ny=function(){function o(e){this._delegate=e}return o.serverTimestamp=function(){var e=new Iy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new o(e)},o.delete=function(){var e=new Rp("deleteField");return e._methodName="FieldValue.delete",new o(e)},o.arrayUnion=function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];var h=function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];return new dm("arrayUnion",y)}.apply(void 0,e);return h._methodName="FieldValue.arrayUnion",new o(h)},o.arrayRemove=function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];var h=function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];return new rl("arrayRemove",y)}.apply(void 0,e);return h._methodName="FieldValue.arrayRemove",new o(h)},o.increment=function(e){var u=new ad("increment",e);return u._methodName="FieldValue.increment",new o(u)},o.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},o}(),Gp=$(6034),gu={Firestore:ba,GeoPoint:ec,Timestamp:ni,Blob:Bp,Transaction:sl,WriteBatch:oc,DocumentReference:Ea,DocumentSnapshot:hu,Query:pu,QueryDocumentSnapshot:fu,QuerySnapshot:uc,CollectionReference:ul,FieldPath:Ry,FieldValue:Ny,setLogLevel:function(o){bo.setLogLevel(o)},CACHE_SIZE_UNLIMITED:-1};!function(o){o.INTERNAL.registerComponent(new Gp.wA("firestore",function(h){return e=h.getProvider("app").getImmediate(),u=h.getProvider("auth-internal"),new ba(e,new Vr(e,u),new jp);var e,u},"PUBLIC").setServiceProps(Object.assign({},gu))),o.registerVersion("@firebase/firestore","2.4.0")}(ht.Z);var Hp=$(1562);function $p(o,e){return function(o,e=v.z){return new G.y(u=>{let h;return null!=e?e.schedule(()=>{h=o.onSnapshot({includeMetadataChanges:!0},u)}):h=o.onSnapshot({includeMetadataChanges:!0},u),()=>{null!=h&&h()}})}(o,e)}function ud(o,e){return $p(o,e).pipe((0,re.O)(void 0),ve(),(0,le.U)(([u,h])=>h.exists?(null==u?void 0:u.exists)?{payload:h,type:"modified"}:{payload:h,type:"added"}:{payload:h,type:"removed"}))}function wf(o,e){return $p(o,e).pipe((0,le.U)(u=>({payload:u,type:"query"})))}function fh(o,e){return wf(o,e).pipe((0,re.O)(void 0),ve(),(0,le.U)(([u,h])=>{const y=h.payload.docChanges(),E=y.map(I=>({type:I.type,payload:I}));return u&&JSON.stringify(u.payload.metadata)!==JSON.stringify(h.payload.metadata)&&h.payload.docs.forEach((I,x)=>{const L=y.find(K=>K.doc.ref.isEqual(I.ref)),H=null==u?void 0:u.payload.docs.find(K=>K.ref.isEqual(I.ref));L&&JSON.stringify(L.doc.metadata)===JSON.stringify(I.metadata)||!L&&H&&JSON.stringify(H.metadata)===JSON.stringify(I.metadata)||E.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:I}})}),E}))}function ph(o,e,u){return fh(o,u).pipe((0,te.R)((h,y)=>Ly(h,y.map(E=>E.payload),e),[]),(0,_e.x)(),(0,le.U)(h=>h.map(y=>({type:y.type,payload:y}))))}function Ly(o,e,u){return e.forEach(h=>{u.indexOf(h.type)>-1&&(o=zp(o,h))}),o}function Tf(o,e,u,...h){const y=o.slice();return y.splice(e,u,...h),y}function zp(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return Tf(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const u=o.slice();return u.splice(e.oldIndex,1),u.splice(e.newIndex,0,e),u}return Tf(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Tf(o,e.oldIndex,1)}return o}function Df(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class gh{constructor(e,u,h){this.ref=e,this.query=u,this.afs=h}stateChanges(e){let u=fh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(u=u.pipe((0,le.U)(h=>h.filter(y=>e.indexOf(y.type)>-1)))),u.pipe((0,re.O)(void 0),ve(),(0,Ne.h)(([h,y])=>y.length>0||!h),(0,le.U)(([h,y])=>y),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe((0,te.R)((u,h)=>[...u,...h],[]))}snapshotChanges(e){const u=Df(e);return ph(this.query,u,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return wf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(u=>u.payload.docs.map(h=>e.idField?Object.assign(Object.assign({},h.data()),{[e.idField]:h.id}):h.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,ae.D)(this.query.get(e)).pipe((0,ot.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new Em(this.ref.doc(e),this.afs)}}class Em{constructor(e,u){this.ref=e,this.afs=u}set(e,u){return this.ref.set(e,u)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,u){const h=this.ref.collection(e),{ref:y,query:E}=If(h,u);return new gh(y,E,this.afs)}snapshotChanges(){return ud(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,le.U)(({payload:u})=>e.idField?Object.assign(Object.assign({},u.data()),{[e.idField]:u.id}):u.data()))}get(e){return(0,ae.D)(this.ref.get(e)).pipe((0,ot.QV)(this.afs.schedulers.insideAngular))}}class Sf{constructor(e,u){this.query=e,this.afs=u}stateChanges(e){return e&&0!==e.length?fh(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(u=>u.filter(h=>e.indexOf(h.type)>-1)),(0,Ne.h)(u=>u.length>0),this.afs.keepUnstableUntilFirst):fh(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe((0,te.R)((u,h)=>[...u,...h],[]))}snapshotChanges(e){const u=Df(e);return ph(this.query,u,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return wf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(h=>h.payload.docs.map(y=>e.idField?Object.assign({[e.idField]:y.id},y.data()):y.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,ae.D)(this.query.get(e)).pipe((0,ot.QV)(this.afs.schedulers.insideAngular))}}const qp=new B.OlP("angularfire2.enableFirestorePersistence"),Wp=new B.OlP("angularfire2.firestore.persistenceSettings"),Kp=new B.OlP("angularfire2.firestore.settings"),Vy=new B.OlP("angularfire2.firestore.use-emulator");function If(o,e=(u=>u)){return{query:e(o),ref:o}}let Af=(()=>{class o{constructor(u,h,y,E,I,x,L,H,K){this.schedulers=new ze.\u0275AngularFireSchedulers(x),this.keepUnstableUntilFirst=(0,ze.\u0275keepUnstableUntilFirstFactory)(this.schedulers);const ie=(0,ze.\u0275firebaseAppFactory)(u,x,h);!Ze.Z.auth&&K&&(0,ze.\u0275logAuthEmulatorError)();const pe=H;[this.firestore,this.persistenceEnabled$]=(0,ze.\u0275fetchInstance)(`${ie.name}.firestore`,"AngularFirestore",ie,()=>{const Te=x.runOutsideAngular(()=>ie.firestore());if(E&&Te.settings(E),pe&&Te.useEmulator(...pe),y&&!(0,at.PM)(I)){const Ae=()=>{try{return(0,ae.D)(Te.enablePersistence(L||void 0).then(()=>!0,()=>!1))}catch(Ue){return"undefined"!=typeof console&&console.warn(Ue),(0,Ee.of)(!1)}};return[Te,x.runOutsideAngular(Ae)]}return[Te,(0,Ee.of)(!1)]},[E,pe,y])}collection(u,h){let y;y="string"==typeof u?this.firestore.collection(u):u;const{ref:E,query:I}=If(y,h),x=this.schedulers.ngZone.run(()=>E);return new gh(x,I,this)}collectionGroup(u,h){const y=h||(I=>I),E=this.firestore.collectionGroup(u);return new Sf(y(E),this)}doc(u){let h;h="string"==typeof u?this.firestore.doc(u):u;const y=this.schedulers.ngZone.run(()=>h);return new Em(y,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(u){return new(u||o)(B.LFG(ze.FIREBASE_OPTIONS),B.LFG(ze.FIREBASE_APP_NAME,8),B.LFG(qp,8),B.LFG(Kp,8),B.LFG(B.Lbi),B.LFG(B.R0b),B.LFG(Wp,8),B.LFG(Vy,8),B.LFG(Hp.Qv,8))},o.\u0275prov=B.Yz7({factory:function(){return new o(B.LFG(ze.FIREBASE_OPTIONS),B.LFG(ze.FIREBASE_APP_NAME,8),B.LFG(qp,8),B.LFG(Kp,8),B.LFG(B.Lbi),B.LFG(B.R0b),B.LFG(Wp,8),B.LFG(Vy,8),B.LFG(Hp.Qv,8))},token:o,providedIn:"any"}),o})(),wm=(()=>{class o{static enablePersistence(u){return{ngModule:o,providers:[{provide:qp,useValue:!0},{provide:Wp,useValue:u}]}}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275mod=B.oAB({type:o}),o.\u0275inj=B.cJS({providers:[Af]}),o})()},57:(pt,Oe,$)=>{"use strict";$.r(Oe),$.d(Oe,{AngularFireModule:()=>xn,FIREBASE_APP_NAME:()=>at,FIREBASE_OPTIONS:()=>ze,FirebaseApp:()=>Ze,VERSION:()=>ht,\u02750:()=>Kt,\u0275AngularFireSchedulers:()=>le,\u0275BlockUntilFirstOperator:()=>re,\u0275ZoneScheduler:()=>ue,\u0275applyMixins:()=>ot,\u0275fetchInstance:()=>Nn,\u0275firebaseAppFactory:()=>z,\u0275keepUnstableUntilFirstFactory:()=>te,\u0275lazySDKProxy:()=>Ne,\u0275logAuthEmulatorError:()=>ft});var B=$(7771),v=$(3637),G=$(3342),ae=$(3101),Ee=$(6136),ne=$(7716),ve=$(2329);function se(){}pt=$.hmd(pt);class ue{constructor(Pe,be=B.N){this.zone=Pe,this.delegate=be}now(){return this.delegate.now()}schedule(Pe,be,De){const qe=this.zone;return this.delegate.schedule(function(gt){qe.runGuarded(()=>{Pe.apply(this,[gt])})},be,De)}}class re{constructor(Pe){this.zone=Pe,this.task=null}call(Pe,be){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",se,{},se,se)),be.pipe((0,G.b)({next:De,complete:De,error:De})).subscribe(Pe).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class le{constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new ue(Zone.current)),this.insideAngular=Pe.run(()=>new ue(Zone.current,v.z))}}function te(ye){return function(be){return(be=be.lift(new re(ye.ngZone))).pipe((0,ae.R)(ye.outsideAngular),(0,Ee.QV)(ye.insideAngular))}}const _e=["ngOnDestroy"],Ne=(ye,Pe,be,De={})=>new Proxy(ye,{get:(qe,Re)=>be.runOutsideAngular(()=>{var gt;if(ye[Re])return(null===(gt=null==De?void 0:De.spy)||void 0===gt?void 0:gt.get)&&De.spy.get(Re,ye[Re]),ye[Re];if(_e.indexOf(Re)>-1)return()=>{};const rt=Pe.toPromise().then(jt=>{const yt=jt&&jt[Re];return"function"==typeof yt?yt.bind(jt):yt&&yt.then?yt.then(_t=>be.run(()=>_t)):be.run(()=>yt)});return new Proxy(()=>{},{get:(jt,yt)=>rt[yt],apply:(jt,yt,_t)=>rt.then(Ke=>{var it;const Tt=Ke&&Ke(..._t);return(null===(it=null==De?void 0:De.spy)||void 0===it?void 0:it.apply)&&De.spy.apply(Re,_t,Tt),Tt})})})}),ot=(ye,Pe)=>{Pe.forEach(be=>{Object.getOwnPropertyNames(be.prototype||be).forEach(De=>{Object.defineProperty(ye.prototype,De,Object.getOwnPropertyDescriptor(be.prototype||be,De))})})},ze=new ne.OlP("angularfire2.app.options"),at=new ne.OlP("angularfire2.app.nameOrConfig");class Ze{}const ht=new ne.GfV("6.1.5");function z(ye,Pe,be){const qe="object"==typeof be&&be||{};qe.name=qe.name||"string"==typeof be&&be||"[DEFAULT]";const gt=ve.Z.apps.filter(rt=>rt&&rt.name===qe.name)[0]||Pe.runOutsideAngular(()=>ve.Z.initializeApp(ye,qe));try{JSON.stringify(ye)!==JSON.stringify(gt.options)&&et("error",`${gt.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(rt){}return gt}const ft=()=>{et("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},et=(ye,...Pe)=>{(0,ne.X6Q)()&&"undefined"!=typeof console&&console[ye](...Pe)},Kt=et;function Nn(ye,Pe,be,De,qe){const[Re,...gt]=globalThis.\u0275AngularfireInstanceCache.get(ye)||[];if(Re){try{qe.some((rt,jt)=>{const yt=gt[jt];return rt&&"object"==typeof rt?JSON.stringify(rt)!==JSON.stringify(yt):rt!==yt})&&et("error",`${Pe} was already initialized on the ${be.name} Firebase App instance with different settings.${pt.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(rt){}return Re}{const rt=De();return globalThis.\u0275AngularfireInstanceCache.set(ye,[rt,...qe]),rt}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const nn={provide:Ze,useFactory:z,deps:[ze,ne.R0b,[new ne.FiY,at]]};let xn=(()=>{class ye{constructor(be){ve.Z.registerVersion("angularfire",ht.full,be.toString()),ve.Z.registerVersion("angular",ne.q4F.full)}static initializeApp(be,De){return{ngModule:ye,providers:[{provide:ze,useValue:be},{provide:at,useValue:De}]}}}return ye.\u0275fac=function(be){return new(be||ye)(ne.LFG(ne.Lbi))},ye.\u0275mod=ne.oAB({type:ye}),ye.\u0275inj=ne.cJS({providers:[nn]}),ye})()},9759:(pt,Oe,$)=>{"use strict";$.d(Oe,{Z:()=>_t});var Ee,et,B=$(4762),v=$(4685),G=$(6034),ae=$(300),ne=((Ee={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ee["bad-app-name"]="Illegal App name: '{$appName}",Ee["duplicate-app"]="Firebase App named '{$appName}' already exists",Ee["app-deleted"]="Firebase App named '{$appName}' already deleted",Ee["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ee["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ee),ve=new v.LL("app","Firebase",ne),se="@firebase/app",Kt="[DEFAULT]",Nn=((et={})[se]="fire-core",et["@firebase/analytics"]="fire-analytics",et["@firebase/app-check"]="fire-app-check",et["@firebase/auth"]="fire-auth",et["@firebase/database"]="fire-rtdb",et["@firebase/functions"]="fire-fn",et["@firebase/installations"]="fire-iid",et["@firebase/messaging"]="fire-fcm",et["@firebase/performance"]="fire-perf",et["@firebase/remote-config"]="fire-rc",et["@firebase/storage"]="fire-gcs",et["@firebase/firestore"]="fire-fst",et["fire-js"]="fire-js",et["firebase-wrapper"]="fire-js-all",et),nn=new ae.Yd("@firebase/app"),xn=function(){function Ke(it,Tt,Qt){var dn=this;this.firebase_=Qt,this.isDeleted_=!1,this.name_=Tt.name,this.automaticDataCollectionEnabled_=Tt.automaticDataCollectionEnabled||!1,this.options_=(0,v.p$)(it),this.container=new G.H0(Tt.name),this._addComponent(new G.wA("app",function(){return dn},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function($e){return dn._addComponent($e)})}return Object.defineProperty(Ke.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(it){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=it},enumerable:!1,configurable:!0}),Object.defineProperty(Ke.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ke.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ke.prototype.delete=function(){var it=this;return new Promise(function(Tt){it.checkDestroyed_(),Tt()}).then(function(){return it.firebase_.INTERNAL.removeApp(it.name_),Promise.all(it.container.getProviders().map(function(Tt){return Tt.delete()}))}).then(function(){it.isDeleted_=!0})},Ke.prototype._getService=function(it,Tt){var Qt;void 0===Tt&&(Tt=Kt),this.checkDestroyed_();var dn=this.container.getProvider(it);return!dn.isInitialized()&&"EXPLICIT"===(null===(Qt=dn.getComponent())||void 0===Qt?void 0:Qt.instantiationMode)&&dn.initialize(),dn.getImmediate({identifier:Tt})},Ke.prototype._removeServiceInstance=function(it,Tt){void 0===Tt&&(Tt=Kt),this.container.getProvider(it).clearInstance(Tt)},Ke.prototype._addComponent=function(it){try{this.container.addComponent(it)}catch(Tt){nn.debug("Component "+it.name+" failed to register with FirebaseApp "+this.name,Tt)}},Ke.prototype._addOrOverwriteComponent=function(it){this.container.addOrOverwriteComponent(it)},Ke.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ke.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ve.create("app-deleted",{appName:this.name_})},Ke}();xn.prototype.name&&xn.prototype.options||xn.prototype.delete||console.log("dc");var De=function be(){var Ke=function(Ke){var it={},Tt=new Map,Qt={__esModule:!0,initializeApp:function(St,Et){void 0===Et&&(Et={}),("object"!=typeof Et||null===Et)&&(Et={name:Et});var gn=Et;void 0===gn.name&&(gn.name=Kt);var Je=gn.name;if("string"!=typeof Je||!Je)throw ve.create("bad-app-name",{appName:String(Je)});if((0,v.r3)(it,Je))throw ve.create("duplicate-app",{appName:Je});var Fn=new Ke(St,gn,Qt);return it[Je]=Fn,Fn},app:$e,registerVersion:function(St,Et,wn){var gn,Je=null!==(gn=Nn[St])&&void 0!==gn?gn:St;wn&&(Je+="-"+wn);var Fn=Je.match(/\s|\//),Cr=Et.match(/\s|\//);if(Fn||Cr){var cr=['Unable to register library "'+Je+'" with version "'+Et+'":'];return Fn&&cr.push('library name "'+Je+'" contains illegal characters (whitespace or "/")'),Fn&&Cr&&cr.push("and"),Cr&&cr.push('version name "'+Et+'" contains illegal characters (whitespace or "/")'),void nn.warn(cr.join(" "))}Pt(new G.wA(Je+"-version",function(){return{library:Je,version:Et}},"VERSION"))},setLogLevel:ae.Ub,onLog:function(St,Et){if(null!==St&&"function"!=typeof St)throw ve.create("invalid-log-argument");(0,ae.Am)(St,Et)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Pt,removeApp:function(St){delete it[St]},components:Tt,useAsService:function(St,Et){return"serverAuth"===Et?null:Et}}};function $e(St){if(!(0,v.r3)(it,St=St||Kt))throw ve.create("no-app",{appName:St});return it[St]}function Pt(St){var Et=St.name;if(Tt.has(Et))return nn.debug("There were multiple attempts to register component "+Et+"."),"PUBLIC"===St.type?Qt[Et]:null;if(Tt.set(Et,St),"PUBLIC"===St.type){var wn=function(Cr){if(void 0===Cr&&(Cr=$e()),"function"!=typeof Cr[Et])throw ve.create("invalid-app-argument",{appName:Et});return Cr[Et]()};void 0!==St.serviceProps&&(0,v.ZB)(wn,St.serviceProps),Qt[Et]=wn,Ke.prototype[Et]=function(){for(var Cr=[],cr=0;cr<arguments.length;cr++)Cr[cr]=arguments[cr];return this._getService.bind(this,Et).apply(this,St.multipleInstances?Cr:[])}}for(var gn=0,Je=Object.keys(it);gn<Je.length;gn++)it[Je[gn]]._addComponent(St);return"PUBLIC"===St.type?Qt[Et]:null}return Qt.default=Qt,Object.defineProperty(Qt,"apps",{get:function(){return Object.keys(it).map(function(St){return it[St]})}}),$e.App=Ke,Qt}(xn);return Ke.INTERNAL=(0,B.pi)((0,B.pi)({},Ke.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function(Tt){(0,v.ZB)(Ke,Tt)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),Ke}(),qe=function(){function Ke(it){this.container=it}return Ke.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Tt){if(function(Ke){var it=Ke.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Tt)){var Qt=Tt.getImmediate();return Qt.library+"/"+Qt.version}return null}).filter(function(Tt){return Tt}).join(" ")},Ke}();if((0,v.jU)()&&void 0!==self.firebase){nn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&nn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jt=De.initializeApp;De.initializeApp=function(){for(var Ke=[],it=0;it<arguments.length;it++)Ke[it]=arguments[it];return(0,v.UG)()&&nn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),jt.apply(void 0,Ke)};var Ke,yt=De;(Ke=yt).INTERNAL.registerComponent(new G.wA("platform-logger",function(Tt){return new qe(Tt)},"PRIVATE")),Ke.registerVersion(se,"0.6.30",undefined),Ke.registerVersion("fire-js","");const _t=yt},6034:(pt,Oe,$)=>{"use strict";$.d(Oe,{wA:()=>G,H0:()=>se,zt:()=>Ee});var B=$(4762),v=$(4685),G=function(){function ue(re,le,te){this.name=re,this.instanceFactory=le,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ue.prototype.setInstantiationMode=function(re){return this.instantiationMode=re,this},ue.prototype.setMultipleInstances=function(re){return this.multipleInstances=re,this},ue.prototype.setServiceProps=function(re){return this.serviceProps=re,this},ue.prototype.setInstanceCreatedCallback=function(re){return this.onInstanceCreated=re,this},ue}(),ae="[DEFAULT]",Ee=function(){function ue(re,le){this.name=re,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ue.prototype.get=function(re){var le=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(le)){var te=new v.BH;if(this.instancesDeferred.set(le,te),this.isInitialized(le)||this.shouldAutoInitialize())try{var _e=this.getOrInitializeService({instanceIdentifier:le});_e&&te.resolve(_e)}catch(Ne){}}return this.instancesDeferred.get(le).promise},ue.prototype.getImmediate=function(re){var le,te=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),_e=null!==(le=null==re?void 0:re.optional)&&void 0!==le&&le;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(_e)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ne){if(_e)return null;throw Ne}},ue.prototype.getComponent=function(){return this.component},ue.prototype.setComponent=function(re){var le,te;if(re.name!==this.name)throw Error("Mismatching Component "+re.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=re,this.shouldAutoInitialize()){if(function(ue){return"EAGER"===ue.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(z){}try{for(var _e=(0,B.XA)(this.instancesDeferred.entries()),Ne=_e.next();!Ne.done;Ne=_e.next()){var ot=(0,B.CR)(Ne.value,2),at=ot[1],Ze=this.normalizeInstanceIdentifier(ot[0]);try{var ht=this.getOrInitializeService({instanceIdentifier:Ze});at.resolve(ht)}catch(z){}}}catch(z){le={error:z}}finally{try{Ne&&!Ne.done&&(te=_e.return)&&te.call(_e)}finally{if(le)throw le.error}}}},ue.prototype.clearInstance=function(re){void 0===re&&(re=ae),this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)},ue.prototype.delete=function(){return(0,B.mG)(this,void 0,void 0,function(){var re;return(0,B.Jh)(this,function(le){switch(le.label){case 0:return re=Array.from(this.instances.values()),[4,Promise.all((0,B.ev)((0,B.ev)([],(0,B.CR)(re.filter(function(te){return"INTERNAL"in te}).map(function(te){return te.INTERNAL.delete()}))),(0,B.CR)(re.filter(function(te){return"_delete"in te}).map(function(te){return te._delete()}))))];case 1:return le.sent(),[2]}})})},ue.prototype.isComponentSet=function(){return null!=this.component},ue.prototype.isInitialized=function(re){return void 0===re&&(re=ae),this.instances.has(re)},ue.prototype.getOptions=function(re){return void 0===re&&(re=ae),this.instancesOptions.get(re)||{}},ue.prototype.initialize=function(re){var le,te;void 0===re&&(re={});var _e=re.options,Ne=void 0===_e?{}:_e,ot=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ot))throw Error(this.name+"("+ot+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ze=this.getOrInitializeService({instanceIdentifier:ot,options:Ne});try{for(var at=(0,B.XA)(this.instancesDeferred.entries()),Ze=at.next();!Ze.done;Ze=at.next()){var ht=(0,B.CR)(Ze.value,2),ft=ht[1];ot===this.normalizeInstanceIdentifier(ht[0])&&ft.resolve(ze)}}catch(Kt){le={error:Kt}}finally{try{Ze&&!Ze.done&&(te=at.return)&&te.call(at)}finally{if(le)throw le.error}}return ze},ue.prototype.onInit=function(re,le){var te,_e=this.normalizeInstanceIdentifier(le),Ne=null!==(te=this.onInitCallbacks.get(_e))&&void 0!==te?te:new Set;Ne.add(re),this.onInitCallbacks.set(_e,Ne);var ot=this.instances.get(_e);return ot&&re(ot,_e),function(){Ne.delete(re)}},ue.prototype.invokeOnInitCallbacks=function(re,le){var te,_e,Ne=this.onInitCallbacks.get(le);if(Ne)try{for(var ot=(0,B.XA)(Ne),ze=ot.next();!ze.done;ze=ot.next()){var at=ze.value;try{at(re,le)}catch(Ze){}}}catch(Ze){te={error:Ze}}finally{try{ze&&!ze.done&&(_e=ot.return)&&_e.call(ot)}finally{if(te)throw te.error}}},ue.prototype.getOrInitializeService=function(re){var le=re.instanceIdentifier,te=re.options,_e=void 0===te?{}:te,Ne=this.instances.get(le);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:ne(le),options:_e}),this.instances.set(le,Ne),this.instancesOptions.set(le,_e),this.invokeOnInitCallbacks(Ne,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Ne)}catch(ot){}return Ne||null},ue.prototype.normalizeInstanceIdentifier=function(re){return void 0===re&&(re=ae),this.component?this.component.multipleInstances?re:ae:re},ue.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ue}();function ne(ue){return ue===ae?void 0:ue}var se=function(){function ue(re){this.name=re,this.providers=new Map}return ue.prototype.addComponent=function(re){var le=this.getProvider(re.name);if(le.isComponentSet())throw new Error("Component "+re.name+" has already been registered with "+this.name);le.setComponent(re)},ue.prototype.addOrOverwriteComponent=function(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)},ue.prototype.getProvider=function(re){if(this.providers.has(re))return this.providers.get(re);var le=new Ee(re,this);return this.providers.set(re,le),le},ue.prototype.getProviders=function(){return Array.from(this.providers.values())},ue}()},9192:(pt,Oe,$)=>{"use strict";var B=$(9759),v=$(6034),G=$(4685),ae=$(4762),Ee=$(300);pt=$.hmd(pt);var se="";function ue(g){se=g}var g,re=function(){function g(p){this.domStorage_=p,this.prefix_="firebase:"}return g.prototype.set=function(p,_){null==_?this.domStorage_.removeItem(this.prefixedName_(p)):this.domStorage_.setItem(this.prefixedName_(p),(0,G.Pz)(_))},g.prototype.get=function(p){var _=this.domStorage_.getItem(this.prefixedName_(p));return null==_?null:(0,G.cI)(_)},g.prototype.remove=function(p){this.domStorage_.removeItem(this.prefixedName_(p))},g.prototype.prefixedName_=function(p){return this.prefix_+p},g.prototype.toString=function(){return this.domStorage_.toString()},g}(),le=function(){function g(){this.cache_={},this.isInMemoryStorage=!0}return g.prototype.set=function(p,_){null==_?delete this.cache_[p]:this.cache_[p]=_},g.prototype.get=function(p){return(0,G.r3)(this.cache_,p)?this.cache_[p]:null},g.prototype.remove=function(p){delete this.cache_[p]},g}(),te=function(g){try{if("undefined"!=typeof window&&void 0!==window[g]){var p=window[g];return p.setItem("firebase:sentinel","cache"),p.removeItem("firebase:sentinel"),new re(p)}}catch(_){}return new le},_e=te("localStorage"),Ne=te("sessionStorage"),ot=new Ee.Yd("@firebase/database"),ze=(g=1,function(){return g++}),at=function(g){var p=(0,G.dS)(g),_=new G.gQ;_.update(p);var w=_.digest();return G.US.encodeByteArray(w)},Ze=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];for(var _="",w=0;w<g.length;w++){var M=g[w];Array.isArray(M)||M&&"object"==typeof M&&"number"==typeof M.length?_+=Ze.apply(null,M):_+="object"==typeof M?(0,G.Pz)(M):M,_+=" "}return _},ht=null,z=!0,ft=function(g,p){(0,G.hu)(!p||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(ot.logLevel=Ee.in.VERBOSE,ht=ot.log.bind(ot),p&&Ne.set("logging_enabled",!0)):"function"==typeof g?ht=g:(ht=null,Ne.remove("logging_enabled"))},et=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];if(!0===z&&(z=!1,null===ht&&!0===Ne.get("logging_enabled")&&ft(!0)),ht){var _=Ze.apply(null,g);ht(_)}},Kt=function(g){return function(){for(var p=[],_=0;_<arguments.length;_++)p[_]=arguments[_];et.apply(void 0,(0,ae.ev)([g],(0,ae.CR)(p)))}},Nn=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];var _="FIREBASE INTERNAL ERROR: "+Ze.apply(void 0,(0,ae.ev)([],(0,ae.CR)(g)));ot.error(_)},nn=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];var _="FIREBASE FATAL ERROR: "+Ze.apply(void 0,(0,ae.ev)([],(0,ae.CR)(g)));throw ot.error(_),new Error(_)},xn=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];var _="FIREBASE WARNING: "+Ze.apply(void 0,(0,ae.ev)([],(0,ae.CR)(g)));ot.warn(_)},Pe=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},De="[MIN_NAME]",qe="[MAX_NAME]",Re=function(g,p){if(g===p)return 0;if(g===De||p===qe)return-1;if(p===De||g===qe)return 1;var _=ct(g),w=ct(p);return null!==_?null!==w?_-w==0?g.length-p.length:_-w:-1:null!==w?1:g<p?-1:1},gt=function(g,p){return g===p?0:g<p?-1:1},rt=function(g,p){if(p&&g in p)return p[g];throw new Error("Missing required key ("+g+") in object: "+(0,G.Pz)(p))},jt=function(g){if("object"!=typeof g||null===g)return(0,G.Pz)(g);var p=[];for(var _ in g)p.push(_);p.sort();for(var w="{",M=0;M<p.length;M++)0!==M&&(w+=","),w+=(0,G.Pz)(p[M]),w+=":",w+=jt(g[p[M]]);return w+"}"},yt=function(g,p){var _=g.length;if(_<=p)return[g];for(var w=[],M=0;M<_;M+=p)w.push(g.substring(M,M+p>_?_:M+p));return w};function _t(g,p){for(var _ in g)g.hasOwnProperty(_)&&p(_,g[_])}var Ke=function(g){(0,G.hu)(!Pe(g),"Invalid JSON number");var M,R,V,Y,X,w=1023;0===g?(R=0,V=0,M=1/g==-1/0?1:0):(M=g<0,(g=Math.abs(g))>=Math.pow(2,1-w)?(R=(Y=Math.min(Math.floor(Math.log(g)/Math.LN2),w))+w,V=Math.round(g*Math.pow(2,52-Y)-Math.pow(2,52))):(R=0,V=Math.round(g/Math.pow(2,-1074))));var oe=[];for(X=52;X;X-=1)oe.push(V%2?1:0),V=Math.floor(V/2);for(X=11;X;X-=1)oe.push(R%2?1:0),R=Math.floor(R/2);oe.push(M?1:0),oe.reverse();var ce=oe.join(""),xe="";for(X=0;X<64;X+=8){var Ge=parseInt(ce.substr(X,8),2).toString(16);1===Ge.length&&(Ge="0"+Ge),xe+=Ge}return xe.toLowerCase()},dn=new RegExp("^-?(0*)\\d{1,10}$"),$e=-2147483648,Qe=2147483647,ct=function(g){if(dn.test(g)){var p=Number(g);if(p>=$e&&p<=Qe)return p}return null},Pt=function(g){try{g()}catch(p){setTimeout(function(){throw xn("Exception was thrown by user callback.",p.stack||""),p},Math.floor(0))}},Xt=function(g,p){var _=setTimeout(g,p);return"object"==typeof _&&_.unref&&_.unref(),_},On=function(){function g(p,_){var w=this;this.appName_=p,this.appCheckProvider=_,this.appCheck=null==_?void 0:_.getImmediate({optional:!0}),this.appCheck||null==_||_.get().then(function(M){return w.appCheck=M})}return g.prototype.getToken=function(p){var _=this;return this.appCheck?this.appCheck.getToken(p):new Promise(function(w,M){setTimeout(function(){_.appCheck?_.getToken(p).then(w,M):w(null)},0)})},g.prototype.addTokenChangeListener=function(p){var _;null===(_=this.appCheckProvider)||void 0===_||_.get().then(function(w){return w.addTokenListener(p)})},g.prototype.notifyForInvalidToken=function(){xn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},g}(),St=function(){function g(p,_,w){var M=this;this.appName_=p,this.firebaseOptions_=_,this.authProvider_=w,this.auth_=null,this.auth_=w.getImmediate({optional:!0}),this.auth_||w.onInit(function(R){return M.auth_=R})}return g.prototype.getToken=function(p){var _=this;return this.auth_?this.auth_.getToken(p).catch(function(w){return w&&"auth/token-not-initialized"===w.code?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(w)}):new Promise(function(w,M){setTimeout(function(){_.auth_?_.getToken(p).then(w,M):w(null)},0)})},g.prototype.addTokenChangeListener=function(p){this.auth_?this.auth_.addAuthTokenListener(p):this.authProvider_.get().then(function(_){return _.addAuthTokenListener(p)})},g.prototype.removeTokenChangeListener=function(p){this.authProvider_.get().then(function(_){return _.removeAuthTokenListener(p)})},g.prototype.notifyForInvalidToken=function(){var p='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';xn(p+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},g}(),Et=function(){function g(p){this.accessToken=p}return g.prototype.getToken=function(p){return Promise.resolve({accessToken:this.accessToken})},g.prototype.addTokenChangeListener=function(p){p(this.accessToken)},g.prototype.removeTokenChangeListener=function(p){},g.prototype.notifyForInvalidToken=function(){},g.OWNER="owner",g}(),cr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dr="websocket",_d="long_polling",Wn=function(){function g(p,_,w,M,R,V,Y){void 0===R&&(R=!1),void 0===V&&(V=""),void 0===Y&&(Y=!1),this.secure=_,this.namespace=w,this.webSocketOnly=M,this.nodeAdmin=R,this.persistenceKey=V,this.includeNamespaceInQueryParams=Y,this._host=p.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_e.get("host:"+p)||this._host}return g.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},g.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(g.prototype,"host",{get:function(){return this._host},set:function(p){p!==this.internalHost&&(this.internalHost=p,this.isCacheableHost()&&_e.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),g.prototype.toString=function(){var p=this.toURLString();return this.persistenceKey&&(p+="<"+this.persistenceKey+">"),p},g.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},g}();function Zt(g,p,_){var w;if((0,G.hu)("string"==typeof p,"typeof type must == string"),(0,G.hu)("object"==typeof _,"typeof params must == object"),p===Dr)w=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else{if(p!==_d)throw new Error("Unknown connection type: "+p);w=(g.secure?"https://":"http://")+g.internalHost+"/.lp?"}(function(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams})(g)&&(_.ns=g.namespace);var M=[];return _t(_,function(R,V){M.push(R+"="+V)}),w+M.join("&")}var yu=function(){function g(){this.counters_={}}return g.prototype.incrementCounter=function(p,_){void 0===_&&(_=1),(0,G.r3)(this.counters_,p)||(this.counters_[p]=0),this.counters_[p]+=_},g.prototype.get=function(){return(0,G.p$)(this.counters_)},g}(),Hs={},Fi={};function Bn(g){var p=g.toString();return Hs[p]||(Hs[p]=new yu),Hs[p]}var gl=function(){function g(p){this.onMessage_=p,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g.prototype.closeAfter=function(p,_){this.closeAfterResponse=p,this.onClose=_,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},g.prototype.handleResponse=function(p,_){var w=this;this.pendingResponses[p]=_;for(var M=function(){var Y=R.pendingResponses[R.currentResponseNum];delete R.pendingResponses[R.currentResponseNum];for(var X=function(ce){Y[ce]&&Pt(function(){w.onMessage_(Y[ce])})},oe=0;oe<Y.length;++oe)X(oe);if(R.currentResponseNum===R.closeAfterResponse)return R.onClose&&(R.onClose(),R.onClose=null),"break";R.currentResponseNum++},R=this;this.pendingResponses[this.currentResponseNum]&&"break"!==M(););},g}(),Ma=function(){function g(p,_,w,M,R,V,Y){var X=this;this.connId=p,this.repoInfo=_,this.applicationId=w,this.appCheckToken=M,this.authToken=R,this.transportSessionId=V,this.lastSessionId=Y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kt(p),this.stats_=Bn(_),this.urlFn=function(oe){return X.appCheckToken&&(oe.ac=X.appCheckToken),Zt(_,_d,oe)}}return g.prototype.open=function(p,_){var w=this;this.curSegmentNum=0,this.onDisconnect_=_,this.myPacketOrderer=new gl(p),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){w.log_("Timed out trying to connect."),w.onClosed_(),w.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if((0,G.Yr)()||"complete"===document.readyState)g();else{var p=!1,_=function(){document.body?p||(p=!0,g()):setTimeout(_,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",_,!1),window.addEventListener("load",_,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&_()}),window.attachEvent("onload",_))}}(function(){if(!w.isClosed_){w.scriptTagHolder=new ml(function(){for(var V=[],Y=0;Y<arguments.length;Y++)V[Y]=arguments[Y];var X=(0,ae.CR)(V,5),oe=X[0],ce=X[1],xe=X[2];if(w.incrementIncomingBytes_(V),w.scriptTagHolder)if(w.connectTimeoutTimer_&&(clearTimeout(w.connectTimeoutTimer_),w.connectTimeoutTimer_=null),w.everConnected_=!0,"start"===oe)w.id=ce,w.password=xe;else{if("close"!==oe)throw new Error("Unrecognized command received: "+oe);ce?(w.scriptTagHolder.sendNewPolls=!1,w.myPacketOrderer.closeAfter(ce,function(){w.onClosed_()})):w.onClosed_()}},function(){for(var V=[],Y=0;Y<arguments.length;Y++)V[Y]=arguments[Y];var X=(0,ae.CR)(V,2),oe=X[0],ce=X[1];w.incrementIncomingBytes_(V),w.myPacketOrderer.handleResponse(oe,ce)},function(){w.onClosed_()},w.urlFn);var M={start:"t"};M.ser=Math.floor(1e8*Math.random()),w.scriptTagHolder.uniqueCallbackIdentifier&&(M.cb=w.scriptTagHolder.uniqueCallbackIdentifier),M.v="5",w.transportSessionId&&(M.s=w.transportSessionId),w.lastSessionId&&(M.ls=w.lastSessionId),w.applicationId&&(M.p=w.applicationId),w.appCheckToken&&(M.ac=w.appCheckToken),"undefined"!=typeof location&&location.hostname&&cr.test(location.hostname)&&(M.r="f");var R=w.urlFn(M);w.log_("Connecting via long-poll to "+R),w.scriptTagHolder.addTag(R,function(){})}})},g.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},g.forceAllow=function(){g.forceAllow_=!0},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){return!((0,G.Yr)()||!g.forceAllow_&&(g.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},g.prototype.markConnectionHealthy=function(){},g.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},g.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},g.prototype.send=function(p){var _=(0,G.Pz)(p);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);for(var w=(0,G.h$)(_),M=yt(w,1840),R=0;R<M.length;R++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[R]),this.curSegmentNum++},g.prototype.addDisconnectPingFrame=function(p,_){if(!(0,G.Yr)()){this.myDisconnFrame=document.createElement("iframe");var w={dframe:"t"};w.id=p,w.pw=_,this.myDisconnFrame.src=this.urlFn(w),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},g.prototype.incrementIncomingBytes_=function(p){var _=(0,G.Pz)(p).length;this.bytesReceived+=_,this.stats_.incrementCounter("bytes_received",_)},g}(),ml=function(){function g(p,_,w,M){if(this.onDisconnect=w,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,G.Yr)())this.commandCB=p,this.onMessageCB=_;else{this.uniqueCallbackIdentifier=ze(),window["pLPCommand"+this.uniqueCallbackIdentifier]=p,window["pRTLPCB"+this.uniqueCallbackIdentifier]=_,this.myIFrame=g.createIFrame_();var R="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(R='<script>document.domain="'+document.domain+'";<\/script>');var Y="<html><body>"+R+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Y),this.myIFrame.doc.close()}catch(X){et("frame writing exception"),X.stack&&et(X.stack),et(X)}}}return g.createIFrame_=function(){var p=document.createElement("iframe");if(p.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(p);try{p.contentWindow.document||et("No IE domain setting required")}catch(M){var w=document.domain;p.src="javascript:void((function(){document.open();document.domain='"+w+"';document.close();})())"}return p.contentDocument?p.doc=p.contentDocument:p.contentWindow?p.doc=p.contentWindow.document:p.document&&(p.doc=p.document),p},g.prototype.close=function(){var p=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==p.myIFrame&&(document.body.removeChild(p.myIFrame),p.myIFrame=null)},Math.floor(0)));var _=this.onDisconnect;_&&(this.onDisconnect=null,_())},g.prototype.startLongPoll=function(p,_){for(this.myID=p,this.myPW=_,this.alive=!0;this.newRequest_(););},g.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var p={};p.id=this.myID,p.pw=this.myPW,p.ser=this.currentSerial;for(var _=this.urlFn(p),w="",M=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+w.length<=1870;){var V=this.pendingSegs.shift();w=w+"&seg"+M+"="+V.seg+"&ts"+M+"="+V.ts+"&d"+M+"="+V.d,M++}return this.addLongPollTag_(_+=w,this.currentSerial),!0}return!1},g.prototype.enqueueSegment=function(p,_,w){this.pendingSegs.push({seg:p,ts:_,d:w}),this.alive&&this.newRequest_()},g.prototype.addLongPollTag_=function(p,_){var w=this;this.outstandingRequests.add(_);var M=function(){w.outstandingRequests.delete(_),w.newRequest_()},R=setTimeout(M,Math.floor(25e3));this.addTag(p,function(){clearTimeout(R),M()})},g.prototype.addTag=function(p,_){var w=this;(0,G.Yr)()?this.doNodeLongPoll(p,_):setTimeout(function(){try{if(!w.sendNewPolls)return;var M=w.myIFrame.doc.createElement("script");M.type="text/javascript",M.async=!0,M.src=p,M.onload=M.onreadystatechange=function(){var R=M.readyState;(!R||"loaded"===R||"complete"===R)&&(M.onload=M.onreadystatechange=null,M.parentNode&&M.parentNode.removeChild(M),_())},M.onerror=function(){et("Long-poll script failed to load: "+p),w.sendNewPolls=!1,w.close()},w.myIFrame.doc.body.appendChild(M)}catch(R){}},Math.floor(1))},g}(),mr=null;"undefined"!=typeof MozWebSocket?mr=MozWebSocket:"undefined"!=typeof WebSocket&&(mr=WebSocket);var Pr=function(){function g(p,_,w,M,R,V,Y){this.connId=p,this.applicationId=w,this.appCheckToken=M,this.authToken=R,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kt(this.connId),this.stats_=Bn(_),this.connURL=g.connectionURL_(_,V,Y,M),this.nodeAdmin=_.nodeAdmin}return g.connectionURL_=function(p,_,w,M){var R={v:"5"};return!(0,G.Yr)()&&"undefined"!=typeof location&&location.hostname&&cr.test(location.hostname)&&(R.r="f"),_&&(R.s=_),w&&(R.ls=w),M&&(R.ac=M),Zt(p,Dr,R)},g.prototype.open=function(p,_){var w=this;this.onDisconnect=_,this.onMessage=p,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_e.set("previous_websocket_failure",!0);try{if((0,G.Yr)()){var R={headers:{"User-Agent":"Firebase/5/"+se+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(R.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(R.headers["X-Firebase-AppCheck"]=this.appCheckToken);var V=process.env,Y=0===this.connURL.indexOf("wss://")?V.HTTPS_PROXY||V.https_proxy:V.HTTP_PROXY||V.http_proxy;Y&&(R.proxy={origin:Y}),this.mySock=new mr(this.connURL,[],R)}else this.mySock=new mr(this.connURL,[],R={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(oe){this.log_("Error instantiating WebSocket.");var X=oe.message||oe.data;return X&&this.log_(X),void this.onClosed_()}this.mySock.onopen=function(){w.log_("Websocket connected."),w.everConnected_=!0},this.mySock.onclose=function(){w.log_("Websocket connection was disconnected."),w.mySock=null,w.onClosed_()},this.mySock.onmessage=function(oe){w.handleIncomingFrame(oe)},this.mySock.onerror=function(oe){w.log_("WebSocket error.  Closing connection.");var ce=oe.message||oe.data;ce&&w.log_(ce),w.onClosed_()}},g.prototype.start=function(){},g.forceDisallow=function(){g.forceDisallow_=!0},g.isAvailable=function(){var p=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var w=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);w&&w.length>1&&parseFloat(w[1])<4.4&&(p=!0)}return!p&&null!==mr&&!g.forceDisallow_},g.previouslyFailed=function(){return _e.isInMemoryStorage||!0===_e.get("previous_websocket_failure")},g.prototype.markConnectionHealthy=function(){_e.remove("previous_websocket_failure")},g.prototype.appendFrame_=function(p){if(this.frames.push(p),this.frames.length===this.totalFrames){var _=this.frames.join("");this.frames=null;var w=(0,G.cI)(_);this.onMessage(w)}},g.prototype.handleNewFrameCount_=function(p){this.totalFrames=p,this.frames=[]},g.prototype.extractFrameCount_=function(p){if((0,G.hu)(null===this.frames,"We already have a frame buffer"),p.length<=6){var _=Number(p);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),p},g.prototype.handleIncomingFrame=function(p){if(null!==this.mySock){var _=p.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{var w=this.extractFrameCount_(_);null!==w&&this.appendFrame_(w)}}},g.prototype.send=function(p){this.resetKeepAlive();var _=(0,G.Pz)(p);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);var w=yt(_,16384);w.length>1&&this.sendString_(String(w.length));for(var M=0;M<w.length;M++)this.sendString_(w[M])},g.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},g.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},g.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},g.prototype.resetKeepAlive=function(){var p=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){p.mySock&&p.sendString_("0"),p.resetKeepAlive()},Math.floor(45e3))},g.prototype.sendString_=function(p){try{this.mySock.send(p)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g}(),ki=function(){function g(p){this.initTransports_(p)}return Object.defineProperty(g,"ALL_TRANSPORTS",{get:function(){return[Ma,Pr]},enumerable:!1,configurable:!0}),g.prototype.initTransports_=function(p){var _,w,M=Pr&&Pr.isAvailable(),R=M&&!Pr.previouslyFailed();if(p.webSocketOnly&&(M||xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),R=!0),R)this.transports_=[Pr];else{var V=this.transports_=[];try{for(var Y=(0,ae.XA)(g.ALL_TRANSPORTS),X=Y.next();!X.done;X=Y.next()){var oe=X.value;oe&&oe.isAvailable()&&V.push(oe)}}catch(ce){_={error:ce}}finally{try{X&&!X.done&&(w=Y.return)&&w.call(Y)}finally{if(_)throw _.error}}}},g.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},g.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},g}(),Es=function(){function g(p,_,w,M,R,V,Y,X,oe,ce){this.id=p,this.repoInfo_=_,this.applicationId_=w,this.appCheckToken_=M,this.authToken_=R,this.onMessage_=V,this.onReady_=Y,this.onDisconnect_=X,this.onKill_=oe,this.lastSessionId=ce,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kt("c:"+this.id+":"),this.transportManager_=new ki(_),this.log_("Connection created"),this.start_()}return g.prototype.start_=function(){var p=this,_=this.transportManager_.initialTransport();this.conn_=new _(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=_.responsesRequiredToBeHealthy||0;var w=this.connReceiver_(this.conn_),M=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){p.conn_&&p.conn_.open(w,M)},Math.floor(0));var R=_.healthyTimeout||0;R>0&&(this.healthyTimeout_=Xt(function(){p.healthyTimeout_=null,p.isHealthy_||(p.conn_&&p.conn_.bytesReceived>102400?(p.log_("Connection exceeded healthy timeout but has received "+p.conn_.bytesReceived+" bytes.  Marking connection healthy."),p.isHealthy_=!0,p.conn_.markConnectionHealthy()):p.conn_&&p.conn_.bytesSent>10240?p.log_("Connection exceeded healthy timeout but has sent "+p.conn_.bytesSent+" bytes.  Leaving connection alive."):(p.log_("Closing unhealthy connection after timeout."),p.close()))},Math.floor(R)))},g.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},g.prototype.disconnReceiver_=function(p){var _=this;return function(w){p===_.conn_?_.onConnectionLost_(w):p===_.secondaryConn_?(_.log_("Secondary connection lost."),_.onSecondaryConnectionLost_()):_.log_("closing an old connection")}},g.prototype.connReceiver_=function(p){var _=this;return function(w){2!==_.state_&&(p===_.rx_?_.onPrimaryMessageReceived_(w):p===_.secondaryConn_?_.onSecondaryMessageReceived_(w):_.log_("message on old connection"))}},g.prototype.sendRequest=function(p){this.sendData_({t:"d",d:p})},g.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},g.prototype.onSecondaryControl_=function(p){if("t"in p){var _=p.t;"a"===_?this.upgradeIfSecondaryHealthy_():"r"===_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},g.prototype.onSecondaryMessageReceived_=function(p){var _=rt("t",p),w=rt("d",p);if("c"===_)this.onSecondaryControl_(w);else{if("d"!==_)throw new Error("Unknown protocol layer: "+_);this.pendingDataMessages.push(w)}},g.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},g.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},g.prototype.onPrimaryMessageReceived_=function(p){var _=rt("t",p),w=rt("d",p);"c"===_?this.onControl_(w):"d"===_&&this.onDataMessage_(w)},g.prototype.onDataMessage_=function(p){this.onPrimaryResponse_(),this.onMessage_(p)},g.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},g.prototype.onControl_=function(p){var _=rt("t",p);if("d"in p){var w=p.d;if("h"===_)this.onHandshake_(w);else if("n"===_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===_?this.onConnectionShutdown_(w):"r"===_?this.onReset_(w):"e"===_?Nn("Server Error: "+w):"o"===_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nn("Unknown control packet command: "+_)}},g.prototype.onHandshake_=function(p){var _=p.ts,w=p.v,M=p.h;this.sessionId=p.s,this.repoInfo_.host=M,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,_),"5"!==w&&xn("Protocol version mismatch detected"),this.tryStartUpgrade_())},g.prototype.tryStartUpgrade_=function(){var p=this.transportManager_.upgradeTransport();p&&this.startUpgrade_(p)},g.prototype.startUpgrade_=function(p){var _=this;this.secondaryConn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;var w=this.connReceiver_(this.secondaryConn_),M=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(w,M),Xt(function(){_.secondaryConn_&&(_.log_("Timed out trying to upgrade."),_.secondaryConn_.close())},Math.floor(6e4))},g.prototype.onReset_=function(p){this.log_("Reset packet received.  New host: "+p),this.repoInfo_.host=p,1===this.state_?this.close():(this.closeConnections_(),this.start_())},g.prototype.onConnectionEstablished_=function(p,_){var w=this;this.log_("Realtime connection established."),this.conn_=p,this.state_=1,this.onReady_&&(this.onReady_(_,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xt(function(){w.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},g.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},g.prototype.onSecondaryConnectionLost_=function(){var p=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===p||this.rx_===p)&&this.close()},g.prototype.onConnectionLost_=function(p){this.conn_=null,p||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_e.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},g.prototype.onConnectionShutdown_=function(p){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(p),this.onKill_=null),this.onDisconnect_=null,this.close()},g.prototype.sendData_=function(p){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(p)},g.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},g.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},g}(),nr=function(){function g(){}return g.prototype.put=function(p,_,w,M){},g.prototype.merge=function(p,_,w,M){},g.prototype.refreshAuthToken=function(p){},g.prototype.refreshAppCheckToken=function(p){},g.prototype.onDisconnectPut=function(p,_,w){},g.prototype.onDisconnectMerge=function(p,_,w){},g.prototype.onDisconnectCancel=function(p,_){},g.prototype.reportStats=function(p){},g}(),Ot=function(){function g(p){this.allowedEvents_=p,this.listeners_={},(0,G.hu)(Array.isArray(p)&&p.length>0,"Requires a non-empty array")}return g.prototype.trigger=function(p){for(var _=[],w=1;w<arguments.length;w++)_[w-1]=arguments[w];if(Array.isArray(this.listeners_[p]))for(var M=(0,ae.ev)([],(0,ae.CR)(this.listeners_[p])),R=0;R<M.length;R++)M[R].callback.apply(M[R].context,_)},g.prototype.on=function(p,_,w){this.validateEventType_(p),this.listeners_[p]=this.listeners_[p]||[],this.listeners_[p].push({callback:_,context:w});var M=this.getInitialEvent(p);M&&_.apply(w,M)},g.prototype.off=function(p,_,w){this.validateEventType_(p);for(var M=this.listeners_[p]||[],R=0;R<M.length;R++)if(M[R].callback===_&&(!w||w===M[R].context))return void M.splice(R,1)},g.prototype.validateEventType_=function(p){(0,G.hu)(this.allowedEvents_.find(function(_){return _===p}),"Unknown event: "+p)},g}(),Di=function(g){function p(){var _=g.call(this,["online"])||this;return _.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,G.uI)()&&(window.addEventListener("online",function(){_.online_||(_.online_=!0,_.trigger("online",!0))},!1),window.addEventListener("offline",function(){_.online_&&(_.online_=!1,_.trigger("online",!1))},!1)),_}return(0,ae.ZT)(p,g),p.getInstance=function(){return new p},p.prototype.getInitialEvent=function(_){return(0,G.hu)("online"===_,"Unknown event type: "+_),[this.online_]},p.prototype.currentlyOnline=function(){return this.online_},p}(Ot),yn=function(){function g(p,_){if(void 0===_){this.pieces_=p.split("/");for(var w=0,M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[w]=this.pieces_[M],w++);this.pieces_.length=w,this.pieceNum_=0}else this.pieces_=p,this.pieceNum_=_}return g.prototype.toString=function(){for(var p="",_=this.pieceNum_;_<this.pieces_.length;_++)""!==this.pieces_[_]&&(p+="/"+this.pieces_[_]);return p||"/"},g}();function xt(){return new yn("")}function rn(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function Po(g){return g.pieces_.length-g.pieceNum_}function kn(g){var p=g.pieceNum_;return p<g.pieces_.length&&p++,new yn(g.pieces_,p)}function yl(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function Ro(g,p){return void 0===p&&(p=0),g.pieces_.slice(g.pieceNum_+p)}function ao(g){if(g.pieceNum_>=g.pieces_.length)return null;for(var p=[],_=g.pieceNum_;_<g.pieces_.length-1;_++)p.push(g.pieces_[_]);return new yn(p,0)}function _n(g,p){for(var _=[],w=g.pieceNum_;w<g.pieces_.length;w++)_.push(g.pieces_[w]);if(p instanceof yn)for(w=p.pieceNum_;w<p.pieces_.length;w++)_.push(p.pieces_[w]);else{var M=p.split("/");for(w=0;w<M.length;w++)M[w].length>0&&_.push(M[w])}return new yn(_,0)}function un(g){return g.pieceNum_>=g.pieces_.length}function _r(g,p){var _=rn(g),w=rn(p);if(null===_)return p;if(_===w)return _r(kn(g),kn(p));throw new Error("INTERNAL ERROR: innerPath ("+p+") is not within outerPath ("+g+")")}function uo(g,p){for(var _=Ro(g,0),w=Ro(p,0),M=0;M<_.length&&M<w.length;M++){var R=Re(_[M],w[M]);if(0!==R)return R}return _.length===w.length?0:_.length<w.length?-1:1}function us(g,p){if(Po(g)!==Po(p))return!1;for(var _=g.pieceNum_,w=p.pieceNum_;_<=g.pieces_.length;_++,w++)if(g.pieces_[_]!==p.pieces_[w])return!1;return!0}function Si(g,p){var _=g.pieceNum_,w=p.pieceNum_;if(Po(g)>Po(p))return!1;for(;_<g.pieces_.length;){if(g.pieces_[_]!==p.pieces_[w])return!1;++_,++w}return!0}var yc=function(p,_){this.errorPrefix_=_,this.parts_=Ro(p,0),this.byteLength_=Math.max(1,this.parts_.length);for(var w=0;w<this.parts_.length;w++)this.byteLength_+=(0,G.ug)(this.parts_[w]);_c(this)};function _c(g){if(g.byteLength_>768)throw new Error(g.errorPrefix_+"has a key path longer than 768 bytes ("+g.byteLength_+").");if(g.parts_.length>32)throw new Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ws(g))}function Ws(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}var El,vc,_l=function(g){function p(){var w,M,_=g.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(M="visibilitychange",w="hidden"):void 0!==document.mozHidden?(M="mozvisibilitychange",w="mozHidden"):void 0!==document.msHidden?(M="msvisibilitychange",w="msHidden"):void 0!==document.webkitHidden&&(M="webkitvisibilitychange",w="webkitHidden")),_.visible_=!0,M&&document.addEventListener(M,function(){var R=!document[w];R!==_.visible_&&(_.visible_=R,_.trigger("visible",R))},!1),_}return(0,ae.ZT)(p,g),p.getInstance=function(){return new p},p.prototype.getInitialEvent=function(_){return(0,G.hu)("visible"===_,"Unknown event type: "+_),[this.visible_]},p}(Ot),vl=1e3,xa=function(g){function p(_,w,M,R,V,Y,X,oe){var ce=g.call(this)||this;if(ce.repoInfo_=_,ce.applicationId_=w,ce.onDataUpdate_=M,ce.onConnectStatus_=R,ce.onServerInfoUpdate_=V,ce.authTokenProvider_=Y,ce.appCheckTokenProvider_=X,ce.authOverride_=oe,ce.id=p.nextPersistentConnectionId_++,ce.log_=Kt("p:"+ce.id+":"),ce.interruptReasons_={},ce.listens=new Map,ce.outstandingPuts_=[],ce.outstandingGets_=[],ce.outstandingPutCount_=0,ce.outstandingGetCount_=0,ce.onDisconnectRequestQueue_=[],ce.connected_=!1,ce.reconnectDelay_=vl,ce.maxReconnectDelay_=3e5,ce.securityDebugCallback_=null,ce.lastSessionId=null,ce.establishConnectionTimer_=null,ce.visible_=!1,ce.requestCBHash_={},ce.requestNumber_=0,ce.realtime_=null,ce.authToken_=null,ce.appCheckToken_=null,ce.forceTokenRefresh_=!1,ce.invalidAuthTokenCount_=0,ce.invalidAppCheckTokenCount_=0,ce.firstConnection_=!0,ce.lastConnectionAttemptTime_=null,ce.lastConnectionEstablishedTime_=null,oe&&!(0,G.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return _l.getInstance().on("visible",ce.onVisible_,ce),-1===_.host.indexOf("fblocal")&&Di.getInstance().on("online",ce.onOnline_,ce),ce}return(0,ae.ZT)(p,g),p.prototype.sendRequest=function(_,w,M){var R=++this.requestNumber_,V={r:R,a:_,b:w};this.log_((0,G.Pz)(V)),(0,G.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(V),M&&(this.requestCBHash_[R]=M)},p.prototype.get=function(_){var w=this;this.initConnection_();var M=new G.BH,R={p:_._path.toString(),q:_._queryObject},V={action:"g",request:R,onComplete:function(X){var oe=X.d;"ok"===X.s?(w.onDataUpdate_(R.p,oe,!1,null),M.resolve(oe)):M.reject(oe)}};this.outstandingGets_.push(V),this.outstandingGetCount_++;var Y=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var X=w.outstandingGets_[Y];void 0===X||V!==X||(delete w.outstandingGets_[Y],w.outstandingGetCount_--,0===w.outstandingGetCount_&&(w.outstandingGets_=[]),w.log_("get "+Y+" timed out on connection"),M.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(Y),M.promise},p.prototype.listen=function(_,w,M,R){this.initConnection_();var V=_._queryIdentifier,Y=_._path.toString();this.log_("Listen called for "+Y+" "+V),this.listens.has(Y)||this.listens.set(Y,new Map),(0,G.hu)(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,G.hu)(!this.listens.get(Y).has(V),"listen() called twice for same path/queryId.");var X={onComplete:R,hashFn:w,query:_,tag:M};this.listens.get(Y).set(V,X),this.connected_&&this.sendListen_(X)},p.prototype.sendGet_=function(_){var w=this,M=this.outstandingGets_[_];this.sendRequest("g",M.request,function(R){delete w.outstandingGets_[_],w.outstandingGetCount_--,0===w.outstandingGetCount_&&(w.outstandingGets_=[]),M.onComplete&&M.onComplete(R)})},p.prototype.sendListen_=function(_){var w=this,M=_.query,R=M._path.toString(),V=M._queryIdentifier;this.log_("Listen on "+R+" for "+V);var Y={p:R};_.tag&&(Y.q=M._queryObject,Y.t=_.tag),Y.h=_.hashFn(),this.sendRequest("q",Y,function(oe){var ce=oe.d,xe=oe.s;p.warnOnListenWarnings_(ce,M),(w.listens.get(R)&&w.listens.get(R).get(V))===_&&(w.log_("listen response",oe),"ok"!==xe&&w.removeListen_(R,V),_.onComplete&&_.onComplete(xe,ce))})},p.warnOnListenWarnings_=function(_,w){if(_&&"object"==typeof _&&(0,G.r3)(_,"w")){var M=(0,G.DV)(_,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){var R='".indexOn": "'+w._queryParams.getIndex().toString()+'"',V=w._path.toString();xn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+R+" at "+V+" to your security rules for better performance.")}}},p.prototype.refreshAuthToken=function(_){this.authToken_=_,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(_)},p.prototype.reduceReconnectDelayIfAdminCredential_=function(_){(_&&40===_.length||(0,G.GJ)(_))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},p.prototype.refreshAppCheckToken=function(_){this.appCheckToken_=_,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},p.prototype.tryAuth=function(){var _=this;if(this.connected_&&this.authToken_){var w=this.authToken_,M=(0,G.w9)(w)?"auth":"gauth",R={cred:w};null===this.authOverride_?R.noauth=!0:"object"==typeof this.authOverride_&&(R.authvar=this.authOverride_),this.sendRequest(M,R,function(V){var Y=V.s,X=V.d||"error";_.authToken_===w&&("ok"===Y?_.invalidAuthTokenCount_=0:_.onAuthRevoked_(Y,X))})}},p.prototype.tryAppCheck=function(){var _=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(w){var M=w.s,R=w.d||"error";"ok"===M?_.invalidAppCheckTokenCount_=0:_.onAppCheckRevoked_(M,R)})},p.prototype.unlisten=function(_,w){var M=_._path.toString(),R=_._queryIdentifier;this.log_("Unlisten called for "+M+" "+R),(0,G.hu)(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,R)&&this.connected_&&this.sendUnlisten_(M,R,_._queryObject,w)},p.prototype.sendUnlisten_=function(_,w,M,R){this.log_("Unlisten on "+_+" for "+w);var V={p:_};R&&(V.q=M,V.t=R),this.sendRequest("n",V)},p.prototype.onDisconnectPut=function(_,w,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",_,w,M):this.onDisconnectRequestQueue_.push({pathString:_,action:"o",data:w,onComplete:M})},p.prototype.onDisconnectMerge=function(_,w,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",_,w,M):this.onDisconnectRequestQueue_.push({pathString:_,action:"om",data:w,onComplete:M})},p.prototype.onDisconnectCancel=function(_,w){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",_,null,w):this.onDisconnectRequestQueue_.push({pathString:_,action:"oc",data:null,onComplete:w})},p.prototype.sendOnDisconnect_=function(_,w,M,R){var V={p:w,d:M};this.log_("onDisconnect "+_,V),this.sendRequest(_,V,function(Y){R&&setTimeout(function(){R(Y.s,Y.d)},Math.floor(0))})},p.prototype.put=function(_,w,M,R){this.putInternal("p",_,w,M,R)},p.prototype.merge=function(_,w,M,R){this.putInternal("m",_,w,M,R)},p.prototype.putInternal=function(_,w,M,R,V){this.initConnection_();var Y={p:w,d:M};void 0!==V&&(Y.h=V),this.outstandingPuts_.push({action:_,request:Y,onComplete:R}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+w)},p.prototype.sendPut_=function(_){var w=this,M=this.outstandingPuts_[_].action,R=this.outstandingPuts_[_].request,V=this.outstandingPuts_[_].onComplete;this.outstandingPuts_[_].queued=this.connected_,this.sendRequest(M,R,function(Y){w.log_(M+" response",Y),delete w.outstandingPuts_[_],w.outstandingPutCount_--,0===w.outstandingPutCount_&&(w.outstandingPuts_=[]),V&&V(Y.s,Y.d)})},p.prototype.reportStats=function(_){var w=this;if(this.connected_){var M={c:_};this.log_("reportStats",M),this.sendRequest("s",M,function(R){"ok"!==R.s&&w.log_("reportStats","Error sending stats: "+R.d)})}},p.prototype.onDataMessage_=function(_){if("r"in _){this.log_("from server: "+(0,G.Pz)(_));var w=_.r,M=this.requestCBHash_[w];M&&(delete this.requestCBHash_[w],M(_.b))}else{if("error"in _)throw"A server-side error has occurred: "+_.error;"a"in _&&this.onDataPush_(_.a,_.b)}},p.prototype.onDataPush_=function(_,w){this.log_("handleServerMessage",_,w),"d"===_?this.onDataUpdate_(w.p,w.d,!1,w.t):"m"===_?this.onDataUpdate_(w.p,w.d,!0,w.t):"c"===_?this.onListenRevoked_(w.p,w.q):"ac"===_?this.onAuthRevoked_(w.s,w.d):"apc"===_?this.onAppCheckRevoked_(w.s,w.d):"sd"===_?this.onSecurityDebugPacket_(w):Nn("Unrecognized action received from server: "+(0,G.Pz)(_)+"\nAre you using the latest client?")},p.prototype.onReady_=function(_,w){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(_),this.lastSessionId=w,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},p.prototype.scheduleConnect_=function(_){var w=this;(0,G.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){w.establishConnectionTimer_=null,w.establishConnection_()},Math.floor(_))},p.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},p.prototype.onVisible_=function(_){_&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vl,this.realtime_||this.scheduleConnect_(0)),this.visible_=_},p.prototype.onOnline_=function(_){_?(this.log_("Browser went online."),this.reconnectDelay_=vl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},p.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var w=(new Date).getTime()-this.lastConnectionAttemptTime_,M=Math.max(0,this.reconnectDelay_-w);M=Math.random()*M,this.log_("Trying to reconnect in "+M+"ms"),this.scheduleConnect_(M),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},p.prototype.establishConnection_=function(){return(0,ae.mG)(this,void 0,void 0,function(){var _,w,M,R,V,Y,X,oe,xe,Ge,Xe,Ct,zt,kt=this;return(0,ae.Jh)(this,function(sn){switch(sn.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,_=this.onDataMessage_.bind(this),w=this.onReady_.bind(this),M=this.onRealtimeDisconnect_.bind(this),R=this.id+":"+p.nextConnectionId_++,V=this.lastSessionId,Y=!1,X=null,this.realtime_={close:oe=function(){X?X.close():(Y=!0,M())},sendRequest:function(Er){(0,G.hu)(X,"sendRequest call when we're not connected not allowed."),X.sendRequest(Er)}},xe=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,sn.label=1;case 1:return sn.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(xe),this.appCheckTokenProvider_.getToken(xe)])];case 2:return Ge=ae.CR.apply(void 0,[sn.sent(),2]),Xe=Ge[0],Ct=Ge[1],Y?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=Xe&&Xe.accessToken,this.appCheckToken_=Ct&&Ct.token,X=new Es(R,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,_,w,M,function(Er){xn(Er+" ("+kt.repoInfo_.toString()+")"),kt.interrupt("server_kill")},V)),[3,4];case 3:return zt=sn.sent(),this.log_("Failed to get token: "+zt),Y||(this.repoInfo_.nodeAdmin&&xn(zt),oe()),[3,4];case 4:return[2]}})})},p.prototype.interrupt=function(_){et("Interrupting connection for reason: "+_),this.interruptReasons_[_]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},p.prototype.resume=function(_){et("Resuming connection for reason: "+_),delete this.interruptReasons_[_],(0,G.xb)(this.interruptReasons_)&&(this.reconnectDelay_=vl,this.realtime_||this.scheduleConnect_(0))},p.prototype.handleTimestamp_=function(_){var w=_-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:w})},p.prototype.cancelSentTransactions_=function(){for(var _=0;_<this.outstandingPuts_.length;_++){var w=this.outstandingPuts_[_];w&&"h"in w.request&&w.queued&&(w.onComplete&&w.onComplete("disconnect"),delete this.outstandingPuts_[_],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},p.prototype.onListenRevoked_=function(_,w){var M;M=w?w.map(function(V){return jt(V)}).join("$"):"default";var R=this.removeListen_(_,M);R&&R.onComplete&&R.onComplete("permission_denied")},p.prototype.removeListen_=function(_,w){var R,M=new yn(_).toString();if(this.listens.has(M)){var V=this.listens.get(M);R=V.get(w),V.delete(w),0===V.size&&this.listens.delete(M)}else R=void 0;return R},p.prototype.onAuthRevoked_=function(_,w){et("Auth token revoked: "+_+"/"+w),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===_||"permission_denied"===_)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},p.prototype.onAppCheckRevoked_=function(_,w){et("App check token revoked: "+_+"/"+w),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===_||"permission_denied"===_)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},p.prototype.onSecurityDebugPacket_=function(_){this.securityDebugCallback_?this.securityDebugCallback_(_):"msg"in _&&console.log("FIREBASE: "+_.msg.replace("\n","\nFIREBASE: "))},p.prototype.restoreState_=function(){var _,w,M,R;this.tryAuth(),this.tryAppCheck();try{for(var V=(0,ae.XA)(this.listens.values()),Y=V.next();!Y.done;Y=V.next()){var X=Y.value;try{for(var oe=(M=void 0,(0,ae.XA)(X.values())),ce=oe.next();!ce.done;ce=oe.next())this.sendListen_(ce.value)}catch(Ct){M={error:Ct}}finally{try{ce&&!ce.done&&(R=oe.return)&&R.call(oe)}finally{if(M)throw M.error}}}}catch(Ct){_={error:Ct}}finally{try{Y&&!Y.done&&(w=V.return)&&w.call(V)}finally{if(_)throw _.error}}for(var Ge=0;Ge<this.outstandingPuts_.length;Ge++)this.outstandingPuts_[Ge]&&this.sendPut_(Ge);for(;this.onDisconnectRequestQueue_.length;){var Xe=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Xe.action,Xe.pathString,Xe.data,Xe.onComplete)}for(Ge=0;Ge<this.outstandingGets_.length;Ge++)this.outstandingGets_[Ge]&&this.sendGet_(Ge)},p.prototype.sendConnectStats_=function(){var _={},w="js";(0,G.Yr)()&&(w=this.repoInfo_.nodeAdmin?"admin_node":"node"),_["sdk."+w+"."+se.replace(/\./g,"-")]=1,(0,G.uI)()?_["framework.cordova"]=1:(0,G.b$)()&&(_["framework.reactnative"]=1),this.reportStats(_)},p.prototype.shouldReconnect_=function(){var _=Di.getInstance().currentlyOnline();return(0,G.xb)(this.interruptReasons_)&&_},p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p}(nr),bn=function(){function g(p,_){this.name=p,this.node=_}return g.Wrap=function(p,_){return new g(p,_)},g}(),Cl=function(){function g(){}return g.prototype.getCompare=function(){return this.compare.bind(this)},g.prototype.indexedValueChanged=function(p,_){var w=new bn(De,p),M=new bn(De,_);return 0!==this.compare(w,M)},g.prototype.minPost=function(){return bn.MIN},g}(),Cd=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,ae.ZT)(p,g),Object.defineProperty(p,"__EMPTY_NODE",{get:function(){return El},set:function(_){El=_},enumerable:!1,configurable:!0}),p.prototype.compare=function(_,w){return Re(_.name,w.name)},p.prototype.isDefinedOn=function(_){throw(0,G.g5)("KeyIndex.isDefinedOn not expected to be called.")},p.prototype.indexedValueChanged=function(_,w){return!1},p.prototype.minPost=function(){return bn.MIN},p.prototype.maxPost=function(){return new bn(qe,El)},p.prototype.makePost=function(_,w){return(0,G.hu)("string"==typeof _,"KeyIndex indexValue must always be a string."),new bn(_,El)},p.prototype.toString=function(){return".key"},p}(Cl),Wi=new Cd,ws=function(){function g(p,_,w,M,R){void 0===R&&(R=null),this.isReverse_=M,this.resultGenerator_=R,this.nodeStack_=[];for(var V=1;!p.isEmpty();)if(p=p,V=_?w(p.key,_):1,M&&(V*=-1),V<0)p=this.isReverse_?p.left:p.right;else{if(0===V){this.nodeStack_.push(p);break}this.nodeStack_.push(p),p=this.isReverse_?p.right:p.left}}return g.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var _,p=this.nodeStack_.pop();if(_=this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value},this.isReverse_)for(p=p.left;!p.isEmpty();)this.nodeStack_.push(p),p=p.right;else for(p=p.right;!p.isEmpty();)this.nodeStack_.push(p),p=p.left;return _},g.prototype.hasNext=function(){return this.nodeStack_.length>0},g.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var p=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value}},g}(),Vi=function(){function g(p,_,w,M,R){this.key=p,this.value=_,this.color=null!=w?w:g.RED,this.left=null!=M?M:co.EMPTY_NODE,this.right=null!=R?R:co.EMPTY_NODE}return g.prototype.copy=function(p,_,w,M,R){return new g(null!=p?p:this.key,null!=_?_:this.value,null!=w?w:this.color,null!=M?M:this.left,null!=R?R:this.right)},g.prototype.count=function(){return this.left.count()+1+this.right.count()},g.prototype.isEmpty=function(){return!1},g.prototype.inorderTraversal=function(p){return this.left.inorderTraversal(p)||!!p(this.key,this.value)||this.right.inorderTraversal(p)},g.prototype.reverseTraversal=function(p){return this.right.reverseTraversal(p)||p(this.key,this.value)||this.left.reverseTraversal(p)},g.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},g.prototype.minKey=function(){return this.min_().key},g.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},g.prototype.insert=function(p,_,w){var M=this,R=w(p,M.key);return(M=R<0?M.copy(null,null,null,M.left.insert(p,_,w),null):0===R?M.copy(null,_,null,null,null):M.copy(null,null,null,null,M.right.insert(p,_,w))).fixUp_()},g.prototype.removeMin_=function(){if(this.left.isEmpty())return co.EMPTY_NODE;var p=this;return!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),(p=p.copy(null,null,null,p.left.removeMin_(),null)).fixUp_()},g.prototype.remove=function(p,_){var w,M;if(_(p,(w=this).key)<0)!w.left.isEmpty()&&!w.left.isRed_()&&!w.left.left.isRed_()&&(w=w.moveRedLeft_()),w=w.copy(null,null,null,w.left.remove(p,_),null);else{if(w.left.isRed_()&&(w=w.rotateRight_()),!w.right.isEmpty()&&!w.right.isRed_()&&!w.right.left.isRed_()&&(w=w.moveRedRight_()),0===_(p,w.key)){if(w.right.isEmpty())return co.EMPTY_NODE;M=w.right.min_(),w=w.copy(M.key,M.value,null,null,w.right.removeMin_())}w=w.copy(null,null,null,null,w.right.remove(p,_))}return w.fixUp_()},g.prototype.isRed_=function(){return this.color},g.prototype.fixUp_=function(){var p=this;return p.right.isRed_()&&!p.left.isRed_()&&(p=p.rotateLeft_()),p.left.isRed_()&&p.left.left.isRed_()&&(p=p.rotateRight_()),p.left.isRed_()&&p.right.isRed_()&&(p=p.colorFlip_()),p},g.prototype.moveRedLeft_=function(){var p=this.colorFlip_();return p.right.left.isRed_()&&(p=(p=(p=p.copy(null,null,null,null,p.right.rotateRight_())).rotateLeft_()).colorFlip_()),p},g.prototype.moveRedRight_=function(){var p=this.colorFlip_();return p.left.left.isRed_()&&(p=(p=p.rotateRight_()).colorFlip_()),p},g.prototype.rotateLeft_=function(){var p=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,p,null)},g.prototype.rotateRight_=function(){var p=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,p)},g.prototype.colorFlip_=function(){var p=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,p,_)},g.prototype.checkMaxDepth_=function(){var p=this.check_();return Math.pow(2,p)<=this.count()+1},g.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var p=this.left.check_();if(p!==this.right.check_())throw new Error("Black depths differ");return p+(this.isRed_()?0:1)},g.RED=!0,g.BLACK=!1,g}(),cg=function(){function g(){}return g.prototype.copy=function(p,_,w,M,R){return this},g.prototype.insert=function(p,_,w){return new Vi(p,_,null)},g.prototype.remove=function(p,_){return this},g.prototype.count=function(){return 0},g.prototype.isEmpty=function(){return!0},g.prototype.inorderTraversal=function(p){return!1},g.prototype.reverseTraversal=function(p){return!1},g.prototype.minKey=function(){return null},g.prototype.maxKey=function(){return null},g.prototype.check_=function(){return 0},g.prototype.isRed_=function(){return!1},g}(),co=function(){function g(p,_){void 0===_&&(_=g.EMPTY_NODE),this.comparator_=p,this.root_=_}return g.prototype.insert=function(p,_){return new g(this.comparator_,this.root_.insert(p,_,this.comparator_).copy(null,null,Vi.BLACK,null,null))},g.prototype.remove=function(p){return new g(this.comparator_,this.root_.remove(p,this.comparator_).copy(null,null,Vi.BLACK,null,null))},g.prototype.get=function(p){for(var _,w=this.root_;!w.isEmpty();){if(0===(_=this.comparator_(p,w.key)))return w.value;_<0?w=w.left:_>0&&(w=w.right)}return null},g.prototype.getPredecessorKey=function(p){for(var _,w=this.root_,M=null;!w.isEmpty();){if(0===(_=this.comparator_(p,w.key))){if(w.left.isEmpty())return M?M.key:null;for(w=w.left;!w.right.isEmpty();)w=w.right;return w.key}_<0?w=w.left:_>0&&(M=w,w=w.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},g.prototype.isEmpty=function(){return this.root_.isEmpty()},g.prototype.count=function(){return this.root_.count()},g.prototype.minKey=function(){return this.root_.minKey()},g.prototype.maxKey=function(){return this.root_.maxKey()},g.prototype.inorderTraversal=function(p){return this.root_.inorderTraversal(p)},g.prototype.reverseTraversal=function(p){return this.root_.reverseTraversal(p)},g.prototype.getIterator=function(p){return new ws(this.root_,null,this.comparator_,!1,p)},g.prototype.getIteratorFrom=function(p,_){return new ws(this.root_,p,this.comparator_,!1,_)},g.prototype.getReverseIteratorFrom=function(p,_){return new ws(this.root_,p,this.comparator_,!0,_)},g.prototype.getReverseIterator=function(p){return new ws(this.root_,null,this.comparator_,!0,p)},g.EMPTY_NODE=new cg,g}();function wl(g,p){return Re(g.name,p.name)}function No(g,p){return Re(g,p)}var bu,Cu,Eu,Dl,q,Tl=function(g){return"number"==typeof g?"number:"+Ke(g):"string:"+g},Ah=function(g){if(g.isLeafNode()){var p=g.val();(0,G.hu)("string"==typeof p||"number"==typeof p||"object"==typeof p&&(0,G.r3)(p,".sv"),"Priority must be a string or number.")}else(0,G.hu)(g===vc||g.isEmpty(),"priority of unexpected type.");(0,G.hu)(g===vc||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ks=function(){function g(p,_){void 0===_&&(_=g.__childrenNodeConstructor.EMPTY_NODE),this.value_=p,this.priorityNode_=_,this.lazyHash_=null,(0,G.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ah(this.priorityNode_)}return Object.defineProperty(g,"__childrenNodeConstructor",{get:function(){return bu},set:function(p){bu=p},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!0},g.prototype.getPriority=function(){return this.priorityNode_},g.prototype.updatePriority=function(p){return new g(this.value_,p)},g.prototype.getImmediateChild=function(p){return".priority"===p?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.getChild=function(p){return un(p)?this:".priority"===rn(p)?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE},g.prototype.hasChild=function(){return!1},g.prototype.getPredecessorChildName=function(p,_){return null},g.prototype.updateImmediateChild=function(p,_){return".priority"===p?this.updatePriority(_):_.isEmpty()&&".priority"!==p?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(p,_).updatePriority(this.priorityNode_)},g.prototype.updateChild=function(p,_){var w=rn(p);return null===w?_:_.isEmpty()&&".priority"!==w?this:((0,G.hu)(".priority"!==w||1===Po(p),".priority must be the last token in a path"),this.updateImmediateChild(w,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(kn(p),_)))},g.prototype.isEmpty=function(){return!1},g.prototype.numChildren=function(){return 0},g.prototype.forEachChild=function(p,_){return!1},g.prototype.val=function(p){return p&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},g.prototype.hash=function(){if(null===this.lazyHash_){var p="";this.priorityNode_.isEmpty()||(p+="priority:"+Tl(this.priorityNode_.val())+":");var _=typeof this.value_;p+=_+":",p+="number"===_?Ke(this.value_):this.value_,this.lazyHash_=at(p)}return this.lazyHash_},g.prototype.getValue=function(){return this.value_},g.prototype.compareTo=function(p){return p===g.__childrenNodeConstructor.EMPTY_NODE?1:p instanceof g.__childrenNodeConstructor?-1:((0,G.hu)(p.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(p))},g.prototype.compareToLeafNode_=function(p){var _=typeof p.value_,w=typeof this.value_,M=g.VALUE_TYPE_ORDER.indexOf(_),R=g.VALUE_TYPE_ORDER.indexOf(w);return(0,G.hu)(M>=0,"Unknown leaf type: "+_),(0,G.hu)(R>=0,"Unknown leaf type: "+w),M===R?"object"===w?0:this.value_<p.value_?-1:this.value_===p.value_?0:1:R-M},g.prototype.withIndex=function(){return this},g.prototype.isIndexed=function(){return!0},g.prototype.equals=function(p){return p===this||!!p.isLeafNode()&&(this.value_===p.value_&&this.priorityNode_.equals(p.priorityNode_))},g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g}(),Kn=new(function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,ae.ZT)(p,g),p.prototype.compare=function(_,w){var M=_.node.getPriority(),R=w.node.getPriority(),V=M.compareTo(R);return 0===V?Re(_.name,w.name):V},p.prototype.isDefinedOn=function(_){return!_.getPriority().isEmpty()},p.prototype.indexedValueChanged=function(_,w){return!_.getPriority().equals(w.getPriority())},p.prototype.minPost=function(){return bn.MIN},p.prototype.maxPost=function(){return new bn(qe,new Ks("[PRIORITY-POST]",Eu))},p.prototype.makePost=function(_,w){var M=Cu(_);return new bn(w,new Ks("[PRIORITY-POST]",M))},p.prototype.toString=function(){return".priority"},p}(Cl)),Oa=Math.log(2),wu=function(){function g(p){this.count=parseInt(Math.log(p+1)/Oa,10),this.current_=this.count-1;var M=parseInt(Array(this.count+1).join("1"),2);this.bits_=p+1&M}return g.prototype.nextBitIsOne=function(){var p=!(this.bits_&1<<this.current_);return this.current_--,p},g}(),ls=function(g,p,_,w){g.sort(p);var M=function(X,oe){var xe,Ge,ce=oe-X;if(0===ce)return null;if(1===ce)return xe=g[X],Ge=_?_(xe):xe,new Vi(Ge,xe.node,Vi.BLACK,null,null);var Xe=parseInt(ce/2,10)+X,Ct=M(X,Xe),zt=M(Xe+1,oe);return xe=g[Xe],Ge=_?_(xe):xe,new Vi(Ge,xe.node,Vi.BLACK,Ct,zt)},Y=function(X){for(var oe=null,ce=null,xe=g.length,Ge=function(sn,Er){var es=xe-sn,zl=xe;xe-=sn;var Qc=M(es+1,zl),Jc=g[es],ql=_?_(Jc):Jc;Xe(new Vi(ql,Jc.node,Er,null,Qc))},Xe=function(sn){oe?(oe.left=sn,oe=sn):(ce=sn,oe=sn)},Ct=0;Ct<X.count;++Ct){var zt=X.nextBitIsOne(),kt=Math.pow(2,X.count-(Ct+1));zt?Ge(kt,Vi.BLACK):(Ge(kt,Vi.BLACK),Ge(kt,Vi.RED))}return ce}(new wu(g.length));return new co(w||p,Y)},Sl={},k=function(){function g(p,_){this.indexes_=p,this.indexSet_=_}return Object.defineProperty(g,"Default",{get:function(){return(0,G.hu)(Sl&&Kn,"ChildrenNode.ts has not been loaded"),Dl=Dl||new g({".priority":Sl},{".priority":Kn})},enumerable:!1,configurable:!0}),g.prototype.get=function(p){var _=(0,G.DV)(this.indexes_,p);if(!_)throw new Error("No index defined for "+p);return _ instanceof co?_:null},g.prototype.hasIndex=function(p){return(0,G.r3)(this.indexSet_,p.toString())},g.prototype.addIndex=function(p,_){(0,G.hu)(p!==Wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var w=[],M=!1,R=_.getIterator(bn.Wrap),V=R.getNext();V;)M=M||p.isDefinedOn(V.node),w.push(V),V=R.getNext();var Y;Y=M?ls(w,p.getCompare()):Sl;var X=p.toString(),oe=(0,ae.pi)({},this.indexSet_);oe[X]=p;var ce=(0,ae.pi)({},this.indexes_);return ce[X]=Y,new g(ce,oe)},g.prototype.addToIndexes=function(p,_){var w=this;return new g((0,G.UI)(this.indexes_,function(R,V){var Y=(0,G.DV)(w.indexSet_,V);if((0,G.hu)(Y,"Missing index implementation for "+V),R===Sl){if(Y.isDefinedOn(p.node)){for(var X=[],oe=_.getIterator(bn.Wrap),ce=oe.getNext();ce;)ce.name!==p.name&&X.push(ce),ce=oe.getNext();return X.push(p),ls(X,Y.getCompare())}return Sl}var xe=_.get(p.name),Ge=R;return xe&&(Ge=Ge.remove(new bn(p.name,xe))),Ge.insert(p,p.node)}),this.indexSet_)},g.prototype.removeFromIndexes=function(p,_){return new g((0,G.UI)(this.indexes_,function(M){if(M===Sl)return M;var R=_.get(p.name);return R?M.remove(new bn(p.name,R)):M}),this.indexSet_)},g}(),F=function(){function g(p,_,w){this.children_=p,this.priorityNode_=_,this.indexMap_=w,this.lazyHash_=null,this.priorityNode_&&Ah(this.priorityNode_),this.children_.isEmpty()&&(0,G.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(g,"EMPTY_NODE",{get:function(){return q||(q=new g(new co(No),null,k.Default))},enumerable:!1,configurable:!0}),g.prototype.isLeafNode=function(){return!1},g.prototype.getPriority=function(){return this.priorityNode_||q},g.prototype.updatePriority=function(p){return this.children_.isEmpty()?this:new g(this.children_,p,this.indexMap_)},g.prototype.getImmediateChild=function(p){if(".priority"===p)return this.getPriority();var _=this.children_.get(p);return null===_?q:_},g.prototype.getChild=function(p){var _=rn(p);return null===_?this:this.getImmediateChild(_).getChild(kn(p))},g.prototype.hasChild=function(p){return null!==this.children_.get(p)},g.prototype.updateImmediateChild=function(p,_){if((0,G.hu)(_,"We should always be passing snapshot nodes"),".priority"===p)return this.updatePriority(_);var w=new bn(p,_),M=void 0,R=void 0;_.isEmpty()?(M=this.children_.remove(p),R=this.indexMap_.removeFromIndexes(w,this.children_)):(M=this.children_.insert(p,_),R=this.indexMap_.addToIndexes(w,this.children_));var V=M.isEmpty()?q:this.priorityNode_;return new g(M,V,R)},g.prototype.updateChild=function(p,_){var w=rn(p);if(null===w)return _;(0,G.hu)(".priority"!==rn(p)||1===Po(p),".priority must be the last token in a path");var M=this.getImmediateChild(w).updateChild(kn(p),_);return this.updateImmediateChild(w,M)},g.prototype.isEmpty=function(){return this.children_.isEmpty()},g.prototype.numChildren=function(){return this.children_.count()},g.prototype.val=function(p){if(this.isEmpty())return null;var _={},w=0,M=0,R=!0;if(this.forEachChild(Kn,function(X,oe){_[X]=oe.val(p),w++,R&&g.INTEGER_REGEXP_.test(X)?M=Math.max(M,Number(X)):R=!1}),!p&&R&&M<2*w){var V=[];for(var Y in _)V[Y]=_[Y];return V}return p&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_},g.prototype.hash=function(){if(null===this.lazyHash_){var p="";this.getPriority().isEmpty()||(p+="priority:"+Tl(this.getPriority().val())+":"),this.forEachChild(Kn,function(_,w){var M=w.hash();""!==M&&(p+=":"+_+":"+M)}),this.lazyHash_=""===p?"":at(p)}return this.lazyHash_},g.prototype.getPredecessorChildName=function(p,_,w){var M=this.resolveIndex_(w);if(M){var R=M.getPredecessorKey(new bn(p,_));return R?R.name:null}return this.children_.getPredecessorKey(p)},g.prototype.getFirstChildName=function(p){var _=this.resolveIndex_(p);if(_){var w=_.minKey();return w&&w.name}return this.children_.minKey()},g.prototype.getFirstChild=function(p){var _=this.getFirstChildName(p);return _?new bn(_,this.children_.get(_)):null},g.prototype.getLastChildName=function(p){var _=this.resolveIndex_(p);if(_){var w=_.maxKey();return w&&w.name}return this.children_.maxKey()},g.prototype.getLastChild=function(p){var _=this.getLastChildName(p);return _?new bn(_,this.children_.get(_)):null},g.prototype.forEachChild=function(p,_){var w=this.resolveIndex_(p);return w?w.inorderTraversal(function(M){return _(M.name,M.node)}):this.children_.inorderTraversal(_)},g.prototype.getIterator=function(p){return this.getIteratorFrom(p.minPost(),p)},g.prototype.getIteratorFrom=function(p,_){var w=this.resolveIndex_(_);if(w)return w.getIteratorFrom(p,function(V){return V});for(var M=this.children_.getIteratorFrom(p.name,bn.Wrap),R=M.peek();null!=R&&_.compare(R,p)<0;)M.getNext(),R=M.peek();return M},g.prototype.getReverseIterator=function(p){return this.getReverseIteratorFrom(p.maxPost(),p)},g.prototype.getReverseIteratorFrom=function(p,_){var w=this.resolveIndex_(_);if(w)return w.getReverseIteratorFrom(p,function(V){return V});for(var M=this.children_.getReverseIteratorFrom(p.name,bn.Wrap),R=M.peek();null!=R&&_.compare(R,p)>0;)M.getNext(),R=M.peek();return M},g.prototype.compareTo=function(p){return this.isEmpty()?p.isEmpty()?0:-1:p.isLeafNode()||p.isEmpty()?1:p===he?-1:0},g.prototype.withIndex=function(p){if(p===Wi||this.indexMap_.hasIndex(p))return this;var _=this.indexMap_.addIndex(p,this.children_);return new g(this.children_,this.priorityNode_,_)},g.prototype.isIndexed=function(p){return p===Wi||this.indexMap_.hasIndex(p)},g.prototype.equals=function(p){if(p===this)return!0;if(p.isLeafNode())return!1;var _=p;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){for(var w=this.getIterator(Kn),M=_.getIterator(Kn),R=w.getNext(),V=M.getNext();R&&V;){if(R.name!==V.name||!R.node.equals(V.node))return!1;R=w.getNext(),V=M.getNext()}return null===R&&null===V}return!1}return!1},g.prototype.resolveIndex_=function(p){return p===Wi?null:this.indexMap_.get(p.toString())},g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g}(),he=new(function(g){function p(){return g.call(this,new co(No),F.EMPTY_NODE,k.Default)||this}return(0,ae.ZT)(p,g),p.prototype.compareTo=function(_){return _===this?0:1},p.prototype.equals=function(_){return _===this},p.prototype.getPriority=function(){return this},p.prototype.getImmediateChild=function(_){return F.EMPTY_NODE},p.prototype.isEmpty=function(){return!1},p}(F));function Le(g,p){if(void 0===p&&(p=null),null===g)return F.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(p=g[".priority"]),(0,G.hu)(null===p||"string"==typeof p||"number"==typeof p||"object"==typeof p&&".sv"in p,"Invalid priority type found: "+typeof p),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new Ks(g,Le(p));if(g instanceof Array){var X=F.EMPTY_NODE;return _t(g,function(oe,ce){if((0,G.r3)(g,oe)&&"."!==oe.substring(0,1)){var xe=Le(ce);(xe.isLeafNode()||!xe.isEmpty())&&(X=X.updateImmediateChild(oe,xe))}}),X.updatePriority(Le(p))}var w=[],M=!1;if(_t(g,function(oe,ce){if("."!==oe.substring(0,1)){var xe=Le(ce);xe.isEmpty()||(M=M||!xe.getPriority().isEmpty(),w.push(new bn(oe,xe)))}}),0===w.length)return F.EMPTY_NODE;var V=ls(w,wl,function(oe){return oe.name},No);if(M){var Y=ls(w,Kn.getCompare());return new F(V,Le(p),new k({".priority":Y},{".priority":Kn}))}return new F(V,Le(p),k.Default)}Object.defineProperties(bn,{MIN:{value:new bn(De,F.EMPTY_NODE)},MAX:{value:new bn(qe,he)}}),Cd.__EMPTY_NODE=F.EMPTY_NODE,Ks.__childrenNodeConstructor=F,function(g){vc=g}(he),function(g){Eu=g}(he),function(g){Cu=g}(Le);var Mt=function(g){function p(_){var w=g.call(this)||this;return w.indexPath_=_,(0,G.hu)(!un(_)&&".priority"!==rn(_),"Can't create PathIndex with empty path or .priority key"),w}return(0,ae.ZT)(p,g),p.prototype.extractChild=function(_){return _.getChild(this.indexPath_)},p.prototype.isDefinedOn=function(_){return!_.getChild(this.indexPath_).isEmpty()},p.prototype.compare=function(_,w){var M=this.extractChild(_.node),R=this.extractChild(w.node),V=M.compareTo(R);return 0===V?Re(_.name,w.name):V},p.prototype.makePost=function(_,w){var M=Le(_),R=F.EMPTY_NODE.updateChild(this.indexPath_,M);return new bn(w,R)},p.prototype.maxPost=function(){var _=F.EMPTY_NODE.updateChild(this.indexPath_,he);return new bn(qe,_)},p.prototype.toString=function(){return Ro(this.indexPath_,0).join("/")},p}(Cl),rr=new(function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,ae.ZT)(p,g),p.prototype.compare=function(_,w){var M=_.node.compareTo(w.node);return 0===M?Re(_.name,w.name):M},p.prototype.isDefinedOn=function(_){return!0},p.prototype.indexedValueChanged=function(_,w){return!_.equals(w)},p.prototype.minPost=function(){return bn.MIN},p.prototype.maxPost=function(){return bn.MAX},p.prototype.makePost=function(_,w){var M=Le(_);return new bn(w,M)},p.prototype.toString=function(){return".value"},p}(Cl)),Pn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jr=function(){var g=0,p=[];return function(_){var w=_===g;g=_;var M,R=new Array(8);for(M=7;M>=0;M--)R[M]=Pn.charAt(_%64),_=Math.floor(_/64);(0,G.hu)(0===_,"Cannot push at time == 0");var V=R.join("");if(w){for(M=11;M>=0&&63===p[M];M--)p[M]=0;p[M]++}else for(M=0;M<12;M++)p[M]=Math.floor(64*Math.random());for(M=0;M<12;M++)V+=Pn.charAt(p[M]);return(0,G.hu)(20===V.length,"nextPushId: Length should be 20."),V}}(),Tu=function(g){if(g===""+Qe)return"-";var p=ct(g);if(null!=p)return""+(p+1);for(var _=new Array(g.length),w=0;w<_.length;w++)_[w]=g.charAt(w);if(_.length<786)return _.push("-"),_.join("");for(var M=_.length-1;M>=0&&"z"===_[M];)M--;if(-1===M)return qe;var V=Pn.charAt(Pn.indexOf(_[M])+1);return _[M]=V,_.slice(0,M+1).join("")},Ii=function(g){if(g===""+$e)return De;var p=ct(g);if(null!=p)return""+(p-1);for(var _=new Array(g.length),w=0;w<_.length;w++)_[w]=g.charAt(w);return"-"===_[_.length-1]?1===_.length?""+Qe:(delete _[_.length-1],_.join("")):(_[_.length-1]=Pn.charAt(Pn.indexOf(_[_.length-1])-1),_.join("")+"z".repeat(786-_.length))};function Du(g){return{type:"value",snapshotNode:g}}function Xr(g,p){return{type:"child_added",snapshotNode:p,childName:g}}function Nt(g,p){return{type:"child_removed",snapshotNode:p,childName:g}}function Pa(g,p,_){return{type:"child_changed",snapshotNode:p,childName:g,oldSnap:_}}var xh=function(){function g(p){this.index_=p}return g.prototype.updateChild=function(p,_,w,M,R,V){(0,G.hu)(p.isIndexed(this.index_),"A node must be indexed if only a child is updated");var Y=p.getImmediateChild(_);return Y.getChild(M).equals(w.getChild(M))&&Y.isEmpty()===w.isEmpty()||(null!=V&&(w.isEmpty()?p.hasChild(_)?V.trackChildChange(Nt(_,Y)):(0,G.hu)(p.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Y.isEmpty()?V.trackChildChange(Xr(_,w)):V.trackChildChange(Pa(_,w,Y))),p.isLeafNode()&&w.isEmpty())?p:p.updateImmediateChild(_,w).withIndex(this.index_)},g.prototype.updateFullNode=function(p,_,w){return null!=w&&(p.isLeafNode()||p.forEachChild(Kn,function(M,R){_.hasChild(M)||w.trackChildChange(Nt(M,R))}),_.isLeafNode()||_.forEachChild(Kn,function(M,R){if(p.hasChild(M)){var V=p.getImmediateChild(M);V.equals(R)||w.trackChildChange(Pa(M,R,V))}else w.trackChildChange(Xr(M,R))})),_.withIndex(this.index_)},g.prototype.updatePriority=function(p,_){return p.isEmpty()?F.EMPTY_NODE:p.updatePriority(_)},g.prototype.filtersNodes=function(){return!1},g.prototype.getIndexedFilter=function(){return this},g.prototype.getIndex=function(){return this.index_},g}(),Il=function(){function g(p){this.indexedFilter_=new xh(p.getIndex()),this.index_=p.getIndex(),this.startPost_=g.getStartPost_(p),this.endPost_=g.getEndPost_(p)}return g.prototype.getStartPost=function(){return this.startPost_},g.prototype.getEndPost=function(){return this.endPost_},g.prototype.matches=function(p){return this.index_.compare(this.getStartPost(),p)<=0&&this.index_.compare(p,this.getEndPost())<=0},g.prototype.updateChild=function(p,_,w,M,R,V){return this.matches(new bn(_,w))||(w=F.EMPTY_NODE),this.indexedFilter_.updateChild(p,_,w,M,R,V)},g.prototype.updateFullNode=function(p,_,w){_.isLeafNode()&&(_=F.EMPTY_NODE);var M=_.withIndex(this.index_);M=M.updatePriority(F.EMPTY_NODE);var R=this;return _.forEachChild(Kn,function(V,Y){R.matches(new bn(V,Y))||(M=M.updateImmediateChild(V,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(p,M,w)},g.prototype.updatePriority=function(p,_){return p},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.indexedFilter_},g.prototype.getIndex=function(){return this.index_},g.getStartPost_=function(p){if(p.hasStart()){var _=p.getIndexStartName();return p.getIndex().makePost(p.getIndexStartValue(),_)}return p.getIndex().minPost()},g.getEndPost_=function(p){if(p.hasEnd()){var _=p.getIndexEndName();return p.getIndex().makePost(p.getIndexEndValue(),_)}return p.getIndex().maxPost()},g}(),dg=function(){function g(p){this.rangedFilter_=new Il(p),this.index_=p.getIndex(),this.limit_=p.getLimit(),this.reverse_=!p.isViewFromLeft()}return g.prototype.updateChild=function(p,_,w,M,R,V){return this.rangedFilter_.matches(new bn(_,w))||(w=F.EMPTY_NODE),p.getImmediateChild(_).equals(w)?p:p.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(p,_,w,M,R,V):this.fullLimitUpdateChild_(p,_,w,R,V)},g.prototype.updateFullNode=function(p,_,w){var M;if(_.isLeafNode()||_.isEmpty())M=F.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<_.numChildren()&&_.isIndexed(this.index_)){M=F.EMPTY_NODE.withIndex(this.index_);var R=void 0;R=this.reverse_?_.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):_.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var V=0;R.hasNext()&&V<this.limit_;){var Y=R.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Y)<=0:this.index_.compare(Y,this.rangedFilter_.getEndPost())<=0))break;M=M.updateImmediateChild(Y.name,Y.node),V++}}else{M=(M=_.withIndex(this.index_)).updatePriority(F.EMPTY_NODE);var oe=void 0,ce=void 0,xe=void 0;if(R=void 0,this.reverse_){R=M.getReverseIterator(this.index_),oe=this.rangedFilter_.getEndPost(),ce=this.rangedFilter_.getStartPost();var Ge=this.index_.getCompare();xe=function(kt,sn){return Ge(sn,kt)}}else R=M.getIterator(this.index_),oe=this.rangedFilter_.getStartPost(),ce=this.rangedFilter_.getEndPost(),xe=this.index_.getCompare();V=0;for(var Xe=!1;R.hasNext();)Y=R.getNext(),!Xe&&xe(oe,Y)<=0&&(Xe=!0),Xe&&V<this.limit_&&xe(Y,ce)<=0?V++:M=M.updateImmediateChild(Y.name,F.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(p,M,w)},g.prototype.updatePriority=function(p,_){return p},g.prototype.filtersNodes=function(){return!0},g.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},g.prototype.getIndex=function(){return this.index_},g.prototype.fullLimitUpdateChild_=function(p,_,w,M,R){var V;if(this.reverse_){var Y=this.index_.getCompare();V=function(Er,es){return Y(es,Er)}}else V=this.index_.getCompare();var X=p;(0,G.hu)(X.numChildren()===this.limit_,"");var oe=new bn(_,w),ce=this.reverse_?X.getFirstChild(this.index_):X.getLastChild(this.index_),xe=this.rangedFilter_.matches(oe);if(X.hasChild(_)){for(var Ge=X.getImmediateChild(_),Xe=M.getChildAfterChild(this.index_,ce,this.reverse_);null!=Xe&&(Xe.name===_||X.hasChild(Xe.name));)Xe=M.getChildAfterChild(this.index_,Xe,this.reverse_);var Ct=null==Xe?1:V(Xe,oe);if(xe&&!w.isEmpty()&&Ct>=0)return null!=R&&R.trackChildChange(Pa(_,w,Ge)),X.updateImmediateChild(_,w);null!=R&&R.trackChildChange(Nt(_,Ge));var kt=X.updateImmediateChild(_,F.EMPTY_NODE);return null!=Xe&&this.rangedFilter_.matches(Xe)?(null!=R&&R.trackChildChange(Xr(Xe.name,Xe.node)),kt.updateImmediateChild(Xe.name,Xe.node)):kt}return w.isEmpty()?p:xe&&V(ce,oe)>=0?(null!=R&&(R.trackChildChange(Nt(ce.name,ce.node)),R.trackChildChange(Xr(_,w))),X.updateImmediateChild(_,w).updateImmediateChild(ce.name,F.EMPTY_NODE)):p},g}(),hg=function(){function g(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}return g.prototype.hasStart=function(){return this.startSet_},g.prototype.hasStartAfter=function(){return this.startAfterSet_},g.prototype.hasEndBefore=function(){return this.endBeforeSet_},g.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},g.prototype.getIndexStartValue=function(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},g.prototype.getIndexStartName=function(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:De},g.prototype.hasEnd=function(){return this.endSet_},g.prototype.getIndexEndValue=function(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},g.prototype.getIndexEndName=function(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qe},g.prototype.hasLimit=function(){return this.limitSet_},g.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},g.prototype.getLimit=function(){return(0,G.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},g.prototype.getIndex=function(){return this.index_},g.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},g.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Kn},g.prototype.copy=function(){var p=new g;return p.limitSet_=this.limitSet_,p.limit_=this.limit_,p.startSet_=this.startSet_,p.indexStartValue_=this.indexStartValue_,p.startNameSet_=this.startNameSet_,p.indexStartName_=this.indexStartName_,p.endSet_=this.endSet_,p.indexEndValue_=this.indexEndValue_,p.endNameSet_=this.endNameSet_,p.indexEndName_=this.indexEndName_,p.index_=this.index_,p.viewFrom_=this.viewFrom_,p},g}();function Oh(g,p,_){var w=g.copy();return w.startSet_=!0,void 0===p&&(p=null),w.indexStartValue_=p,null!=_?(w.startNameSet_=!0,w.indexStartName_=_):(w.startNameSet_=!1,w.indexStartName_=""),w}function Cc(g,p,_){var w=g.copy();return w.endSet_=!0,void 0===p&&(p=null),w.indexEndValue_=p,void 0!==_?(w.endNameSet_=!0,w.indexEndName_=_):(w.endNameSet_=!1,w.indexEndName_=""),w}function ho(g,p){var _=g.copy();return _.index_=p,_}function wc(g){var _,p={};return g.isDefault()||(g.index_===Kn?_="$priority":g.index_===rr?_="$value":g.index_===Wi?_="$key":((0,G.hu)(g.index_ instanceof Mt,"Unrecognized index type!"),_=g.index_.toString()),p.orderBy=(0,G.Pz)(_),g.startSet_&&(p.startAt=(0,G.Pz)(g.indexStartValue_),g.startNameSet_&&(p.startAt+=","+(0,G.Pz)(g.indexStartName_))),g.endSet_&&(p.endAt=(0,G.Pz)(g.indexEndValue_),g.endNameSet_&&(p.endAt+=","+(0,G.Pz)(g.indexEndName_))),g.limitSet_&&(g.isViewFromLeft()?p.limitToFirst=g.limit_:p.limitToLast=g.limit_)),p}function Ph(g){var p={};if(g.startSet_&&(p.sp=g.indexStartValue_,g.startNameSet_&&(p.sn=g.indexStartName_)),g.endSet_&&(p.ep=g.indexEndValue_,g.endNameSet_&&(p.en=g.indexEndName_)),g.limitSet_){p.l=g.limit_;var _=g.viewFrom_;""===_&&(_=g.isViewFromLeft()?"l":"r"),p.vf=_}return g.index_!==Kn&&(p.i=g.index_.toString()),p}var D_=function(g){function p(_,w,M,R){var V=g.call(this)||this;return V.repoInfo_=_,V.onDataUpdate_=w,V.authTokenProvider_=M,V.appCheckTokenProvider_=R,V.log_=Kt("p:rest:"),V.listens_={},V}return(0,ae.ZT)(p,g),p.prototype.reportStats=function(_){throw new Error("Method not implemented.")},p.getListenId_=function(_,w){return void 0!==w?"tag$"+w:((0,G.hu)(_._queryParams.isDefault(),"should have a tag if it's not a default query."),_._path.toString())},p.prototype.listen=function(_,w,M,R){var V=this,Y=_._path.toString();this.log_("Listen called for "+Y+" "+_._queryIdentifier);var X=p.getListenId_(_,M),oe={};this.listens_[X]=oe;var ce=wc(_._queryParams);this.restRequest_(Y+".json",ce,function(xe,Ge){var Xe=Ge;404===xe&&(Xe=null,xe=null),null===xe&&V.onDataUpdate_(Y,Xe,!1,M),(0,G.DV)(V.listens_,X)===oe&&R(xe?401===xe?"permission_denied":"rest_error:"+xe:"ok",null)})},p.prototype.unlisten=function(_,w){var M=p.getListenId_(_,w);delete this.listens_[M]},p.prototype.get=function(_){var w=this,M=wc(_._queryParams),R=_._path.toString(),V=new G.BH;return this.restRequest_(R+".json",M,function(Y,X){var oe=X;404===Y&&(oe=null,Y=null),null===Y?(w.onDataUpdate_(R,oe,!1,null),V.resolve(oe)):V.reject(new Error(oe))}),V.promise},p.prototype.refreshAuthToken=function(_){},p.prototype.restRequest_=function(_,w,M){var R=this;return void 0===w&&(w={}),w.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(V){var Y=(0,ae.CR)(V,2),X=Y[0],oe=Y[1];X&&X.accessToken&&(w.auth=X.accessToken),oe&&oe.token&&(w.ac=oe.token);var ce=(R.repoInfo_.secure?"https://":"http://")+R.repoInfo_.host+_+"?ns="+R.repoInfo_.namespace+(0,G.xO)(w);R.log_("Sending REST request for "+ce);var xe=new XMLHttpRequest;xe.onreadystatechange=function(){if(M&&4===xe.readyState){R.log_("REST Response for "+ce+" received. status:",xe.status,"response:",xe.responseText);var Ge=null;if(xe.status>=200&&xe.status<300){try{Ge=(0,G.cI)(xe.responseText)}catch(Xe){xn("Failed to parse JSON response for "+ce+": "+xe.responseText)}M(null,Ge)}else 401!==xe.status&&404!==xe.status&&xn("Got unsuccessful REST response for "+ce+" Status: "+xe.status),M(xe.status);M=null}},xe.open("GET",ce,!0),xe.send()})},p}(nr),Zm=function(){function g(){this.rootNode_=F.EMPTY_NODE}return g.prototype.getNode=function(p){return this.rootNode_.getChild(p)},g.prototype.updateSnapshot=function(p,_){this.rootNode_=this.rootNode_.updateChild(p,_)},g}();function Ys(){return{value:null,children:new Map}}function ko(g,p,_){if(un(p))g.value=_,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild(p,_);else{var w=rn(p);g.children.has(w)||g.children.set(w,Ys()),ko(g.children.get(w),p=kn(p),_)}}function Br(g,p){if(un(p))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;var _=g.value;return g.value=null,_.forEachChild(Kn,function(R,V){ko(g,new yn(R),V)}),Br(g,p)}if(g.children.size>0){var w=rn(p);return p=kn(p),g.children.has(w)&&Br(g.children.get(w),p)&&g.children.delete(w),0===g.children.size}return!0}function fo(g,p,_){null!==g.value?_(p,g.value):function(g,p){g.children.forEach(function(_,w){p(w,_)})}(g,function(w,M){fo(M,new yn(p.toString()+"/"+w),_)})}var Ts=function(){function g(p){this.collection_=p,this.last_=null}return g.prototype.get=function(){var p=this.collection_.get(),_=(0,ae.pi)({},p);return this.last_&&_t(this.last_,function(w,M){_[w]=_[w]-M}),this.last_=p,_},g}(),pg=function(){function g(p,_){this.server_=_,this.statsToReport_={},this.statsListener_=new Ts(p);var w=1e4+2e4*Math.random();Xt(this.reportStats_.bind(this),Math.floor(w))}return g.prototype.reportStats_=function(){var p=this,_=this.statsListener_.get(),w={},M=!1;_t(_,function(R,V){V>0&&(0,G.r3)(p.statsToReport_,R)&&(w[R]=V,M=!0)}),M&&this.server_.reportStats(w),Xt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},g}(),go=(()=>(function(g){g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(go||(go={})),go))();function Tc(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}var gg=function(){function g(p,_,w){this.path=p,this.affectedTree=_,this.revert=w,this.type=go.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g.prototype.operationForChild=function(p){if(un(this.path)){if(null!=this.affectedTree.value)return(0,G.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var _=this.affectedTree.subtree(new yn(p));return new g(xt(),_,this.revert)}return(0,G.hu)(rn(this.path)===p,"operationForChild called for unrelated child."),new g(kn(this.path),this.affectedTree,this.revert)},g}(),Nh=function(){function g(p,_){this.source=p,this.path=_,this.type=go.LISTEN_COMPLETE}return g.prototype.operationForChild=function(p){return un(this.path)?new g(this.source,xt()):new g(this.source,kn(this.path))},g}(),Qs=function(){function g(p,_,w){this.source=p,this.path=_,this.snap=w,this.type=go.OVERWRITE}return g.prototype.operationForChild=function(p){return un(this.path)?new g(this.source,xt(),this.snap.getImmediateChild(p)):new g(this.source,kn(this.path),this.snap)},g}(),Td=function(){function g(p,_,w){this.source=p,this.path=_,this.children=w,this.type=go.MERGE}return g.prototype.operationForChild=function(p){if(un(this.path)){var _=this.children.subtree(new yn(p));return _.isEmpty()?null:_.value?new Qs(this.source,xt(),_.value):new g(this.source,xt(),_)}return(0,G.hu)(rn(this.path)===p,"Can't get a merge for a child not on the path of the operation"),new g(this.source,kn(this.path),this.children)},g.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g}(),di=function(){function g(p,_,w){this.node_=p,this.fullyInitialized_=_,this.filtered_=w}return g.prototype.isFullyInitialized=function(){return this.fullyInitialized_},g.prototype.isFiltered=function(){return this.filtered_},g.prototype.isCompleteForPath=function(p){if(un(p))return this.isFullyInitialized()&&!this.filtered_;var _=rn(p);return this.isCompleteForChild(_)},g.prototype.isCompleteForChild=function(p){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(p)},g.prototype.getNode=function(){return this.node_},g}(),Fh=function(p){this.query_=p,this.index_=this.query_._queryParams.getIndex()};function mo(g,p,_,w,M,R){var V=w.filter(function(Y){return Y.type===_});V.sort(function(Y,X){return function(g,p,_){if(null==p.childName||null==_.childName)throw(0,G.g5)("Should only compare child_ events.");var w=new bn(p.childName,p.snapshotNode),M=new bn(_.childName,_.snapshotNode);return g.index_.compare(w,M)}(g,Y,X)}),V.forEach(function(Y){var X=function(g,p,_){return"value"===p.type||"child_removed"===p.type||(p.prevName=_.getPredecessorChildName(p.childName,p.snapshotNode,g.index_)),p}(g,Y,R);M.forEach(function(oe){oe.respondsTo(Y.type)&&p.push(oe.createEvent(X,g.query_))})})}function Fr(g,p){return{eventCache:g,serverCache:p}}function Ai(g,p,_,w){return Fr(new di(p,_,w),g.serverCache)}function Qn(g,p,_,w){return Fr(g.eventCache,new di(p,_,w))}function Js(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function Ds(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}var kh,hi=function(){function g(p,_){void 0===_&&(kh||(kh=new co(gt)),_=kh),this.value=p,this.children=_}return g.fromObject=function(p){var _=new g(null);return _t(p,function(w,M){_=_.set(new yn(w),M)}),_},g.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},g.prototype.findRootMostMatchingPathAndValue=function(p,_){if(null!=this.value&&_(this.value))return{path:xt(),value:this.value};if(un(p))return null;var w=rn(p),M=this.children.get(w);if(null!==M){var R=M.findRootMostMatchingPathAndValue(kn(p),_);return null!=R?{path:_n(new yn(w),R.path),value:R.value}:null}return null},g.prototype.findRootMostValueAndPath=function(p){return this.findRootMostMatchingPathAndValue(p,function(){return!0})},g.prototype.subtree=function(p){if(un(p))return this;var _=rn(p),w=this.children.get(_);return null!==w?w.subtree(kn(p)):new g(null)},g.prototype.set=function(p,_){if(un(p))return new g(_,this.children);var w=rn(p),R=(this.children.get(w)||new g(null)).set(kn(p),_),V=this.children.insert(w,R);return new g(this.value,V)},g.prototype.remove=function(p){if(un(p))return this.children.isEmpty()?new g(null):new g(null,this.children);var _=rn(p),w=this.children.get(_);if(w){var M=w.remove(kn(p)),R=void 0;return R=M.isEmpty()?this.children.remove(_):this.children.insert(_,M),null===this.value&&R.isEmpty()?new g(null):new g(this.value,R)}return this},g.prototype.get=function(p){if(un(p))return this.value;var _=rn(p),w=this.children.get(_);return w?w.get(kn(p)):null},g.prototype.setTree=function(p,_){if(un(p))return _;var V,w=rn(p),R=(this.children.get(w)||new g(null)).setTree(kn(p),_);return V=R.isEmpty()?this.children.remove(w):this.children.insert(w,R),new g(this.value,V)},g.prototype.fold=function(p){return this.fold_(xt(),p)},g.prototype.fold_=function(p,_){var w={};return this.children.inorderTraversal(function(M,R){w[M]=R.fold_(_n(p,M),_)}),_(p,this.value,w)},g.prototype.findOnPath=function(p,_){return this.findOnPath_(p,xt(),_)},g.prototype.findOnPath_=function(p,_,w){var M=!!this.value&&w(_,this.value);if(M)return M;if(un(p))return null;var R=rn(p),V=this.children.get(R);return V?V.findOnPath_(kn(p),_n(_,R),w):null},g.prototype.foreachOnPath=function(p,_){return this.foreachOnPath_(p,xt(),_)},g.prototype.foreachOnPath_=function(p,_,w){if(un(p))return this;this.value&&w(_,this.value);var M=rn(p),R=this.children.get(M);return R?R.foreachOnPath_(kn(p),_n(_,M),w):new g(null)},g.prototype.foreach=function(p){this.foreach_(xt(),p)},g.prototype.foreach_=function(p,_){this.children.inorderTraversal(function(w,M){M.foreach_(_n(p,w),_)}),this.value&&_(p,this.value)},g.prototype.foreachChild=function(p){this.children.inorderTraversal(function(_,w){w.value&&p(_,w.value)})},g}(),Ss=function(){function g(p){this.writeTree_=p}return g.empty=function(){return new g(new hi(null))},g}();function Ra(g,p,_){if(un(p))return new Ss(new hi(_));var w=g.writeTree_.findRootMostValueAndPath(p);if(null!=w){var M=w.path,R=w.value,V=_r(M,p);return R=R.updateChild(V,_),new Ss(g.writeTree_.set(M,R))}var Y=new hi(_),X=g.writeTree_.setTree(p,Y);return new Ss(X)}function Au(g,p,_){var w=g;return _t(_,function(M,R){w=Ra(w,_n(p,M),R)}),w}function Lo(g,p){if(un(p))return Ss.empty();var _=g.writeTree_.setTree(p,new hi(null));return new Ss(_)}function Sc(g,p){return null!=yo(g,p)}function yo(g,p){var _=g.writeTree_.findRootMostValueAndPath(p);return null!=_?g.writeTree_.get(_.path).getChild(_r(_.path,p)):null}function _o(g){var p=[],_=g.writeTree_.value;return null!=_?_.isLeafNode()||_.forEachChild(Kn,function(w,M){p.push(new bn(w,M))}):g.writeTree_.children.inorderTraversal(function(w,M){null!=M.value&&p.push(new bn(w,M.value))}),p}function ei(g,p){if(un(p))return g;var _=yo(g,p);return new Ss(null!=_?new hi(_):g.writeTree_.subtree(p))}function ti(g){return g.writeTree_.isEmpty()}function Na(g,p){return Zf(xt(),g.writeTree_,p)}function Zf(g,p,_){if(null!=p.value)return _.updateChild(g,p.value);var w=null;return p.children.inorderTraversal(function(M,R){".priority"===M?((0,G.hu)(null!==R.value,"Priority writes must always be leaf nodes"),w=R.value):_=Zf(_n(g,M),R,_)}),!_.getChild(g).isEmpty()&&null!==w&&(_=_.updateChild(_n(g,".priority"),w)),_}function vo(g,p){return dt(p,g)}function Jm(g,p){if(g.snap)return Si(g.path,p);for(var _ in g.children)if(g.children.hasOwnProperty(_)&&Si(_n(g.path,_),p))return!0;return!1}function Ic(g){return g.visible}function Ac(g,p,_){for(var w=Ss.empty(),M=0;M<g.length;++M){var R=g[M];if(p(R)){var V=R.path,Y=void 0;if(R.snap)Si(_,V)?w=Ra(w,Y=_r(_,V),R.snap):Si(V,_)&&(Y=_r(V,_),w=Ra(w,xt(),R.snap.getChild(Y)));else{if(!R.children)throw(0,G.g5)("WriteRecord should have .snap or .children");if(Si(_,V))w=Au(w,Y=_r(_,V),R.children);else if(Si(V,_))if(un(Y=_r(V,_)))w=Au(w,xt(),R.children);else{var X=(0,G.DV)(R.children,rn(Y));if(X){var oe=X.getChild(kn(Y));w=Ra(w,xt(),oe)}}}}}return w}function ka(g,p,_,w,M){if(w||M){var X=ei(g.visibleWrites,p);return!M&&ti(X)?_:M||null!=_||Sc(X,xt())?Na(Ac(g.allWrites,function(Ge){return(Ge.visible||M)&&(!w||!~w.indexOf(Ge.writeId))&&(Si(Ge.path,p)||Si(p,Ge.path))},p),_||F.EMPTY_NODE):null}var R=yo(g.visibleWrites,p);if(null!=R)return R;var V=ei(g.visibleWrites,p);return ti(V)?_:null!=_||Sc(V,xt())?Na(V,_||F.EMPTY_NODE):null}function Ml(g,p,_,w){return ka(g.writeTree,g.treePath,p,_,w)}function mg(g,p){return function(g,p,_){var w=F.EMPTY_NODE,M=yo(g.visibleWrites,p);if(M)return M.isLeafNode()||M.forEachChild(Kn,function(Y,X){w=w.updateImmediateChild(Y,X)}),w;if(_){var R=ei(g.visibleWrites,p);return _.forEachChild(Kn,function(Y,X){var oe=Na(ei(R,new yn(Y)),X);w=w.updateImmediateChild(Y,oe)}),_o(R).forEach(function(Y){w=w.updateImmediateChild(Y.name,Y.node)}),w}return _o(ei(g.visibleWrites,p)).forEach(function(Y){w=w.updateImmediateChild(Y.name,Y.node)}),w}(g.writeTree,g.treePath,p)}function fi(g,p,_,w){return function(g,p,_,w,M){(0,G.hu)(w||M,"Either existingEventSnap or existingServerSnap must exist");var R=_n(p,_);if(Sc(g.visibleWrites,R))return null;var V=ei(g.visibleWrites,R);return ti(V)?M.getChild(_):Na(V,M.getChild(_))}(g.writeTree,g.treePath,p,_,w)}function ke(g,p){return function(g,p){return yo(g.visibleWrites,p)}(g.writeTree,_n(g.treePath,p))}function bo(g,p,_){return function(g,p,_,w){var M=_n(p,_),R=yo(g.visibleWrites,M);return null!=R?R:w.isCompleteForChild(_)?Na(ei(g.visibleWrites,M),w.getNode().getImmediateChild(_)):null}(g.writeTree,g.treePath,p,_)}function Xs(g,p){return dt(_n(g.treePath,p),g.writeTree)}function dt(g,p){return{treePath:g,writeTree:p}}var Sr=function(){function g(){this.changeMap=new Map}return g.prototype.trackChildChange=function(p){var _=p.type,w=p.childName;(0,G.hu)("child_added"===_||"child_changed"===_||"child_removed"===_,"Only child changes supported for tracking"),(0,G.hu)(".priority"!==w,"Only non-priority child changes can be tracked.");var M=this.changeMap.get(w);if(M){var R=M.type;if("child_added"===_&&"child_removed"===R)this.changeMap.set(w,Pa(w,p.snapshotNode,M.snapshotNode));else if("child_removed"===_&&"child_added"===R)this.changeMap.delete(w);else if("child_removed"===_&&"child_changed"===R)this.changeMap.set(w,Nt(w,M.oldSnap));else if("child_changed"===_&&"child_added"===R)this.changeMap.set(w,Xr(w,p.snapshotNode));else{if("child_changed"!==_||"child_changed"!==R)throw(0,G.g5)("Illegal combination of changes: "+p+" occurred after "+M);this.changeMap.set(w,Pa(w,p.snapshotNode,M.oldSnap))}}else this.changeMap.set(w,p)},g.prototype.getChanges=function(){return Array.from(this.changeMap.values())},g}(),xl=new(function(){function g(){}return g.prototype.getCompleteChild=function(p){return null},g.prototype.getChildAfterChild=function(p,_,w){return null},g}()),Rt=function(){function g(p,_,w){void 0===w&&(w=null),this.writes_=p,this.viewCache_=_,this.optCompleteServerCache_=w}return g.prototype.getCompleteChild=function(p){var _=this.viewCache_.eventCache;if(_.isCompleteForChild(p))return _.getNode().getImmediateChild(p);var w=null!=this.optCompleteServerCache_?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bo(this.writes_,p,w)},g.prototype.getChildAfterChild=function(p,_,w){var M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ds(this.viewCache_),R=function(g,p,_,w,M,R){return function(g,p,_,w,M,R,V){var Y,X=ei(g.visibleWrites,p),oe=yo(X,xt());if(null!=oe)Y=oe;else{if(null==_)return[];Y=Na(X,_)}if((Y=Y.withIndex(V)).isEmpty()||Y.isLeafNode())return[];for(var ce=[],xe=V.getCompare(),Ge=R?Y.getReverseIteratorFrom(w,V):Y.getIteratorFrom(w,V),Xe=Ge.getNext();Xe&&ce.length<M;)0!==xe(Xe,w)&&ce.push(Xe),Xe=Ge.getNext();return ce}(g.writeTree,g.treePath,p,_,w,M,R)}(this.writes_,M,_,1,w,p);return 0===R.length?null:R[0]},g}();function Rn(g,p,_,w,M,R){var V=p.eventCache;if(null!=ke(w,_))return p;var Y=void 0,X=void 0;if(un(_))if((0,G.hu)(p.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),p.serverCache.isFiltered()){var oe=Ds(p),xe=mg(w,oe instanceof F?oe:F.EMPTY_NODE);Y=g.filter.updateFullNode(p.eventCache.getNode(),xe,R)}else{var Ge=Ml(w,Ds(p));Y=g.filter.updateFullNode(p.eventCache.getNode(),Ge,R)}else{var Xe=rn(_);if(".priority"===Xe){(0,G.hu)(1===Po(_),"Can't have a priority with additional path components");var Ct=V.getNode(),zt=fi(w,_,Ct,X=p.serverCache.getNode());Y=null!=zt?g.filter.updatePriority(Ct,zt):V.getNode()}else{var kt=kn(_),sn=void 0;if(V.isCompleteForChild(Xe)){X=p.serverCache.getNode();var Er=fi(w,_,V.getNode(),X);sn=null!=Er?V.getNode().getImmediateChild(Xe).updateChild(kt,Er):V.getNode().getImmediateChild(Xe)}else sn=bo(w,Xe,p.serverCache);Y=null!=sn?g.filter.updateChild(V.getNode(),Xe,sn,kt,M,R):V.getNode()}}return Ai(p,Y,V.isFullyInitialized()||un(_),g.filter.filtersNodes())}function La(g,p,_,w,M,R,V,Y){var oe,X=p.serverCache,ce=V?g.filter:g.filter.getIndexedFilter();if(un(_))oe=ce.updateFullNode(X.getNode(),w,null);else if(ce.filtersNodes()&&!X.isFiltered()){var xe=X.getNode().updateChild(_,w);oe=ce.updateFullNode(X.getNode(),xe,null)}else{var Ge=rn(_);if(!X.isCompleteForPath(_)&&Po(_)>1)return p;var Xe=kn(_),zt=X.getNode().getImmediateChild(Ge).updateChild(Xe,w);oe=".priority"===Ge?ce.updatePriority(X.getNode(),zt):ce.updateChild(X.getNode(),Ge,zt,Xe,xl,null)}var kt=Qn(p,oe,X.isFullyInitialized()||un(_),ce.filtersNodes());return Rn(g,kt,_,M,new Rt(M,kt,R),Y)}function Ol(g,p,_,w,M,R,V){var X,oe,Y=p.eventCache,ce=new Rt(M,p,R);if(un(_))oe=g.filter.updateFullNode(p.eventCache.getNode(),w,V),X=Ai(p,oe,!0,g.filter.filtersNodes());else{var xe=rn(_);if(".priority"===xe)oe=g.filter.updatePriority(p.eventCache.getNode(),w),X=Ai(p,oe,Y.isFullyInitialized(),Y.isFiltered());else{var Ge=kn(_),Xe=Y.getNode().getImmediateChild(xe),Ct=void 0;if(un(Ge))Ct=w;else{var zt=ce.getCompleteChild(xe);Ct=null!=zt?".priority"===yl(Ge)&&zt.getChild(ao(Ge)).isEmpty()?zt:zt.updateChild(Ge,w):F.EMPTY_NODE}X=Xe.equals(Ct)?p:Ai(p,g.filter.updateChild(Y.getNode(),xe,Ct,Ge,ce,V),Y.isFullyInitialized(),g.filter.filtersNodes())}}return X}function ni(g,p){return g.eventCache.isCompleteForChild(p)}function Vh(g,p,_){return _.foreach(function(w,M){p=p.updateChild(w,M)}),p}function ta(g,p,_,w,M,R,V,Y){if(p.serverCache.getNode().isEmpty()&&!p.serverCache.isFullyInitialized())return p;var oe,X=p;oe=un(_)?w:new hi(null).setTree(_,w);var ce=p.serverCache.getNode();return oe.children.inorderTraversal(function(xe,Ge){if(ce.hasChild(xe)){var Ct=Vh(0,p.serverCache.getNode().getImmediateChild(xe),Ge);X=La(g,X,new yn(xe),Ct,M,R,V,Y)}}),oe.children.inorderTraversal(function(xe,Ge){var Xe=!p.serverCache.isCompleteForChild(xe)&&void 0===Ge.value;if(!ce.hasChild(xe)&&!Xe){var zt=Vh(0,p.serverCache.getNode().getImmediateChild(xe),Ge);X=La(g,X,new yn(xe),zt,M,R,V,Y)}}),X}var Bh=function(){function g(p,_){this.query_=p,this.eventRegistrations_=[];var w=this.query_._queryParams,M=new xh(w.getIndex()),R=function(g){return g.loadsAllData()?new xh(g.getIndex()):g.hasLimit()?new dg(g):new Il(g)}(w);this.processor_=function(g){return{filter:g}}(R);var V=_.serverCache,Y=_.eventCache,X=M.updateFullNode(F.EMPTY_NODE,V.getNode(),null),oe=R.updateFullNode(F.EMPTY_NODE,Y.getNode(),null),ce=new di(X,V.isFullyInitialized(),M.filtersNodes()),xe=new di(oe,Y.isFullyInitialized(),R.filtersNodes());this.viewCache_=Fr(xe,ce),this.eventGenerator_=new Fh(this.query_)}return Object.defineProperty(g.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),g}();function kr(g,p){var _=Ds(g.viewCache_);return _&&(g.query._queryParams.loadsAllData()||!un(p)&&!_.getImmediateChild(rn(p)).isEmpty())?_.getChild(p):null}function Pl(g){return 0===g.eventRegistrations_.length}function tr(g,p,_){var w=[];if(_){(0,G.hu)(null==p,"A cancel should cancel all event registrations.");var M=g.query._path;g.eventRegistrations_.forEach(function(X){var oe=X.createCancelEvent(_,M);oe&&w.push(oe)})}if(p){for(var R=[],V=0;V<g.eventRegistrations_.length;++V){var Y=g.eventRegistrations_[V];if(Y.matches(p)){if(p.hasAnyCallback()){R=R.concat(g.eventRegistrations_.slice(V+1));break}}else R.push(Y)}g.eventRegistrations_=R}else g.eventRegistrations_=[];return w}function Rl(g,p,_,w){p.type===go.MERGE&&null!==p.source.queryId&&((0,G.hu)(Ds(g.viewCache_),"We should always have a full cache before handling merges"),(0,G.hu)(Js(g.viewCache_),"Missing event cache, even though we have a server cache"));var M=g.viewCache_,R=function(g,p,_,w,M){var V,Y,R=new Sr;if(_.type===go.OVERWRITE){var X=_;X.source.fromUser?V=Ol(g,p,X.path,X.snap,w,M,R):((0,G.hu)(X.source.fromServer,"Unknown source."),Y=X.source.tagged||p.serverCache.isFiltered()&&!un(X.path),V=La(g,p,X.path,X.snap,w,M,Y,R))}else if(_.type===go.MERGE){var oe=_;oe.source.fromUser?V=function(g,p,_,w,M,R,V){var Y=p;return w.foreach(function(X,oe){var ce=_n(_,X);ni(p,rn(ce))&&(Y=Ol(g,Y,ce,oe,M,R,V))}),w.foreach(function(X,oe){var ce=_n(_,X);ni(p,rn(ce))||(Y=Ol(g,Y,ce,oe,M,R,V))}),Y}(g,p,oe.path,oe.children,w,M,R):((0,G.hu)(oe.source.fromServer,"Unknown source."),Y=oe.source.tagged||p.serverCache.isFiltered(),V=ta(g,p,oe.path,oe.children,w,M,Y,R))}else if(_.type===go.ACK_USER_WRITE){var ce=_;V=ce.revert?function(g,p,_,w,M,R){var V;if(null!=ke(w,_))return p;var Y=new Rt(w,p,M),X=p.eventCache.getNode(),oe=void 0;if(un(_)||".priority"===rn(_)){var ce=void 0;if(p.serverCache.isFullyInitialized())ce=Ml(w,Ds(p));else{var xe=p.serverCache.getNode();(0,G.hu)(xe instanceof F,"serverChildren would be complete if leaf node"),ce=mg(w,xe)}oe=g.filter.updateFullNode(X,ce=ce,R)}else{var Ge=rn(_),Xe=bo(w,Ge,p.serverCache);null==Xe&&p.serverCache.isCompleteForChild(Ge)&&(Xe=X.getImmediateChild(Ge)),(oe=null!=Xe?g.filter.updateChild(X,Ge,Xe,kn(_),Y,R):p.eventCache.getNode().hasChild(Ge)?g.filter.updateChild(X,Ge,F.EMPTY_NODE,kn(_),Y,R):X).isEmpty()&&p.serverCache.isFullyInitialized()&&(V=Ml(w,Ds(p))).isLeafNode()&&(oe=g.filter.updateFullNode(oe,V,R))}return V=p.serverCache.isFullyInitialized()||null!=ke(w,xt()),Ai(p,oe,V,g.filter.filtersNodes())}(g,p,ce.path,w,M,R):function(g,p,_,w,M,R,V){if(null!=ke(M,_))return p;var Y=p.serverCache.isFiltered(),X=p.serverCache;if(null!=w.value){if(un(_)&&X.isFullyInitialized()||X.isCompleteForPath(_))return La(g,p,_,X.getNode().getChild(_),M,R,Y,V);if(un(_)){var oe=new hi(null);return X.getNode().forEachChild(Wi,function(xe,Ge){oe=oe.set(new yn(xe),Ge)}),ta(g,p,_,oe,M,R,Y,V)}return p}var ce=new hi(null);return w.foreach(function(xe,Ge){var Xe=_n(_,xe);X.isCompleteForPath(Xe)&&(ce=ce.set(xe,X.getNode().getChild(Xe)))}),ta(g,p,_,ce,M,R,Y,V)}(g,p,ce.path,ce.affectedTree,w,M,R)}else{if(_.type!==go.LISTEN_COMPLETE)throw(0,G.g5)("Unknown operation type: "+_.type);V=function(g,p,_,w,M){var R=p.serverCache;return Rn(g,Qn(p,R.getNode(),R.isFullyInitialized()||un(_),R.isFiltered()),_,w,xl,M)}(g,p,_.path,w,R)}var xe=R.getChanges();return function(g,p,_){var w=p.eventCache;if(w.isFullyInitialized()){var M=w.getNode().isLeafNode()||w.getNode().isEmpty(),R=Js(g);(_.length>0||!g.eventCache.isFullyInitialized()||M&&!w.getNode().equals(R)||!w.getNode().getPriority().equals(R.getPriority()))&&_.push(Du(Js(p)))}}(p,V,xe),{viewCache:V,changes:xe}}(g.processor_,M,p,_,w);return function(g,p){(0,G.hu)(p.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,G.hu)(p.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}(g.processor_,R.viewCache),(0,G.hu)(R.viewCache.serverCache.isFullyInitialized()||!M.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=R.viewCache,jh(g,R.changes,R.viewCache.eventCache.getNode(),null)}function jh(g,p,_,w){return function(g,p,_,w){var M=[],R=[];return p.forEach(function(V){"child_changed"===V.type&&g.index_.indexedValueChanged(V.oldSnap,V.snapshotNode)&&R.push(function(g,p){return{type:"child_moved",snapshotNode:p,childName:g}}(V.childName,V.snapshotNode))}),mo(g,M,"child_removed",p,w,_),mo(g,M,"child_added",p,w,_),mo(g,M,"child_moved",R,w,_),mo(g,M,"child_changed",p,w,_),mo(g,M,"value",p,w,_),M}(g.eventGenerator_,p,_,w?[w]:g.eventRegistrations_)}var Ou,Ad,Ua=function(){this.views=new Map};function Ba(g,p,_,w){var M,R,V=p.source.queryId;if(null!==V){var Y=g.views.get(V);return(0,G.hu)(null!=Y,"SyncTree gave us an op for an invalid query."),Rl(Y,p,_,w)}var X=[];try{for(var oe=(0,ae.XA)(g.views.values()),ce=oe.next();!ce.done;ce=oe.next())X=X.concat(Rl(Y=ce.value,p,_,w))}catch(xe){M={error:xe}}finally{try{ce&&!ce.done&&(R=oe.return)&&R.call(oe)}finally{if(M)throw M.error}}return X}function As(g,p,_,w,M){var V=g.views.get(p._queryIdentifier);if(!V){var Y=Ml(_,M?w:null),X=!1;Y?X=!0:w instanceof F?(Y=mg(_,w),X=!1):(Y=F.EMPTY_NODE,X=!1);var oe=Fr(new di(Y,X,!1),new di(w,M,!1));return new Bh(p,oe)}return V}function vg(g){var p,_,w=[];try{for(var M=(0,ae.XA)(g.views.values()),R=M.next();!R.done;R=M.next()){var V=R.value;V.query._queryParams.loadsAllData()||w.push(V)}}catch(Y){p={error:Y}}finally{try{R&&!R.done&&(_=M.return)&&_.call(M)}finally{if(p)throw p.error}}return w}function ja(g,p){var _,w,M=null;try{for(var R=(0,ae.XA)(g.views.values()),V=R.next();!V.done;V=R.next())M=M||kr(V.value,p)}catch(X){_={error:X}}finally{try{V&&!V.done&&(w=R.return)&&w.call(R)}finally{if(_)throw _.error}}return M}function Xf(g,p){return p._queryParams.loadsAllData()?hs(g):g.views.get(p._queryIdentifier)}function xc(g,p){return null!=Xf(g,p)}function Ms(g){return null!=hs(g)}function hs(g){var p,_;try{for(var w=(0,ae.XA)(g.views.values()),M=w.next();!M.done;M=w.next()){var R=M.value;if(R.query._queryParams.loadsAllData())return R}}catch(V){p={error:V}}finally{try{M&&!M.done&&(_=w.return)&&_.call(w)}finally{if(p)throw p.error}}return null}var na=1,Ki=function(p){this.listenProvider_=p,this.syncPointTree_=new hi(null),this.pendingWriteTree_={visibleWrites:Ss.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Md(g,p,_,w,M){return function(g,p,_,w,M){(0,G.hu)(w>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),g.allWrites.push({path:p,snap:_,writeId:w,visible:M}),M&&(g.visibleWrites=Ra(g.visibleWrites,p,_)),g.lastWriteId=w}(g.pendingWriteTree_,p,_,w,M),M?ra(g,new Qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,_)):[]}function pi(g,p,_){void 0===_&&(_=!1);var w=function(g,p){for(var _=0;_<g.allWrites.length;_++){var w=g.allWrites[_];if(w.writeId===p)return w}return null}(g.pendingWriteTree_,p);if(function(g,p){var _=g.allWrites.findIndex(function(oe){return oe.writeId===p});(0,G.hu)(_>=0,"removeWrite called with nonexistent writeId.");var w=g.allWrites[_];g.allWrites.splice(_,1);for(var M=w.visible,R=!1,V=g.allWrites.length-1;M&&V>=0;){var Y=g.allWrites[V];Y.visible&&(V>=_&&Jm(Y,w.path)?M=!1:Si(w.path,Y.path)&&(R=!0)),V--}return!!M&&(R?(function(g){g.visibleWrites=Ac(g.allWrites,Ic,xt()),g.lastWriteId=g.allWrites.length>0?g.allWrites[g.allWrites.length-1].writeId:-1}(g),!0):(w.snap?g.visibleWrites=Lo(g.visibleWrites,w.path):_t(w.children,function(oe){g.visibleWrites=Lo(g.visibleWrites,_n(w.path,oe))}),!0))}(g.pendingWriteTree_,p)){var R=new hi(null);return null!=w.snap?R=R.set(xt(),!0):_t(w.children,function(V){R=R.set(new yn(V),!0)}),ra(g,new gg(w.path,R,_))}return[]}function Ga(g,p,_){return ra(g,new Qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,_))}function Yi(g,p,_,w){var M=p._path,R=g.syncPointTree_.get(M),V=[];if(R&&("default"===p._queryIdentifier||xc(R,p))){var Y=function(g,p,_,w){var M,R,V=p._queryIdentifier,Y=[],X=[],oe=Ms(g);if("default"===V)try{for(var ce=(0,ae.XA)(g.views.entries()),xe=ce.next();!xe.done;xe=ce.next()){var Ct,Ge=(0,ae.CR)(xe.value,2),Xe=Ge[0];X=X.concat(tr(Ct=Ge[1],_,w)),Pl(Ct)&&(g.views.delete(Xe),Ct.query._queryParams.loadsAllData()||Y.push(Ct.query))}}catch(zt){M={error:zt}}finally{try{xe&&!xe.done&&(R=ce.return)&&R.call(ce)}finally{if(M)throw M.error}}else(Ct=g.views.get(V))&&(X=X.concat(tr(Ct,_,w)),Pl(Ct)&&(g.views.delete(V),Ct.query._queryParams.loadsAllData()||Y.push(Ct.query)));return oe&&!Ms(g)&&Y.push(new((0,G.hu)(Ou,"Reference.ts has not been loaded"),Ou)(p._repo,p._path)),{removed:Y,events:X}}(R,p,_,w);(function(g){return 0===g.views.size})(R)&&(g.syncPointTree_=g.syncPointTree_.remove(M));var X=Y.removed;V=Y.events;var oe=-1!==X.findIndex(function(Er){return Er._queryParams.loadsAllData()}),ce=g.syncPointTree_.findOnPath(M,function(Er,es){return Ms(es)});if(oe&&!ce){var xe=g.syncPointTree_.subtree(M);if(!xe.isEmpty())for(var Ge=function(g){return g.fold(function(p,_,w){if(_&&Ms(_))return[hs(_)];var R=[];return _&&(R=vg(_)),_t(w,function(V,Y){R=R.concat(Y)}),R})}(xe),Xe=0;Xe<Ge.length;++Xe){var Ct=Ge[Xe],zt=Ct.query,kt=Nl(g,Ct);g.listenProvider_.startListening(Nu(zt),Ha(g,zt),kt.hashFn,kt.onComplete)}}!ce&&X.length>0&&!w&&(oe?g.listenProvider_.stopListening(Nu(p),null):X.forEach(function(Er){var es=g.queryToTagMap.get(xs(Er));g.listenProvider_.stopListening(Nu(Er),es)})),function(g,p){for(var _=0;_<p.length;++_){var w=p[_];if(!w._queryParams.loadsAllData()){var M=xs(w),R=g.queryToTagMap.get(M);g.queryToTagMap.delete(M),g.tagToQueryMap.delete(R)}}}(g,X)}return V}function Gh(g,p,_){var w=p._path,M=null,R=!1;g.syncPointTree_.foreachOnPath(w,function(zt,kt){var sn=_r(zt,w);M=M||ja(kt,sn),R=R||Ms(kt)});var Y,V=g.syncPointTree_.get(w);V?(R=R||Ms(V),M=M||ja(V,xt())):(V=new Ua,g.syncPointTree_=g.syncPointTree_.set(w,V)),null!=M?Y=!0:(Y=!1,M=F.EMPTY_NODE,g.syncPointTree_.subtree(w).foreachChild(function(zt,kt){var sn=ja(kt,xt());sn&&(M=M.updateImmediateChild(zt,sn))}));var oe=xc(V,p);if(!oe&&!p._queryParams.loadsAllData()){var ce=xs(p);(0,G.hu)(!g.queryToTagMap.has(ce),"View does not exist, but we have a tag");var xe=na++;g.queryToTagMap.set(ce,xe),g.tagToQueryMap.set(xe,ce)}var Xe=function(g,p,_,w,M,R){var V=As(g,p,w,M,R);return g.views.has(p._queryIdentifier)||g.views.set(p._queryIdentifier,V),function(g,p){g.eventRegistrations_.push(p)}(V,_),function(g,p){var _=g.viewCache_.eventCache,w=[];return _.getNode().isLeafNode()||_.getNode().forEachChild(Kn,function(R,V){w.push(Xr(R,V))}),_.isFullyInitialized()&&w.push(Du(_.getNode())),jh(g,w,_.getNode(),p)}(V,_)}(V,p,_,vo(g.pendingWriteTree_,w),M,Y);if(!oe&&!R){var Ct=Xf(V,p);Xe=Xe.concat(function(g,p,_){var w=p._path,M=Ha(g,p),R=Nl(g,_),V=g.listenProvider_.startListening(Nu(p),M,R.hashFn,R.onComplete),Y=g.syncPointTree_.subtree(w);if(M)(0,G.hu)(!Ms(Y.value),"If we're adding a query, it shouldn't be shadowed");else for(var X=Y.fold(function(xe,Ge,Xe){if(!un(xe)&&Ge&&Ms(Ge))return[hs(Ge).query];var Ct=[];return Ge&&(Ct=Ct.concat(vg(Ge).map(function(zt){return zt.query}))),_t(Xe,function(zt,kt){Ct=Ct.concat(kt)}),Ct}),oe=0;oe<X.length;++oe){var ce=X[oe];g.listenProvider_.stopListening(Nu(ce),Ha(g,ce))}return V}(g,p,Ct))}return Xe}function Pu(g,p,_){var M=g.pendingWriteTree_,R=g.syncPointTree_.findOnPath(p,function(V,Y){var oe=ja(Y,_r(V,p));if(oe)return oe});return ka(M,p,R,_,!0)}function ra(g,p){return Ru(p,g.syncPointTree_,null,vo(g.pendingWriteTree_,xt()))}function Ru(g,p,_,w){if(un(g.path))return Cg(g,p,_,w);var M=p.get(xt());null==_&&null!=M&&(_=ja(M,xt()));var R=[],V=rn(g.path),Y=g.operationForChild(V),X=p.children.get(V);if(X&&Y){var oe=_?_.getImmediateChild(V):null,ce=Xs(w,V);R=R.concat(Ru(Y,X,oe,ce))}return M&&(R=R.concat(Ba(M,g,w,_))),R}function Cg(g,p,_,w){var M=p.get(xt());null==_&&null!=M&&(_=ja(M,xt()));var R=[];return p.children.inorderTraversal(function(V,Y){var X=_?_.getImmediateChild(V):null,oe=Xs(w,V),ce=g.operationForChild(V);ce&&(R=R.concat(Cg(ce,Y,X,oe)))}),M&&(R=R.concat(Ba(M,g,w,_))),R}function Nl(g,p){var _=p.query,w=Ha(g,_);return{hashFn:function(){return(function(g){return g.viewCache_.serverCache.getNode()}(p)||F.EMPTY_NODE).hash()},onComplete:function(M){if("ok"===M)return w?function(g,p,_){var w=xd(g,_);if(w){var M=Od(w),R=M.path,V=M.queryId,Y=_r(R,p);return jo(g,R,new Nh(Tc(V),Y))}return[]}(g,_._path,w):function(g,p){return ra(g,new Nh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p))}(g,_._path);var R=function(g,p){var _="Unknown Error";"too_big"===g?_="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?_="Client doesn't have permission to access the desired data.":"unavailable"===g&&(_="The service is unavailable");var w=new Error(g+" at "+p._path.toString()+": "+_);return w.code=g.toUpperCase(),w}(M,_);return Yi(g,_,null,R)}}}function Ha(g,p){var _=xs(p);return g.queryToTagMap.get(_)}function xs(g){return g._path.toString()+"$"+g._queryIdentifier}function xd(g,p){return g.tagToQueryMap.get(p)}function Od(g){var p=g.indexOf("$");return(0,G.hu)(-1!==p&&p<g.length-1,"Bad queryKey."),{queryId:g.substr(p+1),path:new yn(g.substr(0,p))}}function jo(g,p,_){var w=g.syncPointTree_.get(p);return(0,G.hu)(w,"Missing sync point for query tag that we're tracking"),Ba(w,_,vo(g.pendingWriteTree_,p),null)}function Nu(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new((0,G.hu)(Ad,"Reference.ts has not been loaded"),Ad)(g._repo,g._path):g}var Rd=function(){function g(p){this.node_=p}return g.prototype.getImmediateChild=function(p){return new g(this.node_.getImmediateChild(p))},g.prototype.node=function(){return this.node_},g}(),Fu=function(){function g(p,_){this.syncTree_=p,this.path_=_}return g.prototype.getImmediateChild=function(p){var _=_n(this.path_,p);return new g(this.syncTree_,_)},g.prototype.node=function(){return Pu(this.syncTree_,this.path_)},g}(),Fl=function(g,p,_){return g&&"object"==typeof g?((0,G.hu)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?fs(g[".sv"],p,_):"object"==typeof g[".sv"]?Hh(g[".sv"],p):void(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},fs=function(g,p,_){switch(g){case"timestamp":return _.timestamp;default:(0,G.hu)(!1,"Unexpected server value: "+g)}},Hh=function(g,p,_){g.hasOwnProperty("increment")||(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));var w=g.increment;"number"!=typeof w&&(0,G.hu)(!1,"Unexpected increment value: "+w);var M=p.node();if((0,G.hu)(null!=M,"Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return w;var V=M.getValue();return"number"!=typeof V?w:V+w},Nd=function(g,p,_,w){return Os(p,new Fu(_,g),w)},Pc=function(g,p,_){return Os(g,new Rd(p),_)};function Os(g,p,_){var R,w=g.getPriority().val(),M=Fl(w,p.getImmediateChild(".priority"),_);if(g.isLeafNode()){var V=g,Y=Fl(V.getValue(),p,_);return Y!==V.getValue()||M!==V.getPriority().val()?new Ks(Y,Le(M)):g}var X=g;return R=X,M!==X.getPriority().val()&&(R=R.updatePriority(new Ks(M))),X.forEachChild(Kn,function(oe,ce){var xe=Os(ce,p.getImmediateChild(oe),_);xe!==ce&&(R=R.updateImmediateChild(oe,xe))}),R}var gi=function(p,_,w){void 0===p&&(p=""),void 0===_&&(_=null),void 0===w&&(w={children:{},childCount:0}),this.name=p,this.parent=_,this.node=w};function kl(g,p){for(var _=p instanceof yn?p:new yn(p),w=g,M=rn(_);null!==M;){var R=(0,G.DV)(w.node.children,M)||{children:{},childCount:0};w=new gi(M,w,R),M=rn(_=kn(_))}return w}function Xn(g){return g.node.value}function Ll(g,p){g.node.value=p,Gr(g)}function Rc(g){return g.node.childCount>0}function Ho(g,p){_t(g.node.children,function(_,w){p(new gi(_,g,w))})}function Fd(g,p,_,w){_&&!w&&p(g),Ho(g,function(M){Fd(M,p,!0,w)}),_&&w&&p(g)}function oa(g){return new yn(null===g.parent?g.name:oa(g.parent)+"/"+g.name)}function Gr(g){null!==g.parent&&function(g,p,_){var w=function(g){return void 0===Xn(g)&&!Rc(g)}(_),M=(0,G.r3)(g.node.children,p);w&&M?(delete g.node.children[p],g.node.childCount--,Gr(g)):!w&&!M&&(g.node.children[p]=_.node,g.node.childCount++,Gr(g))}(g.parent,g.name,g)}var $o=/[\[\].#$\/\u0000-\u001F\u007F]/,sa=/[\[\].#$\u0000-\u001F\u007F]/,Eo=10485760,za=function(g){return"string"==typeof g&&0!==g.length&&!$o.test(g)},Nc=function(g){return"string"==typeof g&&0!==g.length&&!sa.test(g)},wo=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!Pe(g)||g&&"object"==typeof g&&(0,G.r3)(g,".sv")},ps=function(g,p,_,w){w&&void 0===p||dr((0,G.gK)(g,"value"),p,_)},dr=function(g,p,_){var w=_ instanceof yn?new yc(_,g):_;if(void 0===p)throw new Error(g+"contains undefined "+Ws(w));if("function"==typeof p)throw new Error(g+"contains a function "+Ws(w)+" with contents = "+p.toString());if(Pe(p))throw new Error(g+"contains "+p.toString()+" "+Ws(w));if("string"==typeof p&&p.length>Eo/3&&(0,G.ug)(p)>Eo)throw new Error(g+"contains a string greater than "+Eo+" utf8 bytes "+Ws(w)+" ('"+p.substring(0,50)+"...')");if(p&&"object"==typeof p){var M=!1,R=!1;if(_t(p,function(V,Y){if(".value"===V)M=!0;else if(".priority"!==V&&".sv"!==V&&(R=!0,!za(V)))throw new Error(g+" contains an invalid key ("+V+") "+Ws(w)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(g,p){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push(p),g.byteLength_+=(0,G.ug)(p),_c(g)})(w,V),dr(g,Y,w),function(g){var p=g.parts_.pop();g.byteLength_-=(0,G.ug)(p),g.parts_.length>0&&(g.byteLength_-=1)}(w)}),M&&R)throw new Error(g+' contains ".value" child '+Ws(w)+" in addition to actual children.")}},zo=function(g,p,_,w){if(!w||void 0!==p){var M=(0,G.gK)(g,"values");if(!p||"object"!=typeof p||Array.isArray(p))throw new Error(M+" must be an object containing the children to replace.");var R=[];_t(p,function(V,Y){var X=new yn(V);if(dr(M,Y,_n(_,X)),".priority"===yl(X)&&!wo(Y))throw new Error(M+"contains an invalid value for '"+X.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");R.push(X)}),function(g,p){var _,w;for(_=0;_<p.length;_++)for(var M=Ro(w=p[_]),R=0;R<M.length;R++)if((".priority"!==M[R]||R!==M.length-1)&&!za(M[R]))throw new Error(g+"contains an invalid key ("+M[R]+") in path "+w.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');p.sort(uo);var V=null;for(_=0;_<p.length;_++){if(w=p[_],null!==V&&Si(V,w))throw new Error(g+"contains a path "+V.toString()+" that is ancestor of another path "+w.toString());V=w}}(M,R)}},ku=function(g,p,_){if(!_||void 0!==p){if(Pe(p))throw new Error((0,G.gK)(g,"priority")+"is "+p.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wo(p))throw new Error((0,G.gK)(g,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},kc=function(g,p,_){if(!_||void 0!==p)switch(p){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,G.gK)(g,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Vl=function(g,p,_,w){if(!(w&&void 0===_||za(_)))throw new Error((0,G.gK)(g,p)+'was an invalid key = "'+_+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},aa=function(g,p,_,w){if(!(w&&void 0===_||Nc(_)))throw new Error((0,G.gK)(g,p)+'was an invalid path = "'+_+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Oi=function(g,p){if(".info"===rn(p))throw new Error(g+" failed = Can't modify data under /.info/")},qo=function(g,p){var _=p.path.toString();if("string"!=typeof p.repoInfo.host||0===p.repoInfo.host.length||!za(p.repoInfo.namespace)&&"localhost"!==p.repoInfo.host.split(":")[0]||0!==_.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Nc(g)}(_))throw new Error((0,G.gK)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},np=function(g,p,_,w){if((!w||void 0!==_)&&"boolean"!=typeof _)throw new Error((0,G.gK)(g,p)+"must be a boolean.")},qh=function(){this.eventLists_=[],this.recursionDepth_=0};function qa(g,p){for(var _=null,w=0;w<p.length;w++){var M=p[w],R=M.getPath();null!==_&&!us(R,_.path)&&(g.eventLists_.push(_),_=null),null===_&&(_={events:[],path:R}),_.events.push(M)}_&&g.eventLists_.push(_)}function hr(g,p,_){qa(g,_),Lc(g,function(w){return us(w,p)})}function Ht(g,p,_){qa(g,_),Lc(g,function(w){return Si(w,p)||Si(p,w)})}function Lc(g,p){g.recursionDepth_++;for(var _=!0,w=0;w<g.eventLists_.length;w++){var M=g.eventLists_[w];M&&(p(M.path)?(rp(g.eventLists_[w]),g.eventLists_[w]=null):_=!1)}_&&(g.eventLists_=[]),g.recursionDepth_--}function rp(g){for(var p=0;p<g.events.length;p++){var _=g.events[p];if(null!==_){g.events[p]=null;var w=_.getEventRunner();ht&&et("event: "+_.toString()),Pt(w)}}}var Ld="repo_interrupt",Vc=function(){function g(p,_,w,M){this.repoInfo_=p,this.forceRestClient_=_,this.authTokenProvider_=w,this.appCheckProvider_=M,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ys(),this.transactionQueueTree_=new gi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},g}();function Wo(g){var _=g.infoData_.getNode(new yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+_}function Bi(g){return function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g}({timestamp:Wo(g)})}function er(g,p,_,w,M){g.dataUpdateCount++;var R=new yn(p);_=g.interceptServerDataCallback_?g.interceptServerDataCallback_(p,_):_;var V=[];if(M)if(w){var Y=(0,G.UI)(_,function(Ge){return Le(Ge)});V=function(g,p,_,w){var M=xd(g,w);if(M){var R=Od(M),V=R.path,Y=R.queryId,X=_r(V,p),oe=hi.fromObject(_);return jo(g,V,new Td(Tc(Y),X,oe))}return[]}(g.serverSyncTree_,R,Y,M)}else{var X=Le(_);V=function(g,p,_,w){var M=xd(g,w);if(null!=M){var R=Od(M),V=R.path,Y=R.queryId,X=_r(V,p);return jo(g,V,new Qs(Tc(Y),X,_))}return[]}(g.serverSyncTree_,R,X,M)}else if(w){var oe=(0,G.UI)(_,function(Ge){return Le(Ge)});V=function(g,p,_){var w=hi.fromObject(_);return ra(g,new Td({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,w))}(g.serverSyncTree_,R,oe)}else{var ce=Le(_);V=Ga(g.serverSyncTree_,R,ce)}var xe=R;V.length>0&&(xe=Ns(g,R)),Ht(g.eventQueue_,xe,V)}function Lu(g,p){Ps(g,"connected",p),!1===p&&function(g){$r(g,"onDisconnectEvents");var p=Bi(g),_=Ys();fo(g.onDisconnect_,xt(),function(M,R){var V=Nd(M,R,g.serverSyncTree_,p);ko(_,M,V)});var w=[];fo(_,xt(),function(M,R){w=w.concat(Ga(g.serverSyncTree_,M,R));var V=Ya(g,M);Ns(g,V)}),g.onDisconnect_=Ys(),Ht(g.eventQueue_,xt(),w)}(g)}function Ps(g,p,_){var w=new yn("/.info/"+p),M=Le(_);g.infoData_.updateSnapshot(w,M);var R=Ga(g.infoSyncTree_,w,M);Ht(g.eventQueue_,w,R)}function Vu(g){return g.nextWriteId_++}function ri(g,p,_,w,M){$r(g,"set",{path:p.toString(),value:_,priority:w});var R=Bi(g),V=Le(_,w),Y=Pu(g.serverSyncTree_,p),X=Pc(V,Y,R),oe=Vu(g),ce=Md(g.serverSyncTree_,p,X,oe,!0);qa(g.eventQueue_,ce),g.server_.put(p.toString(),V.val(!0),function(Ge,Xe){var Ct="ok"===Ge;Ct||xn("set at "+p+" failed: "+Ge);var zt=pi(g.serverSyncTree_,oe,!Ct);Ht(g.eventQueue_,p,zt),Qi(0,M,Ge,Xe)});var xe=Ya(g,p);Ns(g,xe),Ht(g.eventQueue_,xe,[])}function Eg(g,p,_){g.server_.onDisconnectCancel(p.toString(),function(w,M){"ok"===w&&Br(g.onDisconnect_,p),Qi(0,_,w,M)})}function Uu(g,p,_,w){var M=Le(_);g.server_.onDisconnectPut(p.toString(),M.val(!0),function(R,V){"ok"===R&&ko(g.onDisconnect_,p,M),Qi(0,w,R,V)})}function Ud(g,p,_){var w;w=".info"===rn(p._path)?Yi(g.infoSyncTree_,p,_):Yi(g.serverSyncTree_,p,_),hr(g.eventQueue_,p._path,w)}function Uc(g){g.persistentConnection_&&g.persistentConnection_.interrupt(Ld)}function $r(g){for(var p=[],_=1;_<arguments.length;_++)p[_-1]=arguments[_];var w="";g.persistentConnection_&&(w=g.persistentConnection_.id+":"),et.apply(void 0,(0,ae.ev)([w],(0,ae.CR)(p)))}function Qi(g,p,_,w){p&&Pt(function(){if("ok"===_)p(null);else{var M=(_||"error").toUpperCase(),R=M;w&&(R+=": "+w);var V=new Error(R);V.code=M,p(V)}})}function Ko(g,p,_){return Pu(g.serverSyncTree_,p,_)||F.EMPTY_NODE}function Zo(g,p){if(void 0===p&&(p=g.transactionQueueTree_),p||mi(g,p),Xn(p)){var _=Kh(g,p);(0,G.hu)(_.length>0,"Sending zero length transaction queue"),_.every(function(M){return 0===M.status})&&function(g,p,_){for(var w=_.map(function(Ge){return Ge.currentWriteId}),M=Ko(g,p,w),R=M,V=M.hash(),Y=0;Y<_.length;Y++){var X=_[Y];(0,G.hu)(0===X.status,"tryToSendTransactionQueue_: items in queue should all be run."),X.status=1,X.retryCount++;var oe=_r(p,X.path);R=R.updateChild(oe,X.currentOutputSnapshotRaw)}var ce=R.val(!0),xe=p;g.server_.put(xe.toString(),ce,function(Ge){$r(g,"transaction put response",{path:xe.toString(),status:Ge});var Xe=[];if("ok"===Ge){for(var Ct=[],zt=function(sn){_[sn].status=2,Xe=Xe.concat(pi(g.serverSyncTree_,_[sn].currentWriteId)),_[sn].onComplete&&Ct.push(function(){return _[sn].onComplete(null,!0,_[sn].currentOutputSnapshotResolved)}),_[sn].unwatcher()},kt=0;kt<_.length;kt++)zt(kt);for(mi(g,kl(g.transactionQueueTree_,p)),Zo(g,g.transactionQueueTree_),Ht(g.eventQueue_,p,Xe),kt=0;kt<Ct.length;kt++)Pt(Ct[kt])}else{if("datastale"===Ge)for(kt=0;kt<_.length;kt++)_[kt].status=3===_[kt].status?4:0;else for(xn("transaction at "+xe.toString()+" failed: "+Ge),kt=0;kt<_.length;kt++)_[kt].status=4,_[kt].abortReason=Ge;Ns(g,p)}},V)}(g,oa(p),_)}else Rc(p)&&Ho(p,function(M){Zo(g,M)})}function Ns(g,p){var _=Bd(g,p),w=oa(_);return function(g,p,_){if(0!==p.length){for(var w=[],M=[],V=p.filter(function(oe){return 0===oe.status}).map(function(oe){return oe.currentWriteId}),Y=function(oe){var Xe,ce=p[oe],xe=_r(_,ce.path),Ge=!1;if((0,G.hu)(null!==xe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ce.status)Ge=!0,Xe=ce.abortReason,M=M.concat(pi(g.serverSyncTree_,ce.currentWriteId,!0));else if(0===ce.status)if(ce.retryCount>=25)Ge=!0,Xe="maxretry",M=M.concat(pi(g.serverSyncTree_,ce.currentWriteId,!0));else{var Ct=Ko(g,ce.path,V);ce.currentInputSnapshot=Ct;var zt=p[oe].update(Ct.val());if(void 0!==zt){dr("transaction failed: Data returned ",zt,ce.path);var kt=Le(zt);"object"==typeof zt&&null!=zt&&(0,G.r3)(zt,".priority")||(kt=kt.updatePriority(Ct.getPriority()));var Er=ce.currentWriteId,es=Bi(g),zl=Pc(kt,Ct,es);ce.currentOutputSnapshotRaw=kt,ce.currentOutputSnapshotResolved=zl,ce.currentWriteId=Vu(g),V.splice(V.indexOf(Er),1),M=(M=M.concat(Md(g.serverSyncTree_,ce.path,zl,ce.currentWriteId,ce.applyLocally))).concat(pi(g.serverSyncTree_,Er,!0))}else Ge=!0,Xe="nodata",M=M.concat(pi(g.serverSyncTree_,ce.currentWriteId,!0))}Ht(g.eventQueue_,_,M),M=[],Ge&&(p[oe].status=2,setTimeout(p[oe].unwatcher,Math.floor(0)),p[oe].onComplete&&w.push("nodata"===Xe?function(){return p[oe].onComplete(null,!1,p[oe].currentInputSnapshot)}:function(){return p[oe].onComplete(new Error(Xe),!1,null)}))},X=0;X<p.length;X++)Y(X);for(mi(g,g.transactionQueueTree_),X=0;X<w.length;X++)Pt(w[X]);Zo(g,g.transactionQueueTree_)}}(g,Kh(g,_),w),w}function Bd(g,p){var _,w=g.transactionQueueTree_;for(_=rn(p);null!==_&&void 0===Xn(w);)w=kl(w,_),_=rn(p=kn(p));return w}function Kh(g,p){var _=[];return jc(g,p,_),_.sort(function(w,M){return w.order-M.order}),_}function jc(g,p,_){var w=Xn(p);if(w)for(var M=0;M<w.length;M++)_.push(w[M]);Ho(p,function(R){jc(g,R,_)})}function mi(g,p){var _=Xn(p);if(_){for(var w=0,M=0;M<_.length;M++)2!==_[M].status&&(_[w]=_[M],w++);_.length=w,Ll(p,_.length>0?_:void 0)}Ho(p,function(R){mi(g,R)})}function Ya(g,p){var _=oa(Bd(g,p)),w=kl(g.transactionQueueTree_,p);return function(g,p,_){for(var w=g.parent;null!==w;){if(p(w))return!0;w=w.parent}}(w,function(M){Bl(g,M)}),Bl(g,w),Fd(w,function(M){Bl(g,M)}),_}function Bl(g,p){var _=Xn(p);if(_){for(var w=[],M=[],R=-1,V=0;V<_.length;V++)3===_[V].status||(1===_[V].status?((0,G.hu)(R===V-1,"All SENT items should be at beginning of queue."),R=V,_[V].status=3,_[V].abortReason="set"):((0,G.hu)(0===_[V].status,"Unexpected transaction status in abort"),_[V].unwatcher(),M=M.concat(pi(g.serverSyncTree_,_[V].currentWriteId,!0)),_[V].onComplete&&w.push(_[V].onComplete.bind(null,new Error("set"),!1,null))));for(-1===R?Ll(p,void 0):_.length=R+1,Ht(g.eventQueue_,oa(p),M),V=0;V<w.length;V++)Pt(w[V])}}var Gc=function(g,p){var _=up(g),w=_.namespace;return"firebase.com"===_.domain&&nn(_.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!w||"undefined"===w)&&"localhost"!==_.domain&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),_.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Wn(_.host,_.secure,w,p,"ws"===_.scheme||"wss"===_.scheme,"",w!==_.subdomain),path:new yn(_.pathString)}},up=function(g){var p="",_="",w="",M="",R="",V=!0,Y="https",X=443;if("string"==typeof g){var oe=g.indexOf("//");oe>=0&&(Y=g.substring(0,oe-1),g=g.substring(oe+2));var ce=g.indexOf("/");-1===ce&&(ce=g.length);var xe=g.indexOf("?");-1===xe&&(xe=g.length),p=g.substring(0,Math.min(ce,xe)),ce<xe&&(M=function(g){for(var p="",_=g.split("/"),w=0;w<_.length;w++)if(_[w].length>0){var M=_[w];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch(R){}p+="/"+M}return p}(g.substring(ce,xe)));var Ge=function(g){var p,_,w={};"?"===g.charAt(0)&&(g=g.substring(1));try{for(var M=(0,ae.XA)(g.split("&")),R=M.next();!R.done;R=M.next()){var V=R.value;if(0!==V.length){var Y=V.split("=");2===Y.length?w[decodeURIComponent(Y[0])]=decodeURIComponent(Y[1]):xn("Invalid query segment '"+V+"' in query '"+g+"'")}}}catch(X){p={error:X}}finally{try{R&&!R.done&&(_=M.return)&&_.call(M)}finally{if(p)throw p.error}}return w}(g.substring(Math.min(g.length,xe)));(oe=p.indexOf(":"))>=0?(V="https"===Y||"wss"===Y,X=parseInt(p.substring(oe+1),10)):oe=p.length;var Xe=p.slice(0,oe);if("localhost"===Xe.toLowerCase())_="localhost";else if(Xe.split(".").length<=2)_=Xe;else{var Ct=p.indexOf(".");w=p.substring(0,Ct).toLowerCase(),_=p.substring(Ct+1),R=w}"ns"in Ge&&(R=Ge.ns)}return{host:p,port:X,domain:_,subdomain:w,secure:V,scheme:Y,pathString:M,namespace:R}},Qa=function(){function g(p,_,w,M){this.eventType=p,this.eventRegistration=_,this.snapshot=w,this.prevName=M}return g.prototype.getPath=function(){var p=this.snapshot.ref;return"value"===this.eventType?p._path:p.parent._path},g.prototype.getEventType=function(){return this.eventType},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,G.Pz)(this.snapshot.exportVal())},g}(),Zh=function(){function g(p,_,w){this.eventRegistration=p,this.error=_,this.path=w}return g.prototype.getPath=function(){return this.path},g.prototype.getEventType=function(){return"cancel"},g.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},g.prototype.toString=function(){return this.path.toString()+":cancel"},g}(),ua=function(){function g(p,_){this.snapshotCallback=p,this.cancelCallback=_}return g.prototype.onValue=function(p,_){this.snapshotCallback.call(null,p,_)},g.prototype.onCancel=function(p){return(0,G.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,p)},Object.defineProperty(g.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),g.prototype.matches=function(p){return this.snapshotCallback===p.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===p.snapshotCallback.userCallback&&this.snapshotCallback.context===p.snapshotCallback.context},g}(),Hc=function(){function g(p,_){this._repo=p,this._path=_}return g.prototype.cancel=function(){var p=new G.BH;return Eg(this._repo,this._path,p.wrapCallback(function(){})),p.promise},g.prototype.remove=function(){Oi("OnDisconnect.remove",this._path);var p=new G.BH;return Uu(this._repo,this._path,null,p.wrapCallback(function(){})),p.promise},g.prototype.set=function(p){Oi("OnDisconnect.set",this._path),ps("OnDisconnect.set",p,this._path,!1);var _=new G.BH;return Uu(this._repo,this._path,p,_.wrapCallback(function(){})),_.promise},g.prototype.setWithPriority=function(p,_){Oi("OnDisconnect.setWithPriority",this._path),ps("OnDisconnect.setWithPriority",p,this._path,!1),ku("OnDisconnect.setWithPriority",_,!1);var w=new G.BH;return function(g,p,_,w,M){var R=Le(_,w);g.server_.onDisconnectPut(p.toString(),R.val(!0),function(V,Y){"ok"===V&&ko(g.onDisconnect_,p,R),Qi(0,M,V,Y)})}(this._repo,this._path,p,_,w.wrapCallback(function(){})),w.promise},g.prototype.update=function(p){Oi("OnDisconnect.update",this._path),zo("OnDisconnect.update",p,this._path,!1);var _=new G.BH;return function(g,p,_,w){if((0,G.xb)(_))return et("onDisconnect().update() called with empty data.  Don't do anything."),void Qi(0,w,"ok",void 0);g.server_.onDisconnectMerge(p.toString(),_,function(M,R){"ok"===M&&_t(_,function(V,Y){var X=Le(Y);ko(g.onDisconnect_,_n(p,V),X)}),Qi(0,w,M,R)})}(this._repo,this._path,p,_.wrapCallback(function(){})),_.promise},g}(),ii=function(){function g(p,_,w,M){this._repo=p,this._path=_,this._queryParams=w,this._orderByCalled=M}return Object.defineProperty(g.prototype,"key",{get:function(){return un(this._path)?null:yl(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ref",{get:function(){return new $n(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_queryIdentifier",{get:function(){var p=Ph(this._queryParams),_=jt(p);return"{}"===_?"default":_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_queryObject",{get:function(){return Ph(this._queryParams)},enumerable:!1,configurable:!0}),g.prototype.isEqual=function(p){if(!((p=(0,G.m9)(p))instanceof g))return!1;var _=this._repo===p._repo,w=us(this._path,p._path);return _&&w&&this._queryIdentifier===p._queryIdentifier},g.prototype.toJSON=function(){return this.toString()},g.prototype.toString=function(){return this._repo.toString()+function(g){for(var p="",_=g.pieceNum_;_<g.pieces_.length;_++)""!==g.pieces_[_]&&(p+="/"+encodeURIComponent(String(g.pieces_[_])));return p||"/"}(this._path)},g}();function la(g,p){if(!0===g._orderByCalled)throw new Error(p+": You can't combine multiple orderBy calls.")}function gs(g){var p=null,_=null;if(g.hasStart()&&(p=g.getIndexStartValue()),g.hasEnd()&&(_=g.getIndexEndValue()),g.getIndex()===Wi){var w="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",M="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==De)throw new Error(w);if("string"!=typeof p)throw new Error(M)}if(g.hasEnd()){if(g.getIndexEndName()!==qe)throw new Error(w);if("string"!=typeof _)throw new Error(M)}}else if(g.getIndex()===Kn){if(null!=p&&!wo(p)||null!=_&&!wo(_))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,G.hu)(g.getIndex()instanceof Mt||g.getIndex()===rr,"unknown index type."),null!=p&&"object"==typeof p||null!=_&&"object"==typeof _)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $c(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var $n=function(g){function p(_,w){return g.call(this,_,w,new hg,!1)||this}return(0,ae.ZT)(p,g),Object.defineProperty(p.prototype,"parent",{get:function(){var _=ao(this._path);return null===_?null:new p(this._repo,_)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"root",{get:function(){for(var _=this;null!==_.parent;)_=_.parent;return _},enumerable:!1,configurable:!0}),p}(ii),Gd=function(){function g(p,_,w){this._node=p,this.ref=_,this._index=w}return Object.defineProperty(g.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),g.prototype.child=function(p){var _=new yn(p),w=Ja(this.ref,p);return new g(this._node.getChild(_),w,Kn)},g.prototype.exists=function(){return!this._node.isEmpty()},g.prototype.exportVal=function(){return this._node.val(!0)},g.prototype.forEach=function(p){var _=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(M,R){return p(new g(R,Ja(_.ref,M),Kn))})},g.prototype.hasChild=function(p){var _=new yn(p);return!this._node.getChild(_).isEmpty()},g.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},g.prototype.toJSON=function(){return this.exportVal()},g.prototype.val=function(){return this._node.val()},g}();function Bu(g,p){return(g=(0,G.m9)(g))._checkNotDeleted("ref"),void 0!==p?Ja(g._root,p):g._root}function ms(g,p){(g=(0,G.m9)(g))._checkNotDeleted("refFromURL");var _=Gc(p,g._repo.repoInfo_.nodeAdmin);qo("refFromURL",_);var w=_.repoInfo;return!g._repo.repoInfo_.isCustomHost()&&w.host!==g._repo.repoInfo_.host&&nn("refFromURL: Host name does not match the current database: (found "+w.host+" but expected "+g._repo.repoInfo_.host+")"),Bu(g,_.path.toString())}function Ja(g,p){return null===rn((g=(0,G.m9)(g))._path)?((_=p)&&(_=_.replace(/^\/*\.info(\/|$)/,"/")),aa("child","path",_,!1)):aa("child","path",p,!1),new $n(g._repo,_n(g._path,p));var _}function Hd(g,p){g=(0,G.m9)(g),Oi("push",g._path),ps("push",p,g._path,!0);var V,_=Wo(g._repo),w=Jr(_),M=Ja(g,w),R=Ja(g,w);return V=null!=p?ju(R,p).then(function(){return R}):Promise.resolve(R),M.then=V.then.bind(V),M.catch=V.then.bind(V,void 0),M}function Yh(g){return Oi("remove",g._path),ju(g,null)}function ju(g,p){g=(0,G.m9)(g),Oi("set",g._path),ps("set",p,g._path,!1);var _=new G.BH;return ri(g._repo,g._path,p,null,_.wrapCallback(function(){})),_.promise}function ys(g,p){g=(0,G.m9)(g),Oi("setPriority",g._path),ku("setPriority",p,!1);var _=new G.BH;return ri(g._repo,_n(g._path,".priority"),p,null,_.wrapCallback(function(){})),_.promise}function lp(g,p,_){if(Oi("setWithPriority",g._path),ps("setWithPriority",p,g._path,!1),ku("setWithPriority",_,!1),".length"===g.key||".keys"===g.key)throw"setWithPriority failed: "+g.key+" is a read-only object.";var w=new G.BH;return ri(g._repo,g._path,p,_,w.wrapCallback(function(){})),w.promise}function Tg(g,p){zo("update",p,g._path,!1);var _=new G.BH;return function(g,p,_,w){$r(g,"update",{path:p.toString(),value:_});var M=!0,R=Bi(g),V={};if(_t(_,function(oe,ce){M=!1,V[oe]=Nd(_n(p,oe),Le(ce),g.serverSyncTree_,R)}),M)et("update() called with empty data.  Don't do anything."),Qi(0,w,"ok",void 0);else{var Y=Vu(g),X=function(g,p,_,w){!function(g,p,_,w){(0,G.hu)(w>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:p,children:_,writeId:w,visible:!0}),g.visibleWrites=Au(g.visibleWrites,p,_),g.lastWriteId=w}(g.pendingWriteTree_,p,_,w);var M=hi.fromObject(_);return ra(g,new Td({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,M))}(g.serverSyncTree_,p,V,Y);qa(g.eventQueue_,X),g.server_.merge(p.toString(),_,function(oe,ce){var xe="ok"===oe;xe||xn("update at "+p+" failed: "+oe);var Ge=pi(g.serverSyncTree_,Y,!xe),Xe=Ge.length>0?Ns(g,p):p;Ht(g.eventQueue_,Xe,Ge),Qi(0,w,oe,ce)}),_t(_,function(oe){var ce=Ya(g,_n(p,oe));Ns(g,ce)}),Ht(g.eventQueue_,p,[])}}(g._repo,g._path,p,_.wrapCallback(function(){})),_.promise}function Gu(g){return function(g,p){var _=function(g,p){var _=p._path,w=null;g.syncPointTree_.foreachOnPath(_,function(oe,ce){var xe=_r(oe,_);w=w||ja(ce,xe)});var M=g.syncPointTree_.get(_);M?w=w||ja(M,xt()):(M=new Ua,g.syncPointTree_=g.syncPointTree_.set(_,M));var R=null!=w,V=R?new di(w,!0,!1):null;return function(g){return Js(g.viewCache_)}(As(M,p,vo(g.pendingWriteTree_,p._path),R?V.getNode():F.EMPTY_NODE,R))}(g.serverSyncTree_,p);return null!=_?Promise.resolve(_):g.server_.get(p).then(function(w){var M=Le(w).withIndex(p._queryParams.getIndex()),R=Ga(g.serverSyncTree_,p._path,M);return hr(g.eventQueue_,p._path,R),Promise.resolve(M)},function(w){return $r(g,"get for query "+(0,G.Pz)(p)+" failed: "+w),Promise.reject(new Error(w))})}((g=(0,G.m9)(g))._repo,g).then(function(p){return new Gd(p,new $n(g._repo,g._path),g._queryParams.getIndex())})}var Xa=function(){function g(p){this.callbackContext=p}return g.prototype.respondsTo=function(p){return"value"===p},g.prototype.createEvent=function(p,_){var w=_._queryParams.getIndex();return new Qa("value",this,new Gd(p.snapshotNode,new $n(_._repo,_._path),w))},g.prototype.getEventRunner=function(p){var _=this;return"cancel"===p.getEventType()?function(){return _.callbackContext.onCancel(p.error)}:function(){return _.callbackContext.onValue(p.snapshot,null)}},g.prototype.createCancelEvent=function(p,_){return this.callbackContext.hasCancelCallback?new Zh(this,p,_):null},g.prototype.matches=function(p){return p instanceof g&&(!p.callbackContext||!this.callbackContext||p.callbackContext.matches(this.callbackContext))},g.prototype.hasAnyCallback=function(){return null!==this.callbackContext},g}(),or=function(){function g(p,_){this.eventType=p,this.callbackContext=_}return g.prototype.respondsTo=function(p){var _="children_added"===p?"child_added":p;return this.eventType===("children_removed"===_?"child_removed":_)},g.prototype.createCancelEvent=function(p,_){return this.callbackContext.hasCancelCallback?new Zh(this,p,_):null},g.prototype.createEvent=function(p,_){(0,G.hu)(null!=p.childName,"Child events should have a childName.");var w=Ja(new $n(_._repo,_._path),p.childName),M=_._queryParams.getIndex();return new Qa(p.type,this,new Gd(p.snapshotNode,w,M),p.prevName)},g.prototype.getEventRunner=function(p){var _=this;return"cancel"===p.getEventType()?function(){return _.callbackContext.onCancel(p.error)}:function(){return _.callbackContext.onValue(p.snapshot,p.prevName)}},g.prototype.matches=function(p){return p instanceof g&&this.eventType===p.eventType&&(!this.callbackContext||!p.callbackContext||this.callbackContext.matches(p.callbackContext))},g.prototype.hasAnyCallback=function(){return!!this.callbackContext},g}();function Ji(g,p,_,w,M){var R;if("object"==typeof w&&(R=void 0,M=w),"function"==typeof w&&(R=w),M&&M.onlyOnce){var V=_,Y=function(ce,xe){Ud(g._repo,g,oe),V(ce,xe)};Y.userCallback=_.userCallback,Y.context=_.context,_=Y}var X=new ua(_,R||void 0),oe="value"===p?new Xa(X):new or(p,X);return function(g,p,_){var w;w=".info"===rn(p._path)?Gh(g.infoSyncTree_,p,_):Gh(g.serverSyncTree_,p,_),hr(g.eventQueue_,p._path,w)}(g._repo,g,oe),function(){return Ud(g._repo,g,oe)}}function sr(g,p,_,w){return Ji(g,"value",p,_,w)}function oi(g,p,_,w){return Ji(g,"child_added",p,_,w)}function yi(g,p,_,w){return Ji(g,"child_changed",p,_,w)}function Hu(g,p,_,w){return Ji(g,"child_moved",p,_,w)}function ar(g,p,_,w){return Ji(g,"child_removed",p,_,w)}function Yo(g,p,_){var w=null,M=_?new ua(_):null;"value"===p?w=new Xa(M):p&&(w=new or(p,M)),Ud(g._repo,g,w)}var br=function(){},zr=function(g){function p(_,w){var M=g.call(this)||this;return M._value=_,M._key=w,M}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){ps("endAt",this._value,_._path,!0);var w=Cc(_._queryParams,this._value,this._key);if($c(w),gs(w),_._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(_._repo,_._path,w,_._orderByCalled)},p}(br);function Do(g,p){return Vl("endAt","key",p,!0),new zr(g,p)}var eu=function(g){function p(_,w){var M=g.call(this)||this;return M._value=_,M._key=w,M}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){ps("endBefore",this._value,_._path,!1);var w=function(g,p,_){var M;return g.index_===Wi?("string"==typeof p&&(p=Ii(p)),M=Cc(g,p,_)):M=Cc(g,p,null==_?De:Ii(_)),M.endBeforeSet_=!0,M}(_._queryParams,this._value,this._key);if($c(w),gs(w),_._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(_._repo,_._path,w,_._orderByCalled)},p}(br);function ca(g,p){return Vl("endBefore","key",p,!0),new eu(g,p)}var da=function(g){function p(_,w){var M=g.call(this)||this;return M._value=_,M._key=w,M}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){ps("startAt",this._value,_._path,!0);var w=Oh(_._queryParams,this._value,this._key);if($c(w),gs(w),_._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ii(_._repo,_._path,w,_._orderByCalled)},p}(br);function jl(g,p){return void 0===g&&(g=null),Vl("startAt","key",p,!0),new da(g,p)}var Dg=function(g){function p(_,w){var M=g.call(this)||this;return M._value=_,M._key=w,M}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){ps("startAfter",this._value,_._path,!1);var w=function(g,p,_){var w;return g.index_===Wi?("string"==typeof p&&(p=Tu(p)),w=Oh(g,p,_)):w=Oh(g,p,null==_?qe:Tu(_)),w.startAfterSet_=!0,w}(_._queryParams,this._value,this._key);if($c(w),gs(w),_._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ii(_._repo,_._path,w,_._orderByCalled)},p}(br);function Qh(g,p){return Vl("startAfter","key",p,!0),new Dg(g,p)}var Jh=function(g){function p(_){var w=g.call(this)||this;return w._limit=_,w}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){if(_._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(_._repo,_._path,function(g,p){var _=g.copy();return _.limitSet_=!0,_.limit_=p,_.viewFrom_="l",_}(_._queryParams,this._limit),_._orderByCalled)},p}(br);function qr(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jh(g)}var st=function(g){function p(_){var w=g.call(this)||this;return w._limit=_,w}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){if(_._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(_._repo,_._path,function(g,p){var _=g.copy();return _.limitSet_=!0,_.limit_=p,_.viewFrom_="r",_}(_._queryParams,this._limit),_._orderByCalled)},p}(br);function cp(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new st(g)}var zc=function(g){function p(_){var w=g.call(this)||this;return w._path=_,w}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){la(_,"orderByChild");var w=new yn(this._path);if(un(w))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var M=new Mt(w),R=ho(_._queryParams,M);return gs(R),new ii(_._repo,_._path,R,!0)},p}(br);function dp(g){if("$key"===g)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===g)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===g)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return aa("orderByChild","path",g,!1),new zc(g)}var ha=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){la(_,"orderByKey");var w=ho(_._queryParams,Wi);return gs(w),new ii(_._repo,_._path,w,!0)},p}(br);function $u(){return new ha}var Qo=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){la(_,"orderByPriority");var w=ho(_._queryParams,Kn);return gs(w),new ii(_._repo,_._path,w,!0)},p}(br);function Xi(){return new Qo}var Gl=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){la(_,"orderByValue");var w=ho(_._queryParams,rr);return gs(w),new ii(_._repo,_._path,w,!0)},p}(br);function qc(){return new Gl}var hp=function(g){function p(_,w){var M=g.call(this)||this;return M._value=_,M._key=w,M}return(0,ae.ZT)(p,g),p.prototype._apply=function(_){if(ps("equalTo",this._value,_._path,!1),_._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(_._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zr(this._value,this._key)._apply(new da(this._value,this._key)._apply(_))},p}(br);function eo(g,p){return Vl("equalTo","key",p,!0),new hp(g,p)}function ji(g){for(var p,_,w=[],M=1;M<arguments.length;M++)w[M-1]=arguments[M];var R=(0,G.m9)(g);try{for(var V=(0,ae.XA)(w),Y=V.next();!Y.done;Y=V.next()){var X=Y.value;R=X._apply(R)}}catch(oe){p={error:oe}}finally{try{Y&&!Y.done&&(_=V.return)&&_.call(V)}finally{if(p)throw p.error}}return R}(function(g){(0,G.hu)(!Ou,"__referenceConstructor has already been defined"),Ou=g})($n),function(g){(0,G.hu)(!Ad,"__referenceConstructor has already been defined"),Ad=g}($n);var _i={},zu=!1;function zd(g,p,_,w,M){var R=w||g.options.databaseURL;void 0===R&&(g.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",g.options.projectId),R=g.options.projectId+"-default-rtdb.firebaseio.com");var X,V=Gc(R,M),Y=V.repoInfo,oe=void 0;"undefined"!=typeof process&&(oe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),oe?(X=!0,Y=(V=Gc(R="http://"+oe+"?ns="+Y.namespace,M)).repoInfo):X=!V.repoInfo.secure;var ce=M&&X?new Et(Et.OWNER):new St(g.name,g.options,p);qo("Invalid Firebase Database URL",V),un(V.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");var xe=function(g,p,_,w){var M=_i[p.name];M||(_i[p.name]=M={});var R=M[g.toURLString()];return R&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),R=new Vc(g,zu,_,w),M[g.toURLString()]=R,R}(Y,g,ce,new On(g.name,_));return new Kc(xe,g)}var Kc=function(){function g(p,_){this._repoInternal=p,this.app=_,this.type="database",this._instanceStarted=!1}return Object.defineProperty(g.prototype,"_repo",{get:function(){return this._instanceStarted||(function(g,p,_){if(g.stats_=Bn(g.repoInfo_),g.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)g.server_=new D_(g.repoInfo_,function(w,M,R,V){er(g,w,M,R,V)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(function(){return Lu(g,!0)},0);else{if(null!=_){if("object"!=typeof _)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,G.Pz)(_)}catch(w){throw new Error("Invalid authOverride provided: "+w)}}g.persistentConnection_=new xa(g.repoInfo_,p,function(w,M,R,V){er(g,w,M,R,V)},function(w){Lu(g,w)},function(w){!function(g,p){_t(p,function(_,w){Ps(g,_,w)})}(g,w)},g.authTokenProvider_,g.appCheckProvider_,_),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener(function(w){g.server_.refreshAuthToken(w)}),g.appCheckProvider_.addTokenChangeListener(function(w){g.server_.refreshAppCheckToken(w.token)}),g.statsReporter_=function(g,p){var _=g.toString();return Fi[_]||(Fi[_]=p()),Fi[_]}(g.repoInfo_,function(){return new pg(g.stats_,g.server_)}),g.infoData_=new Zm,g.infoSyncTree_=new Ki({startListening:function(w,M,R,V){var Y=[],X=g.infoData_.getNode(w._path);return X.isEmpty()||(Y=Ga(g.infoSyncTree_,w._path,X),setTimeout(function(){V("ok")},0)),Y},stopListening:function(){}}),Ps(g,"connected",!1),g.serverSyncTree_=new Ki({startListening:function(w,M,R,V){return g.server_.listen(w,R,M,function(Y,X){var oe=V(Y,X);Ht(g.eventQueue_,w._path,oe)}),[]},stopListening:function(w,M){g.server_.unlisten(w,M)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new $n(this._repo,xt())),this._rootInternal},enumerable:!1,configurable:!0}),g.prototype._delete=function(){return null!==this._rootInternal&&(function(g,p){var _=_i[p];(!_||_[g.key]!==g)&&nn("Database "+p+"("+g.repoInfo_+") has already been deleted."),Uc(g),delete _[g.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},g.prototype._checkNotDeleted=function(p){null===this._rootInternal&&nn("Cannot call "+p+" on a deleted database.")},g}();function ks(g){(g=(0,G.m9)(g))._checkNotDeleted("goOffline"),Uc(g._repo)}function qu(g){(g=(0,G.m9)(g))._checkNotDeleted("goOnline"),function(g){g.persistentConnection_&&g.persistentConnection_.resume(Ld)}(g._repo)}var Jo={".sv":"timestamp"},qd=function(){function g(p,_){this.committed=p,this.snapshot=_}return g.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}();function ef(g,p,_){var w;if(g=(0,G.m9)(g),Oi("Reference.transaction",g._path),".length"===g.key||".keys"===g.key)throw"Reference.transaction failed: "+g.key+" is a read-only object.";var M=null===(w=null==_?void 0:_.applyLocally)||void 0===w||w,R=new G.BH,Y=sr(g,function(){});return function(g,p,_,w,M,R){$r(g,"transaction on "+p);var V={path:p,update:_,onComplete:w,status:null,order:ze(),applyLocally:R,retryCount:0,unwatcher:M,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Y=Ko(g,p,void 0);V.currentInputSnapshot=Y;var X=V.update(Y.val());if(void 0===X)V.unwatcher(),V.currentOutputSnapshotRaw=null,V.currentOutputSnapshotResolved=null,V.onComplete&&V.onComplete(null,!1,V.currentInputSnapshot);else{dr("transaction failed: Data returned ",X,V.path),V.status=0;var oe=kl(g.transactionQueueTree_,p),ce=Xn(oe)||[];ce.push(V),Ll(oe,ce);var xe=void 0;"object"==typeof X&&null!==X&&(0,G.r3)(X,".priority")?(xe=(0,G.DV)(X,".priority"),(0,G.hu)(wo(xe),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):xe=(Pu(g.serverSyncTree_,p)||F.EMPTY_NODE).getPriority().val();var Xe=Bi(g),Ct=Le(X,xe),zt=Pc(Ct,Y,Xe);V.currentOutputSnapshotRaw=Ct,V.currentOutputSnapshotResolved=zt,V.currentWriteId=Vu(g);var kt=Md(g.serverSyncTree_,p,zt,V.currentWriteId,V.applyLocally);Ht(g.eventQueue_,p,kt),Zo(g,g.transactionQueueTree_)}}(g._repo,g._path,p,function(X,oe,ce){var xe=null;X?R.reject(X):(xe=new Gd(ce,new $n(g._repo,g._path),Kn),R.resolve(new qd(oe,xe)))},Y,M),R.promise}var So=function(){function g(p){this._delegate=p}return g.prototype.cancel=function(p){(0,G.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,G.Wj)("OnDisconnect.cancel","onComplete",p,!0);var _=this._delegate.cancel();return p&&_.then(function(){return p(null)},function(w){return p(w)}),_},g.prototype.remove=function(p){(0,G.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,G.Wj)("OnDisconnect.remove","onComplete",p,!0);var _=this._delegate.remove();return p&&_.then(function(){return p(null)},function(w){return p(w)}),_},g.prototype.set=function(p,_){(0,G.Dv)("OnDisconnect.set",1,2,arguments.length),(0,G.Wj)("OnDisconnect.set","onComplete",_,!0);var w=this._delegate.set(p);return _&&w.then(function(){return _(null)},function(M){return _(M)}),w},g.prototype.setWithPriority=function(p,_,w){(0,G.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,G.Wj)("OnDisconnect.setWithPriority","onComplete",w,!0);var M=this._delegate.setWithPriority(p,_);return w&&M.then(function(){return w(null)},function(R){return w(R)}),M},g.prototype.update=function(p,_){if((0,G.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(p)){for(var w={},M=0;M<p.length;++M)w[""+M]=p[M];p=w,xn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,G.Wj)("OnDisconnect.update","onComplete",_,!0);var R=this._delegate.update(p);return _&&R.then(function(){return _(null)},function(V){return _(V)}),R},g}(),tu=function(){function g(p,_){this.committed=p,this.snapshot=_}return g.prototype.toJSON=function(){return(0,G.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},g}(),Ls=function(){function g(p,_){this._database=p,this._delegate=_}return g.prototype.val=function(){return(0,G.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},g.prototype.exportVal=function(){return(0,G.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},g.prototype.toJSON=function(){return(0,G.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},g.prototype.exists=function(){return(0,G.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},g.prototype.child=function(p){return(0,G.Dv)("DataSnapshot.child",0,1,arguments.length),p=String(p),aa("DataSnapshot.child","path",p,!1),new g(this._database,this._delegate.child(p))},g.prototype.hasChild=function(p){return(0,G.Dv)("DataSnapshot.hasChild",1,1,arguments.length),aa("DataSnapshot.hasChild","path",p,!1),this._delegate.hasChild(p)},g.prototype.getPriority=function(){return(0,G.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},g.prototype.forEach=function(p){var _=this;return(0,G.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,G.Wj)("DataSnapshot.forEach","action",p,!1),this._delegate.forEach(function(w){return p(new g(_._database,w))})},g.prototype.hasChildren=function(){return(0,G.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(g.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),g.prototype.numChildren=function(){return(0,G.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},g.prototype.getRef=function(){return(0,G.Dv)("DataSnapshot.ref",0,0,arguments.length),new bi(this._database,this._delegate.ref)},Object.defineProperty(g.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),g}(),tf=function(){function g(p,_){this.database=p,this._delegate=_}return g.prototype.on=function(p,_,w,M){var V,R=this;(0,G.Dv)("Query.on",2,4,arguments.length),(0,G.Wj)("Query.on","callback",_,!1);var Y=g.getCancelAndContextArgs_("Query.on",w,M),X=function(ce,xe){_.call(Y.context,new Ls(R.database,ce),xe)};X.userCallback=_,X.context=Y.context;var oe=null===(V=Y.cancel)||void 0===V?void 0:V.bind(Y.context);switch(p){case"value":return sr(this._delegate,X,oe),_;case"child_added":return oi(this._delegate,X,oe),_;case"child_removed":return ar(this._delegate,X,oe),_;case"child_changed":return yi(this._delegate,X,oe),_;case"child_moved":return Hu(this._delegate,X,oe),_;default:throw new Error((0,G.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},g.prototype.off=function(p,_,w){if((0,G.Dv)("Query.off",0,3,arguments.length),kc("Query.off",p,!0),(0,G.Wj)("Query.off","callback",_,!0),(0,G.lb)("Query.off","context",w,!0),_){var M=function(){};M.userCallback=_,M.context=w,Yo(this._delegate,p,M)}else Yo(this._delegate,p)},g.prototype.get=function(){var p=this;return Gu(this._delegate).then(function(_){return new Ls(p.database,_)})},g.prototype.once=function(p,_,w,M){var R=this;(0,G.Dv)("Query.once",1,4,arguments.length),(0,G.Wj)("Query.once","callback",_,!0);var V=g.getCancelAndContextArgs_("Query.once",w,M),Y=new G.BH,X=function(ce,xe){var Ge=new Ls(R.database,ce);_&&_.call(V.context,Ge,xe),Y.resolve(Ge)};X.userCallback=_,X.context=V.context;var oe=function(ce){V.cancel&&V.cancel.call(V.context,ce),Y.reject(ce)};switch(p){case"value":sr(this._delegate,X,oe,{onlyOnce:!0});break;case"child_added":oi(this._delegate,X,oe,{onlyOnce:!0});break;case"child_removed":ar(this._delegate,X,oe,{onlyOnce:!0});break;case"child_changed":yi(this._delegate,X,oe,{onlyOnce:!0});break;case"child_moved":Hu(this._delegate,X,oe,{onlyOnce:!0});break;default:throw new Error((0,G.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return Y.promise},g.prototype.limitToFirst=function(p){return(0,G.Dv)("Query.limitToFirst",1,1,arguments.length),new g(this.database,ji(this._delegate,qr(p)))},g.prototype.limitToLast=function(p){return(0,G.Dv)("Query.limitToLast",1,1,arguments.length),new g(this.database,ji(this._delegate,cp(p)))},g.prototype.orderByChild=function(p){return(0,G.Dv)("Query.orderByChild",1,1,arguments.length),new g(this.database,ji(this._delegate,dp(p)))},g.prototype.orderByKey=function(){return(0,G.Dv)("Query.orderByKey",0,0,arguments.length),new g(this.database,ji(this._delegate,$u()))},g.prototype.orderByPriority=function(){return(0,G.Dv)("Query.orderByPriority",0,0,arguments.length),new g(this.database,ji(this._delegate,Xi()))},g.prototype.orderByValue=function(){return(0,G.Dv)("Query.orderByValue",0,0,arguments.length),new g(this.database,ji(this._delegate,qc()))},g.prototype.startAt=function(p,_){return void 0===p&&(p=null),(0,G.Dv)("Query.startAt",0,2,arguments.length),new g(this.database,ji(this._delegate,jl(p,_)))},g.prototype.startAfter=function(p,_){return void 0===p&&(p=null),(0,G.Dv)("Query.startAfter",0,2,arguments.length),new g(this.database,ji(this._delegate,Qh(p,_)))},g.prototype.endAt=function(p,_){return void 0===p&&(p=null),(0,G.Dv)("Query.endAt",0,2,arguments.length),new g(this.database,ji(this._delegate,Do(p,_)))},g.prototype.endBefore=function(p,_){return void 0===p&&(p=null),(0,G.Dv)("Query.endBefore",0,2,arguments.length),new g(this.database,ji(this._delegate,ca(p,_)))},g.prototype.equalTo=function(p,_){return(0,G.Dv)("Query.equalTo",1,2,arguments.length),new g(this.database,ji(this._delegate,eo(p,_)))},g.prototype.toString=function(){return(0,G.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},g.prototype.toJSON=function(){return(0,G.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},g.prototype.isEqual=function(p){if((0,G.Dv)("Query.isEqual",1,1,arguments.length),!(p instanceof g)){var _="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(_)}return this._delegate.isEqual(p._delegate)},g.getCancelAndContextArgs_=function(p,_,w){var M={cancel:void 0,context:void 0};if(_&&w)M.cancel=_,(0,G.Wj)(p,"cancel",M.cancel,!0),M.context=w,(0,G.lb)(p,"context",M.context,!0);else if(_)if("object"==typeof _&&null!==_)M.context=_;else{if("function"!=typeof _)throw new Error((0,G.gK)(p,"cancelOrContext")+" must either be a cancel callback or a context object.");M.cancel=_}return M},Object.defineProperty(g.prototype,"ref",{get:function(){return new bi(this.database,new $n(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),g}(),bi=function(g){function p(_,w){var M=g.call(this,_,new ii(w._repo,w._path,new hg,!1))||this;return M.database=_,M._delegate=w,M}return(0,ae.ZT)(p,g),p.prototype.getKey=function(){return(0,G.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},p.prototype.child=function(_){return(0,G.Dv)("Reference.child",1,1,arguments.length),"number"==typeof _&&(_=String(_)),new p(this.database,Ja(this._delegate,_))},p.prototype.getParent=function(){(0,G.Dv)("Reference.parent",0,0,arguments.length);var _=this._delegate.parent;return _?new p(this.database,_):null},p.prototype.getRoot=function(){return(0,G.Dv)("Reference.root",0,0,arguments.length),new p(this.database,this._delegate.root)},p.prototype.set=function(_,w){(0,G.Dv)("Reference.set",1,2,arguments.length),(0,G.Wj)("Reference.set","onComplete",w,!0);var M=ju(this._delegate,_);return w&&M.then(function(){return w(null)},function(R){return w(R)}),M},p.prototype.update=function(_,w){if((0,G.Dv)("Reference.update",1,2,arguments.length),Array.isArray(_)){for(var M={},R=0;R<_.length;++R)M[""+R]=_[R];_=M,xn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oi("Reference.update",this._delegate._path),(0,G.Wj)("Reference.update","onComplete",w,!0);var V=Tg(this._delegate,_);return w&&V.then(function(){return w(null)},function(Y){return w(Y)}),V},p.prototype.setWithPriority=function(_,w,M){(0,G.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,G.Wj)("Reference.setWithPriority","onComplete",M,!0);var R=lp(this._delegate,_,w);return M&&R.then(function(){return M(null)},function(V){return M(V)}),R},p.prototype.remove=function(_){(0,G.Dv)("Reference.remove",0,1,arguments.length),(0,G.Wj)("Reference.remove","onComplete",_,!0);var w=Yh(this._delegate);return _&&w.then(function(){return _(null)},function(M){return _(M)}),w},p.prototype.transaction=function(_,w,M){var R=this;(0,G.Dv)("Reference.transaction",1,3,arguments.length),(0,G.Wj)("Reference.transaction","transactionUpdate",_,!1),(0,G.Wj)("Reference.transaction","onComplete",w,!0),np("Reference.transaction","applyLocally",M,!0);var V=ef(this._delegate,_,{applyLocally:M}).then(function(Y){return new tu(Y.committed,new Ls(R.database,Y.snapshot))});return w&&V.then(function(Y){return w(null,Y.committed,Y.snapshot)},function(Y){return w(Y,!1,null)}),V},p.prototype.setPriority=function(_,w){(0,G.Dv)("Reference.setPriority",1,2,arguments.length),(0,G.Wj)("Reference.setPriority","onComplete",w,!0);var M=ys(this._delegate,_);return w&&M.then(function(){return w(null)},function(R){return w(R)}),M},p.prototype.push=function(_,w){var M=this;(0,G.Dv)("Reference.push",0,2,arguments.length),(0,G.Wj)("Reference.push","onComplete",w,!0);var R=Hd(this._delegate,_),V=R.then(function(X){return new p(M.database,X)});w&&V.then(function(){return w(null)},function(X){return w(X)});var Y=new p(this.database,R);return Y.then=V.then.bind(V),Y.catch=V.catch.bind(V,void 0),Y},p.prototype.onDisconnect=function(){return Oi("Reference.onDisconnect",this._delegate._path),new So(new Hc(this._delegate._repo,this._delegate._path))},Object.defineProperty(p.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),p}(tf),Vs=function(){function g(p,_){var w=this;this._delegate=p,this.app=_,this.INTERNAL={delete:function(){return w._delegate._delete()}}}return g.prototype.useEmulator=function(p,_,w){void 0===w&&(w={}),function(g,p,_,w){void 0===w&&(w={}),(g=(0,G.m9)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&nn("Cannot call useEmulator() after instance has already been initialized.");var M=g._repoInternal,R=void 0;if(M.repoInfo_.nodeAdmin)w.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),R=new Et(Et.OWNER);else if(w.mockUserToken){var V="string"==typeof w.mockUserToken?w.mockUserToken:(0,G.Sg)(w.mockUserToken,g.app.options.projectId);R=new Et(V)}!function(g,p,_,w){g.repoInfo_=new Wn(p+":"+_,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams),w&&(g.authTokenProvider_=w)}(M,p,_,R)}(this._delegate,p,_,w)},g.prototype.ref=function(p){if((0,G.Dv)("database.ref",0,1,arguments.length),p instanceof bi){var _=ms(this._delegate,p.toString());return new bi(this,_)}return _=Bu(this._delegate,p),new bi(this,_)},g.prototype.refFromURL=function(p){var _="database.refFromURL";(0,G.Dv)(_,1,1,arguments.length);var w=ms(this._delegate,p);return new bi(this,w)},g.prototype.goOffline=function(){return(0,G.Dv)("database.goOffline",0,0,arguments.length),ks(this._delegate)},g.prototype.goOnline=function(){return(0,G.Dv)("database.goOnline",0,0,arguments.length),qu(this._delegate)},g.ServerValue={TIMESTAMP:Jo,increment:function(p){return function(g){return{".sv":{increment:g}}}(p)}},g}(),Yc=Object.freeze({__proto__:null,forceLongPolling:function(){Pr.forceDisallow(),Ma.forceAllow()},forceWebSockets:function(){Ma.forceDisallow()},isWebSocketsAvailable:function(){return Pr.isAvailable()},setSecurityDebugCallback:function(g,p){g._delegate._repo.persistentConnection_.securityDebugCallback_=p},stats:function(g,p){!function(g,p){if(void 0===p&&(p=!1),"undefined"!=typeof console){var _;p?(g.statsListener_||(g.statsListener_=new Ts(g.stats_)),_=g.statsListener_.get()):_=g.stats_.get();var w=Object.keys(_).reduce(function(M,R){return Math.max(R.length,M)},0);_t(_,function(M,R){for(var V=M,Y=M.length;Y<w+2;Y++)V+=" ";console.log(V+R)})}}(g._delegate._repo,p)},statsIncrementCounter:function(g,p){!function(g,p){g.stats_.incrementCounter(p),function(g,p){g.statsToReport_[p]=!0}(g.statsReporter_,p)}(g._delegate._repo,p)},dataUpdateCount:function(g){return g._delegate._repo.dataUpdateCount},interceptServerData:function(g,p){return function(g,p){g.interceptServerDataCallback_=p}(g._delegate._repo,p)},initStandalone:function(g){var p=g.app,_=g.url,M=g.customAuthImpl,R=g.namespace,V=g.nodeAdmin,Y=void 0!==V&&V;ue(g.version);var X=new v.zt("auth-internal",new v.H0("database-standalone"));return X.setComponent(new v.wA("auth-internal",function(){return M},"PRIVATE")),{instance:new Vs(zd(p,X,void 0,_,Y),p),namespace:R}}}),Xo=xa;xa.prototype.simpleListen=function(g,p){this.sendRequest("q",{p:g},p)},xa.prototype.echo=function(g,p){this.sendRequest("echo",{d:g},p)};var Og=Object.freeze({__proto__:null,DataConnection:Xo,RealTimeConnection:Es,hijackHash:function(g){var p=xa.prototype.put;return xa.prototype.put=function(_,w,M,R){void 0!==R&&(R=g()),p.call(this,_,w,M,R)},function(){xa.prototype.put=p}},ConnectionTarget:Wn,queryIdentifier:function(g){return g._delegate._queryIdentifier},forceRestClient:function(g){!function(g){zu=g}(g)}}),$l=Vs.ServerValue;!function(g){ue(g.SDK_VERSION);var p=g.INTERNAL.registerComponent(new v.wA("database",function(_,w){var M=w.instanceIdentifier,R=_.getProvider("app").getImmediate(),V=_.getProvider("auth-internal"),Y=_.getProvider("app-check-internal");return new Vs(zd(R,V,Y,M),R)},"PUBLIC").setServiceProps({Reference:bi,Query:tf,Database:Vs,DataSnapshot:Ls,enableLogging:ft,INTERNAL:Yc,ServerValue:$l,TEST_ACCESS:Og}).setMultipleInstances(!0));g.registerVersion("@firebase/database","0.11.0"),(0,G.Yr)()&&(pt.exports=p)}(B.Z)},300:(pt,Oe,$)=>{"use strict";function B(){for(var te=0,_e=0,Ne=arguments.length;_e<Ne;_e++)te+=arguments[_e].length;var ot=Array(te),ze=0;for(_e=0;_e<Ne;_e++)for(var at=arguments[_e],Ze=0,ht=at.length;Ze<ht;Ze++,ze++)ot[ze]=at[Ze];return ot}$.d(Oe,{in:()=>ae,Yd:()=>ue,Ub:()=>re,Am:()=>le});var v,G=[],ae=(()=>{return(te=ae||(ae={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",ae;var te})(),Ee={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ne=ae.INFO,ve=((v={})[ae.DEBUG]="log",v[ae.VERBOSE]="log",v[ae.INFO]="info",v[ae.WARN]="warn",v[ae.ERROR]="error",v),se=function(te,_e){for(var Ne=[],ot=2;ot<arguments.length;ot++)Ne[ot-2]=arguments[ot];if(!(_e<te.logLevel)){var ze=(new Date).toISOString(),at=ve[_e];if(!at)throw new Error("Attempted to log a message with an invalid logType (value: "+_e+")");console[at].apply(console,B(["["+ze+"]  "+te.name+":"],Ne))}},ue=function(){function te(_e){this.name=_e,this._logLevel=ne,this._logHandler=se,this._userLogHandler=null,G.push(this)}return Object.defineProperty(te.prototype,"logLevel",{get:function(){return this._logLevel},set:function(_e){if(!(_e in ae))throw new TypeError('Invalid value "'+_e+'" assigned to `logLevel`');this._logLevel=_e},enumerable:!1,configurable:!0}),te.prototype.setLogLevel=function(_e){this._logLevel="string"==typeof _e?Ee[_e]:_e},Object.defineProperty(te.prototype,"logHandler",{get:function(){return this._logHandler},set:function(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(_e){this._userLogHandler=_e},enumerable:!1,configurable:!0}),te.prototype.debug=function(){for(var _e=[],Ne=0;Ne<arguments.length;Ne++)_e[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,B([this,ae.DEBUG],_e)),this._logHandler.apply(this,B([this,ae.DEBUG],_e))},te.prototype.log=function(){for(var _e=[],Ne=0;Ne<arguments.length;Ne++)_e[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,B([this,ae.VERBOSE],_e)),this._logHandler.apply(this,B([this,ae.VERBOSE],_e))},te.prototype.info=function(){for(var _e=[],Ne=0;Ne<arguments.length;Ne++)_e[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,B([this,ae.INFO],_e)),this._logHandler.apply(this,B([this,ae.INFO],_e))},te.prototype.warn=function(){for(var _e=[],Ne=0;Ne<arguments.length;Ne++)_e[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,B([this,ae.WARN],_e)),this._logHandler.apply(this,B([this,ae.WARN],_e))},te.prototype.error=function(){for(var _e=[],Ne=0;Ne<arguments.length;Ne++)_e[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,B([this,ae.ERROR],_e)),this._logHandler.apply(this,B([this,ae.ERROR],_e))},te}();function re(te){G.forEach(function(_e){_e.setLogLevel(te)})}function le(te,_e){for(var Ne=function(Ze){var ht=null;_e&&_e.level&&(ht=Ee[_e.level]),Ze.userLogHandler=null===te?null:function(z,ft){for(var et=[],Kt=2;Kt<arguments.length;Kt++)et[Kt-2]=arguments[Kt];var Nn=et.map(function(nn){if(null==nn)return null;if("string"==typeof nn)return nn;if("number"==typeof nn||"boolean"==typeof nn)return nn.toString();if(nn instanceof Error)return nn.message;try{return JSON.stringify(nn)}catch(xn){return null}}).filter(function(nn){return nn}).join(" ");ft>=(null!=ht?ht:z.logLevel)&&te({level:ae[ft].toLowerCase(),message:Nn,args:et,type:z.name})}},ot=0,ze=G;ot<ze.length;ot++)Ne(ze[ot])}},4685:(pt,Oe,$)=>{"use strict";$.d(Oe,{BH:()=>Ne,LL:()=>gt,gQ:()=>wn,hu:()=>G,g5:()=>ae,US:()=>ve,h$:()=>se,r3:()=>$e,Sg:()=>ot,ne:()=>gn,p$:()=>le,ZB:()=>te,gK:()=>Aa,m9:()=>jn,z$:()=>ze,GJ:()=>dn,jU:()=>ht,ru:()=>z,d:()=>et,xb:()=>ct,w1:()=>Kt,uI:()=>at,UG:()=>Ze,Yr:()=>nn,b$:()=>ft,G6:()=>xn,Mn:()=>Nn,w9:()=>Qt,cI:()=>yt,UI:()=>Pt,xO:()=>On,DV:()=>Qe,ug:()=>At,dS:()=>Wn,Pz:()=>_t,Dv:()=>Cs,Wj:()=>Dr,lb:()=>_d});var B=$(4762),G=function(fe,de){if(!fe)throw ae(de)},ae=function(fe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+fe)},Ee=function(fe){for(var de=[],Se=0,Fe=0;Fe<fe.length;Fe++){var Ie=fe.charCodeAt(Fe);Ie<128?de[Se++]=Ie:Ie<2048?(de[Se++]=Ie>>6|192,de[Se++]=63&Ie|128):55296==(64512&Ie)&&Fe+1<fe.length&&56320==(64512&fe.charCodeAt(Fe+1))?(Ie=65536+((1023&Ie)<<10)+(1023&fe.charCodeAt(++Fe)),de[Se++]=Ie>>18|240,de[Se++]=Ie>>12&63|128,de[Se++]=Ie>>6&63|128,de[Se++]=63&Ie|128):(de[Se++]=Ie>>12|224,de[Se++]=Ie>>6&63|128,de[Se++]=63&Ie|128)}return de},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(fe,de){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Se=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[],Ie=0;Ie<fe.length;Ie+=3){var vt=fe[Ie],It=Ie+1<fe.length,hn=It?fe[Ie+1]:0,Gn=Ie+2<fe.length,Dn=Gn?fe[Ie+2]:0,Or=(15&hn)<<2|Dn>>6,Oo=63&Dn;Gn||(Oo=64,It||(Or=64)),Fe.push(Se[vt>>2],Se[(3&vt)<<4|hn>>4],Se[Or],Se[Oo])}return Fe.join("")},encodeString:function(fe,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(fe):this.encodeByteArray(Ee(fe),de)},decodeString:function(fe,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(fe):function(fe){for(var de=[],Se=0,Fe=0;Se<fe.length;){var Ie=fe[Se++];if(Ie<128)de[Fe++]=String.fromCharCode(Ie);else if(Ie>191&&Ie<224){var vt=fe[Se++];de[Fe++]=String.fromCharCode((31&Ie)<<6|63&vt)}else if(Ie>239&&Ie<365){var Gn=((7&Ie)<<18|(63&(vt=fe[Se++]))<<12|(63&(It=fe[Se++]))<<6|63&fe[Se++])-65536;de[Fe++]=String.fromCharCode(55296+(Gn>>10)),de[Fe++]=String.fromCharCode(56320+(1023&Gn))}else{vt=fe[Se++];var It=fe[Se++];de[Fe++]=String.fromCharCode((15&Ie)<<12|(63&vt)<<6|63&It)}}return de.join("")}(this.decodeStringToByteArray(fe,de))},decodeStringToByteArray:function(fe,de){this.init_();for(var Se=de?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[],Ie=0;Ie<fe.length;){var vt=Se[fe.charAt(Ie++)],hn=Ie<fe.length?Se[fe.charAt(Ie)]:0,Dn=++Ie<fe.length?Se[fe.charAt(Ie)]:64,li=++Ie<fe.length?Se[fe.charAt(Ie)]:64;if(++Ie,null==vt||null==hn||null==Dn||null==li)throw Error();Fe.push(vt<<2|hn>>4),64!==Dn&&(Fe.push(hn<<4&240|Dn>>2),64!==li&&Fe.push(Dn<<6&192|li))}return Fe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}},se=function(fe){var de=Ee(fe);return ve.encodeByteArray(de,!0)},ue=function(fe){return se(fe).replace(/\./g,"")},re=function(fe){try{return ve.decodeString(fe,!0)}catch(de){console.error("base64Decode failed: ",de)}return null};function le(fe){return te(void 0,fe)}function te(fe,de){if(!(de instanceof Object))return de;switch(de.constructor){case Date:return new Date(de.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return de}for(var Fe in de)!de.hasOwnProperty(Fe)||!_e(Fe)||(fe[Fe]=te(fe[Fe],de[Fe]));return fe}function _e(fe){return"__proto__"!==fe}var Ne=function(){function fe(){var de=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Se,Fe){de.resolve=Se,de.reject=Fe})}return fe.prototype.wrapCallback=function(de){var Se=this;return function(Fe,Ie){Fe?Se.reject(Fe):Se.resolve(Ie),"function"==typeof de&&(Se.promise.catch(function(){}),1===de.length?de(Fe):de(Fe,Ie))}},fe}();function ot(fe,de){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Fe=de||"demo-project",Ie=fe.iat||0,vt=fe.sub||fe.user_id;if(!vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var It=(0,B.pi)({iss:"https://securetoken.google.com/"+Fe,aud:Fe,iat:Ie,exp:Ie+3600,auth_time:Ie,sub:vt,user_id:vt,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(It)),""].join(".")}function ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(fe){return!1}}function ht(){return"object"==typeof self&&self.self===self}function z(){var fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){return ze().indexOf("Electron/")>=0}function Kt(){var fe=ze();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function Nn(){return ze().indexOf("MSAppHost/")>=0}function nn(){return!1}function xn(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Re=function(fe){function de(Se,Fe,Ie){var vt=fe.call(this,Fe)||this;return vt.code=Se,vt.customData=Ie,vt.name="FirebaseError",Object.setPrototypeOf(vt,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(vt,gt.prototype.create),vt}return(0,B.ZT)(de,fe),de}(Error),gt=function(){function fe(de,Se,Fe){this.service=de,this.serviceName=Se,this.errors=Fe}return fe.prototype.create=function(de){for(var Se=[],Fe=1;Fe<arguments.length;Fe++)Se[Fe-1]=arguments[Fe];var Ie=Se[0]||{},vt=this.service+"/"+de,It=this.errors[de],hn=It?rt(It,Ie):"Error",Gn=this.serviceName+": "+hn+" ("+vt+").",Dn=new Re(vt,Gn,Ie);return Dn},fe}();function rt(fe,de){return fe.replace(jt,function(Se,Fe){var Ie=de[Fe];return null!=Ie?String(Ie):"<"+Fe+"?>"})}var jt=/\{\$([^}]+)}/g;function yt(fe){return JSON.parse(fe)}function _t(fe){return JSON.stringify(fe)}var Ke=function(fe){var de={},Se={},Fe={},Ie="";try{var vt=fe.split(".");de=yt(re(vt[0])||""),Se=yt(re(vt[1])||""),Ie=vt[2],Fe=Se.d||{},delete Se.d}catch(It){}return{header:de,claims:Se,data:Fe,signature:Ie}},Qt=function(fe){var Se=Ke(fe).claims;return!!Se&&"object"==typeof Se&&Se.hasOwnProperty("iat")},dn=function(fe){var de=Ke(fe).claims;return"object"==typeof de&&!0===de.admin};function $e(fe,de){return Object.prototype.hasOwnProperty.call(fe,de)}function Qe(fe,de){if(Object.prototype.hasOwnProperty.call(fe,de))return fe[de]}function ct(fe){for(var de in fe)if(Object.prototype.hasOwnProperty.call(fe,de))return!1;return!0}function Pt(fe,de,Se){var Fe={};for(var Ie in fe)Object.prototype.hasOwnProperty.call(fe,Ie)&&(Fe[Ie]=de.call(Se,fe[Ie],Ie,fe));return Fe}function On(fe){for(var de=[],Se=function(Gn,Dn){Array.isArray(Dn)?Dn.forEach(function(ui){de.push(encodeURIComponent(Gn)+"="+encodeURIComponent(ui))}):de.push(encodeURIComponent(Gn)+"="+encodeURIComponent(Dn))},Fe=0,Ie=Object.entries(fe);Fe<Ie.length;Fe++){var vt=Ie[Fe];Se(vt[0],vt[1])}return de.length?"&"+de.join("&"):""}var wn=function(){function fe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var de=1;de<this.blockSize;++de)this.pad_[de]=0;this.reset()}return fe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},fe.prototype.compress_=function(de,Se){Se||(Se=0);var Fe=this.W_;if("string"==typeof de)for(var Ie=0;Ie<16;Ie++)Fe[Ie]=de.charCodeAt(Se)<<24|de.charCodeAt(Se+1)<<16|de.charCodeAt(Se+2)<<8|de.charCodeAt(Se+3),Se+=4;else for(Ie=0;Ie<16;Ie++)Fe[Ie]=de[Se]<<24|de[Se+1]<<16|de[Se+2]<<8|de[Se+3],Se+=4;for(Ie=16;Ie<80;Ie++)Fe[Ie]=4294967295&((vt=Fe[Ie-3]^Fe[Ie-8]^Fe[Ie-14]^Fe[Ie-16])<<1|vt>>>31);var li,Or,It=this.chain_[0],hn=this.chain_[1],Gn=this.chain_[2],Dn=this.chain_[3],ui=this.chain_[4];for(Ie=0;Ie<80;Ie++){Ie<40?Ie<20?(li=Dn^hn&(Gn^Dn),Or=1518500249):(li=hn^Gn^Dn,Or=1859775393):Ie<60?(li=hn&Gn|Dn&(hn|Gn),Or=2400959708):(li=hn^Gn^Dn,Or=3395469782);var vt=(It<<5|It>>>27)+li+ui+Or+Fe[Ie]&4294967295;ui=Dn,Dn=Gn,Gn=4294967295&(hn<<30|hn>>>2),hn=It,It=vt}this.chain_[0]=this.chain_[0]+It&4294967295,this.chain_[1]=this.chain_[1]+hn&4294967295,this.chain_[2]=this.chain_[2]+Gn&4294967295,this.chain_[3]=this.chain_[3]+Dn&4294967295,this.chain_[4]=this.chain_[4]+ui&4294967295},fe.prototype.update=function(de,Se){if(null!=de){void 0===Se&&(Se=de.length);for(var Fe=Se-this.blockSize,Ie=0,vt=this.buf_,It=this.inbuf_;Ie<Se;){if(0===It)for(;Ie<=Fe;)this.compress_(de,Ie),Ie+=this.blockSize;if("string"==typeof de){for(;Ie<Se;)if(vt[It]=de.charCodeAt(Ie),++Ie,++It===this.blockSize){this.compress_(vt),It=0;break}}else for(;Ie<Se;)if(vt[It]=de[Ie],++Ie,++It===this.blockSize){this.compress_(vt),It=0;break}}this.inbuf_=It,this.total_+=Se}},fe.prototype.digest=function(){var de=[],Se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Fe=this.blockSize-1;Fe>=56;Fe--)this.buf_[Fe]=255&Se,Se/=256;this.compress_(this.buf_);var Ie=0;for(Fe=0;Fe<5;Fe++)for(var vt=24;vt>=0;vt-=8)de[Ie]=this.chain_[Fe]>>vt&255,++Ie;return de},fe}();function gn(fe,de){var Se=new Je(fe,de);return Se.subscribe.bind(Se)}var Je=function(){function fe(de,Se){var Fe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(function(){de(Fe)}).catch(function(Ie){Fe.error(Ie)})}return fe.prototype.next=function(de){this.forEachObserver(function(Se){Se.next(de)})},fe.prototype.error=function(de){this.forEachObserver(function(Se){Se.error(de)}),this.close(de)},fe.prototype.complete=function(){this.forEachObserver(function(de){de.complete()}),this.close()},fe.prototype.subscribe=function(de,Se,Fe){var vt,Ie=this;if(void 0===de&&void 0===Se&&void 0===Fe)throw new Error("Missing Observer.");void 0===(vt=function(fe,de){if("object"!=typeof fe||null===fe)return!1;for(var Se=0,Fe=["next","error","complete"];Se<Fe.length;Se++){var Ie=Fe[Se];if(Ie in fe&&"function"==typeof fe[Ie])return!0}return!1}(de)?de:{next:de,error:Se,complete:Fe}).next&&(vt.next=cr),void 0===vt.error&&(vt.error=cr),void 0===vt.complete&&(vt.complete=cr);var It=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ie.finalError?vt.error(Ie.finalError):vt.complete()}catch(hn){}}),this.observers.push(vt),It},fe.prototype.unsubscribeOne=function(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},fe.prototype.forEachObserver=function(de){if(!this.finalized)for(var Se=0;Se<this.observers.length;Se++)this.sendOne(Se,de)},fe.prototype.sendOne=function(de,Se){var Fe=this;this.task.then(function(){if(void 0!==Fe.observers&&void 0!==Fe.observers[de])try{Se(Fe.observers[de])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})},fe.prototype.close=function(de){var Se=this;this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(function(){Se.observers=void 0,Se.onNoObservers=void 0}))},fe}();function cr(){}var Cs=function(fe,de,Se,Fe){var Ie;if(Fe<de?Ie="at least "+de:Fe>Se&&(Ie=0===Se?"none":"no more than "+Se),Ie)throw new Error(fe+" failed: Was called with "+Fe+(1===Fe?" argument.":" arguments.")+" Expects "+Ie+".")};function Aa(fe,de){return fe+" failed: "+de+" argument "}function Dr(fe,de,Se,Fe){if((!Fe||Se)&&"function"!=typeof Se)throw new Error(Aa(fe,de)+"must be a valid function.")}function _d(fe,de,Se,Fe){if((!Fe||Se)&&("object"!=typeof Se||null===Se))throw new Error(Aa(fe,de)+"must be a valid context object.")}var Wn=function(fe){for(var de=[],Se=0,Fe=0;Fe<fe.length;Fe++){var Ie=fe.charCodeAt(Fe);if(Ie>=55296&&Ie<=56319){var vt=Ie-55296;Fe++,G(Fe<fe.length,"Surrogate pair missing trail surrogate."),Ie=65536+(vt<<10)+(fe.charCodeAt(Fe)-56320)}Ie<128?de[Se++]=Ie:Ie<2048?(de[Se++]=Ie>>6|192,de[Se++]=63&Ie|128):Ie<65536?(de[Se++]=Ie>>12|224,de[Se++]=Ie>>6&63|128,de[Se++]=63&Ie|128):(de[Se++]=Ie>>18|240,de[Se++]=Ie>>12&63|128,de[Se++]=Ie>>6&63|128,de[Se++]=63&Ie|128)}return de},At=function(fe){for(var de=0,Se=0;Se<fe.length;Se++){var Fe=fe.charCodeAt(Se);Fe<128?de++:Fe<2048?de+=2:Fe>=55296&&Fe<=56319?(de+=4,Se++):de+=3}return de};function jn(fe){return fe&&fe._delegate?fe._delegate:fe}},5691:(pt,Oe,$)=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0}),function(v){for(var G in v)Oe.hasOwnProperty(G)||(Oe[G]=v[G])}($(4208))},4198:(pt,Oe,$)=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0}),function(v){for(var G in v)Oe.hasOwnProperty(G)||(Oe[G]=v[G])}($(6178))},2372:(pt,Oe,$)=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0}),function(v){for(var G in v)Oe.hasOwnProperty(G)||(Oe[G]=v[G])}($(57))},2329:(pt,Oe,$)=>{"use strict";$.d(Oe,{Z:()=>B.Z});var B=$(9759),G="8.10.0";B.Z.registerVersion("firebase",G,"app"),B.Z.SDK_VERSION=G},8891:(pt,Oe,$)=>{"use strict";$.d(Oe,{y:()=>ue});var B=$(7393),G=$(9181),ae=$(6490),ne=$(6554),ve=$(4022),se=$(2494);let ue=(()=>{class le{constructor(_e){this._isScalar=!1,_e&&(this._subscribe=_e)}lift(_e){const Ne=new le;return Ne.source=this,Ne.operator=_e,Ne}subscribe(_e,Ne,ot){const{operator:ze}=this,at=function(le,te,_e){if(le){if(le instanceof B.L)return le;if(le[G.b])return le[G.b]()}return le||te||_e?new B.L(le,te,_e):new B.L(ae.c)}(_e,Ne,ot);if(at.add(ze?ze.call(at,this.source):this.source||se.v.useDeprecatedSynchronousErrorHandling&&!at.syncErrorThrowable?this._subscribe(at):this._trySubscribe(at)),se.v.useDeprecatedSynchronousErrorHandling&&at.syncErrorThrowable&&(at.syncErrorThrowable=!1,at.syncErrorThrown))throw at.syncErrorValue;return at}_trySubscribe(_e){try{return this._subscribe(_e)}catch(Ne){se.v.useDeprecatedSynchronousErrorHandling&&(_e.syncErrorThrown=!0,_e.syncErrorValue=Ne),function(le){for(;le;){const{closed:te,destination:_e,isStopped:Ne}=le;if(te||Ne)return!1;le=_e&&_e instanceof B.L?_e:null}return!0}(_e)?_e.error(Ne):console.warn(Ne)}}forEach(_e,Ne){return new(Ne=re(Ne))((ot,ze)=>{let at;at=this.subscribe(Ze=>{try{_e(Ze)}catch(ht){ze(ht),at&&at.unsubscribe()}},ze,ot)})}_subscribe(_e){const{source:Ne}=this;return Ne&&Ne.subscribe(_e)}[ne.L](){return this}pipe(..._e){return 0===_e.length?this:(0,ve.U)(_e)(this)}toPromise(_e){return new(_e=re(_e))((Ne,ot)=>{let ze;this.subscribe(at=>ze=at,at=>ot(at),()=>Ne(ze))})}}return le.create=te=>new le(te),le})();function re(le){if(le||(le=se.v.Promise||Promise),!le)throw new Error("no Promise impl found");return le}},6490:(pt,Oe,$)=>{"use strict";$.d(Oe,{c:()=>G});var B=$(2494),v=$(4449);const G={closed:!0,next(ae){},error(ae){if(B.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,v.z)(ae)},complete(){}}},5197:(pt,Oe,$)=>{"use strict";$.d(Oe,{L:()=>v});var B=$(7393);class v extends B.L{notifyNext(ae,Ee,ne,ve,se){this.destination.next(Ee)}notifyError(ae,Ee){this.destination.error(ae)}notifyComplete(ae){this.destination.complete()}}},9765:(pt,Oe,$)=>{"use strict";$.d(Oe,{Yc:()=>ve,xQ:()=>se});var B=$(8891),v=$(7393),G=$(5319),ae=$(7971),Ee=$(8858),ne=$(9181);class ve extends v.L{constructor(le){super(le),this.destination=le}}let se=(()=>{class re extends B.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ne.b](){return new ve(this)}lift(te){const _e=new ue(this,this);return _e.operator=te,_e}next(te){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:_e}=this,Ne=_e.length,ot=_e.slice();for(let ze=0;ze<Ne;ze++)ot[ze].next(te)}}error(te){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=te,this.isStopped=!0;const{observers:_e}=this,Ne=_e.length,ot=_e.slice();for(let ze=0;ze<Ne;ze++)ot[ze].error(te);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:te}=this,_e=te.length,Ne=te.slice();for(let ot=0;ot<_e;ot++)Ne[ot].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(te){if(this.closed)throw new ae.N;return super._trySubscribe(te)}_subscribe(te){if(this.closed)throw new ae.N;return this.hasError?(te.error(this.thrownError),G.w.EMPTY):this.isStopped?(te.complete(),G.w.EMPTY):(this.observers.push(te),new Ee.W(this,te))}asObservable(){const te=new B.y;return te.source=this,te}}return re.create=(le,te)=>new ue(le,te),re})();class ue extends se{constructor(le,te){super(),this.destination=le,this.source=te}next(le){const{destination:te}=this;te&&te.next&&te.next(le)}error(le){const{destination:te}=this;te&&te.error&&this.destination.error(le)}complete(){const{destination:le}=this;le&&le.complete&&this.destination.complete()}_subscribe(le){const{source:te}=this;return te?this.source.subscribe(le):G.w.EMPTY}}},8858:(pt,Oe,$)=>{"use strict";$.d(Oe,{W:()=>v});var B=$(5319);class v extends B.w{constructor(ae,Ee){super(),this.subject=ae,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,Ee=ae.observers;if(this.subject=null,!Ee||0===Ee.length||ae.isStopped||ae.closed)return;const ne=Ee.indexOf(this.subscriber);-1!==ne&&Ee.splice(ne,1)}}},7393:(pt,Oe,$)=>{"use strict";$.d(Oe,{L:()=>ve});var B=$(9105),v=$(6490),G=$(5319),ae=$(9181),Ee=$(2494),ne=$(4449);class ve extends G.w{constructor(re,le,te){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=v.c;break;case 1:if(!re){this.destination=v.c;break}if("object"==typeof re){re instanceof ve?(this.syncErrorThrowable=re.syncErrorThrowable,this.destination=re,re.add(this)):(this.syncErrorThrowable=!0,this.destination=new se(this,re));break}default:this.syncErrorThrowable=!0,this.destination=new se(this,re,le,te)}}[ae.b](){return this}static create(re,le,te){const _e=new ve(re,le,te);return _e.syncErrorThrowable=!1,_e}next(re){this.isStopped||this._next(re)}error(re){this.isStopped||(this.isStopped=!0,this._error(re))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(re){this.destination.next(re)}_error(re){this.destination.error(re),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:re}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=re,this}}class se extends ve{constructor(re,le,te,_e){super(),this._parentSubscriber=re;let Ne,ot=this;(0,B.m)(le)?Ne=le:le&&(Ne=le.next,te=le.error,_e=le.complete,le!==v.c&&(ot=Object.create(le),(0,B.m)(ot.unsubscribe)&&this.add(ot.unsubscribe.bind(ot)),ot.unsubscribe=this.unsubscribe.bind(this))),this._context=ot,this._next=Ne,this._error=te,this._complete=_e}next(re){if(!this.isStopped&&this._next){const{_parentSubscriber:le}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable?this.__tryOrSetError(le,this._next,re)&&this.unsubscribe():this.__tryOrUnsub(this._next,re)}}error(re){if(!this.isStopped){const{_parentSubscriber:le}=this,{useDeprecatedSynchronousErrorHandling:te}=Ee.v;if(this._error)te&&le.syncErrorThrowable?(this.__tryOrSetError(le,this._error,re),this.unsubscribe()):(this.__tryOrUnsub(this._error,re),this.unsubscribe());else if(le.syncErrorThrowable)te?(le.syncErrorValue=re,le.syncErrorThrown=!0):(0,ne.z)(re),this.unsubscribe();else{if(this.unsubscribe(),te)throw re;(0,ne.z)(re)}}}complete(){if(!this.isStopped){const{_parentSubscriber:re}=this;if(this._complete){const le=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?(this.__tryOrSetError(re,le),this.unsubscribe()):(this.__tryOrUnsub(le),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(re,le){try{re.call(this._context,le)}catch(te){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw te;(0,ne.z)(te)}}__tryOrSetError(re,le,te){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{le.call(this._context,te)}catch(_e){return Ee.v.useDeprecatedSynchronousErrorHandling?(re.syncErrorValue=_e,re.syncErrorThrown=!0,!0):((0,ne.z)(_e),!0)}return!1}_unsubscribe(){const{_parentSubscriber:re}=this;this._context=null,this._parentSubscriber=null,re.unsubscribe()}}},5319:(pt,Oe,$)=>{"use strict";$.d(Oe,{w:()=>ne});var B=$(9796),v=$(1555),G=$(9105);const Ee=(()=>{function se(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((re,le)=>`${le+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return se.prototype=Object.create(Error.prototype),se})();class ne{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:re,_ctorUnsubscribe:le,_unsubscribe:te,_subscriptions:_e}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,re instanceof ne)re.remove(this);else if(null!==re)for(let Ne=0;Ne<re.length;++Ne)re[Ne].remove(this);if((0,G.m)(te)){le&&(this._unsubscribe=void 0);try{te.call(this)}catch(Ne){ue=Ne instanceof Ee?ve(Ne.errors):[Ne]}}if((0,B.k)(_e)){let Ne=-1,ot=_e.length;for(;++Ne<ot;){const ze=_e[Ne];if((0,v.K)(ze))try{ze.unsubscribe()}catch(at){ue=ue||[],at instanceof Ee?ue=ue.concat(ve(at.errors)):ue.push(at)}}}if(ue)throw new Ee(ue)}add(ue){let re=ue;if(!ue)return ne.EMPTY;switch(typeof ue){case"function":re=new ne(ue);case"object":if(re===this||re.closed||"function"!=typeof re.unsubscribe)return re;if(this.closed)return re.unsubscribe(),re;if(!(re instanceof ne)){const _e=re;re=new ne,re._subscriptions=[_e]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:le}=re;if(null===le)re._parentOrParents=this;else if(le instanceof ne){if(le===this)return re;re._parentOrParents=[le,this]}else{if(-1!==le.indexOf(this))return re;le.push(this)}const te=this._subscriptions;return null===te?this._subscriptions=[re]:te.push(re),re}remove(ue){const re=this._subscriptions;if(re){const le=re.indexOf(ue);-1!==le&&re.splice(le,1)}}}var se;function ve(se){return se.reduce((ue,re)=>ue.concat(re instanceof Ee?re.errors:re),[])}ne.EMPTY=((se=new ne).closed=!0,se)},2494:(pt,Oe,$)=>{"use strict";$.d(Oe,{v:()=>v});let B=!1;const v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else B&&console.log("RxJS: Back to a better error behavior. Thank you. <3");B=G},get useDeprecatedSynchronousErrorHandling(){return B}}},5345:(pt,Oe,$)=>{"use strict";$.d(Oe,{IY:()=>ae,Ds:()=>ne,ft:()=>se});var B=$(7393),v=$(8891),G=$(7444);class ae extends B.L{constructor(re){super(),this.parent=re}_next(re){this.parent.notifyNext(re)}_error(re){this.parent.notifyError(re),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ne extends B.L{notifyNext(re){this.destination.next(re)}notifyError(re){this.destination.error(re)}notifyComplete(){this.destination.complete()}}function se(ue,re){if(re.closed)return;if(ue instanceof v.y)return ue.subscribe(re);let le;try{le=(0,G.s)(ue)(re)}catch(te){re.error(te)}return le}},2441:(pt,Oe,$)=>{"use strict";$.d(Oe,{c:()=>Ee,N:()=>ne});var B=$(9765),v=$(8891),G=$(5319),ae=$(1307);class Ee extends v.y{constructor(le,te){super(),this.source=le,this.subjectFactory=te,this._refCount=0,this._isComplete=!1}_subscribe(le){return this.getSubject().subscribe(le)}getSubject(){const le=this._subject;return(!le||le.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let le=this._connection;return le||(this._isComplete=!1,le=this._connection=new G.w,le.add(this.source.subscribe(new ve(this.getSubject(),this))),le.closed&&(this._connection=null,le=G.w.EMPTY)),le}refCount(){return(0,ae.x)()(this)}}const ne=(()=>{const re=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}}})();class ve extends B.Yc{constructor(le,te){super(le),this.connectable=te}_error(le){this._unsubscribe(),super._error(le)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const le=this.connectable;if(le){this.connectable=null;const te=le._connection;le._refCount=0,le._subject=null,le._connection=null,te&&te.unsubscribe()}}}},8071:(pt,Oe,$)=>{"use strict";$.d(Oe,{z:()=>ae});var B=$(5917),v=$(3282);function ae(...Ee){return(0,v.J)(1)((0,B.of)(...Ee))}},9193:(pt,Oe,$)=>{"use strict";$.d(Oe,{E:()=>v,c:()=>G});var B=$(8891);const v=new B.y(Ee=>Ee.complete());function G(Ee){return Ee?function(Ee){return new B.y(ne=>Ee.schedule(()=>ne.complete()))}(Ee):v}},4402:(pt,Oe,$)=>{"use strict";$.d(Oe,{D:()=>ot});var B=$(8891),v=$(7444),G=$(5319),ae=$(6554),ve=$(4087),se=$(377),le=$(4072),te=$(9489);function ot(ze,at){return at?function(ze,at){if(null!=ze){if(function(ze){return ze&&"function"==typeof ze[ae.L]}(ze))return function(ze,at){return new B.y(Ze=>{const ht=new G.w;return ht.add(at.schedule(()=>{const z=ze[ae.L]();ht.add(z.subscribe({next(ft){ht.add(at.schedule(()=>Ze.next(ft)))},error(ft){ht.add(at.schedule(()=>Ze.error(ft)))},complete(){ht.add(at.schedule(()=>Ze.complete()))}}))})),ht})}(ze,at);if((0,le.t)(ze))return function(ze,at){return new B.y(Ze=>{const ht=new G.w;return ht.add(at.schedule(()=>ze.then(z=>{ht.add(at.schedule(()=>{Ze.next(z),ht.add(at.schedule(()=>Ze.complete()))}))},z=>{ht.add(at.schedule(()=>Ze.error(z)))}))),ht})}(ze,at);if((0,te.z)(ze))return(0,ve.r)(ze,at);if(function(ze){return ze&&"function"==typeof ze[se.hZ]}(ze)||"string"==typeof ze)return function(ze,at){if(!ze)throw new Error("Iterable cannot be null");return new B.y(Ze=>{const ht=new G.w;let z;return ht.add(()=>{z&&"function"==typeof z.return&&z.return()}),ht.add(at.schedule(()=>{z=ze[se.hZ](),ht.add(at.schedule(function(){if(Ze.closed)return;let ft,et;try{const Kt=z.next();ft=Kt.value,et=Kt.done}catch(Kt){return void Ze.error(Kt)}et?Ze.complete():(Ze.next(ft),this.schedule())}))})),ht})}(ze,at)}throw new TypeError((null!==ze&&typeof ze||ze)+" is not observable")}(ze,at):ze instanceof B.y?ze:new B.y((0,v.s)(ze))}},6693:(pt,Oe,$)=>{"use strict";$.d(Oe,{n:()=>ae});var B=$(8891),v=$(5015),G=$(4087);function ae(Ee,ne){return ne?(0,G.r)(Ee,ne):new B.y((0,v.V)(Ee))}},6682:(pt,Oe,$)=>{"use strict";$.d(Oe,{T:()=>Ee});var B=$(8891),v=$(4869),G=$(3282),ae=$(6693);function Ee(...ne){let ve=Number.POSITIVE_INFINITY,se=null,ue=ne[ne.length-1];return(0,v.K)(ue)?(se=ne.pop(),ne.length>1&&"number"==typeof ne[ne.length-1]&&(ve=ne.pop())):"number"==typeof ue&&(ve=ne.pop()),null===se&&1===ne.length&&ne[0]instanceof B.y?ne[0]:(0,G.J)(ve)((0,ae.n)(ne,se))}},5917:(pt,Oe,$)=>{"use strict";$.d(Oe,{of:()=>ae});var B=$(4869),v=$(6693),G=$(4087);function ae(...Ee){let ne=Ee[Ee.length-1];return(0,B.K)(ne)?(Ee.pop(),(0,G.r)(Ee,ne)):(0,v.n)(Ee)}},205:(pt,Oe,$)=>{"use strict";$.d(Oe,{_:()=>v});var B=$(8891);function v(ae,Ee){return new B.y(Ee?ne=>Ee.schedule(G,0,{error:ae,subscriber:ne}):ne=>ne.error(ae))}function G({error:ae,subscriber:Ee}){Ee.error(ae)}},5242:(pt,Oe,$)=>{"use strict";$.d(Oe,{d:()=>v});var B=$(7393);function v(Ee=null){return ne=>ne.lift(new G(Ee))}class G{constructor(ne){this.defaultValue=ne}call(ne,ve){return ve.subscribe(new ae(ne,this.defaultValue))}}class ae extends B.L{constructor(ne,ve){super(ne),this.defaultValue=ve,this.isEmpty=!0}_next(ne){this.isEmpty=!1,this.destination.next(ne)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(pt,Oe,$)=>{"use strict";$.d(Oe,{x:()=>v});var B=$(7393);function v(Ee,ne){return ve=>ve.lift(new G(Ee,ne))}class G{constructor(ne,ve){this.compare=ne,this.keySelector=ve}call(ne,ve){return ve.subscribe(new ae(ne,this.compare,this.keySelector))}}class ae extends B.L{constructor(ne,ve,se){super(ne),this.keySelector=se,this.hasKey=!1,"function"==typeof ve&&(this.compare=ve)}compare(ne,ve){return ne===ve}_next(ne){let ve;try{const{keySelector:ue}=this;ve=ue?ue(ne):ne}catch(ue){return this.destination.error(ue)}let se=!1;if(this.hasKey)try{const{compare:ue}=this;se=ue(this.key,ve)}catch(ue){return this.destination.error(ue)}else this.hasKey=!0;se||(this.key=ve,this.destination.next(ne))}}},5435:(pt,Oe,$)=>{"use strict";$.d(Oe,{h:()=>v});var B=$(7393);function v(Ee,ne){return function(se){return se.lift(new G(Ee,ne))}}class G{constructor(ne,ve){this.predicate=ne,this.thisArg=ve}call(ne,ve){return ve.subscribe(new ae(ne,this.predicate,this.thisArg))}}class ae extends B.L{constructor(ne,ve,se){super(ne),this.predicate=ve,this.thisArg=se,this.count=0}_next(ne){let ve;try{ve=this.predicate.call(this.thisArg,ne,this.count++)}catch(se){return void this.destination.error(se)}ve&&this.destination.next(ne)}}},8049:(pt,Oe,$)=>{"use strict";$.d(Oe,{P:()=>ve});var B=$(3410),v=$(5435),G=$(5257),ae=$(5242),Ee=$(4635),ne=$(4487);function ve(se,ue){const re=arguments.length>=2;return le=>le.pipe(se?(0,v.h)((te,_e)=>se(te,_e,le)):ne.y,(0,G.q)(1),re?(0,ae.d)(ue):(0,Ee.T)(()=>new B.K))}},8002:(pt,Oe,$)=>{"use strict";$.d(Oe,{U:()=>v});var B=$(7393);function v(Ee,ne){return function(se){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return se.lift(new G(Ee,ne))}}class G{constructor(ne,ve){this.project=ne,this.thisArg=ve}call(ne,ve){return ve.subscribe(new ae(ne,this.project,this.thisArg))}}class ae extends B.L{constructor(ne,ve,se){super(ne),this.project=ve,this.count=0,this.thisArg=se||this}_next(ne){let ve;try{ve=this.project.call(this.thisArg,ne,this.count++)}catch(se){return void this.destination.error(se)}this.destination.next(ve)}}},3282:(pt,Oe,$)=>{"use strict";$.d(Oe,{J:()=>G});var B=$(9773),v=$(4487);function G(ae=Number.POSITIVE_INFINITY){return(0,B.zg)(v.y,ae)}},9773:(pt,Oe,$)=>{"use strict";$.d(Oe,{zg:()=>ae});var B=$(8002),v=$(4402),G=$(5345);function ae(se,ue,re=Number.POSITIVE_INFINITY){return"function"==typeof ue?le=>le.pipe(ae((te,_e)=>(0,v.D)(se(te,_e)).pipe((0,B.U)((Ne,ot)=>ue(te,Ne,_e,ot))),re)):("number"==typeof ue&&(re=ue),le=>le.lift(new Ee(se,re)))}class Ee{constructor(ue,re=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=re}call(ue,re){return re.subscribe(new ne(ue,this.project,this.concurrent))}}class ne extends G.Ds{constructor(ue,re,le=Number.POSITIVE_INFINITY){super(ue),this.project=re,this.concurrent=le,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let re;const le=this.index++;try{re=this.project(ue,le)}catch(te){return void this.destination.error(te)}this.active++,this._innerSub(re)}_innerSub(ue){const re=new G.IY(this),le=this.destination;le.add(re);const te=(0,G.ft)(ue,re);te!==re&&le.add(te)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(pt,Oe,$)=>{"use strict";$.d(Oe,{O:()=>v});var B=$(2441);function v(ae,Ee){return function(ve){let se;if(se="function"==typeof ae?ae:function(){return ae},"function"==typeof Ee)return ve.lift(new G(se,Ee));const ue=Object.create(ve,B.N);return ue.source=ve,ue.subjectFactory=se,ue}}class G{constructor(Ee,ne){this.subjectFactory=Ee,this.selector=ne}call(Ee,ne){const{selector:ve}=this,se=this.subjectFactory(),ue=ve(se).subscribe(Ee);return ue.add(ne.subscribe(se)),ue}}},6136:(pt,Oe,$)=>{"use strict";$.d(Oe,{ht:()=>ue,QV:()=>ve});var B=$(7393),v=$(9193),G=$(5917),ae=$(205);class ne{constructor(te,_e,Ne){this.kind=te,this.value=_e,this.error=Ne,this.hasValue="N"===te}observe(te){switch(this.kind){case"N":return te.next&&te.next(this.value);case"E":return te.error&&te.error(this.error);case"C":return te.complete&&te.complete()}}do(te,_e,Ne){switch(this.kind){case"N":return te&&te(this.value);case"E":return _e&&_e(this.error);case"C":return Ne&&Ne()}}accept(te,_e,Ne){return te&&"function"==typeof te.next?this.observe(te):this.do(te,_e,Ne)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return(0,ae._)(this.error);case"C":return(0,v.c)()}throw new Error("unexpected notification kind value")}static createNext(te){return void 0!==te?new ne("N",te):ne.undefinedValueNotification}static createError(te){return new ne("E",void 0,te)}static createComplete(){return ne.completeNotification}}function ve(le,te=0){return function(Ne){return Ne.lift(new se(le,te))}}ne.completeNotification=new ne("C"),ne.undefinedValueNotification=new ne("N",void 0);class se{constructor(te,_e=0){this.scheduler=te,this.delay=_e}call(te,_e){return _e.subscribe(new ue(te,this.scheduler,this.delay))}}class ue extends B.L{constructor(te,_e,Ne=0){super(te),this.scheduler=_e,this.delay=Ne}static dispatch(te){const{notification:_e,destination:Ne}=te;_e.observe(Ne),this.unsubscribe()}scheduleMessage(te){this.destination.add(this.scheduler.schedule(ue.dispatch,this.delay,new re(te,this.destination)))}_next(te){this.scheduleMessage(ne.createNext(te))}_error(te){this.scheduleMessage(ne.createError(te)),this.unsubscribe()}_complete(){this.scheduleMessage(ne.createComplete()),this.unsubscribe()}}class re{constructor(te,_e){this.notification=te,this.destination=_e}}},1307:(pt,Oe,$)=>{"use strict";$.d(Oe,{x:()=>v});var B=$(7393);function v(){return function(ne){return ne.lift(new G(ne))}}class G{constructor(ne){this.connectable=ne}call(ne,ve){const{connectable:se}=this;se._refCount++;const ue=new ae(ne,se),re=ve.subscribe(ue);return ue.closed||(ue.connection=se.connect()),re}}class ae extends B.L{constructor(ne,ve){super(ne),this.connectable=ve}_unsubscribe(){const{connectable:ne}=this;if(!ne)return void(this.connection=null);this.connectable=null;const ve=ne._refCount;if(ve<=0)return void(this.connection=null);if(ne._refCount=ve-1,ve>1)return void(this.connection=null);const{connection:se}=this,ue=ne._connection;this.connection=null,ue&&(!se||ue===se)&&ue.unsubscribe()}}},2145:(pt,Oe,$)=>{"use strict";$.d(Oe,{R:()=>v});var B=$(7393);function v(Ee,ne){let ve=!1;return arguments.length>=2&&(ve=!0),function(ue){return ue.lift(new G(Ee,ne,ve))}}class G{constructor(ne,ve,se=!1){this.accumulator=ne,this.seed=ve,this.hasSeed=se}call(ne,ve){return ve.subscribe(new ae(ne,this.accumulator,this.seed,this.hasSeed))}}class ae extends B.L{constructor(ne,ve,se,ue){super(ne),this.accumulator=ve,this._seed=se,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(ne){this.hasSeed=!0,this._seed=ne}_next(ne){if(this.hasSeed)return this._tryNext(ne);this.seed=ne,this.destination.next(ne)}_tryNext(ne){const ve=this.index++;let se;try{se=this.accumulator(this.seed,ne,ve)}catch(ue){this.destination.error(ue)}this.seed=se,this.destination.next(se)}}},8345:(pt,Oe,$)=>{"use strict";$.d(Oe,{B:()=>Ee});var B=$(4458),v=$(1307),G=$(9765);function ae(){return new G.xQ}function Ee(){return ne=>(0,v.x)()((0,B.O)(ae)(ne))}},6888:(pt,Oe,$)=>{"use strict";$.d(Oe,{n:()=>v});var B=$(7393);function v(Ee){return ne=>ne.lift(new G(Ee))}class G{constructor(ne){this.predicate=ne}call(ne,ve){return ve.subscribe(new ae(ne,this.predicate))}}class ae extends B.L{constructor(ne,ve){super(ne),this.predicate=ve,this.skipping=!0,this.index=0}_next(ne){const ve=this.destination;this.skipping&&this.tryCallPredicate(ne),this.skipping||ve.next(ne)}tryCallPredicate(ne){try{const ve=this.predicate(ne,this.index++);this.skipping=Boolean(ve)}catch(ve){this.destination.error(ve)}}}},9761:(pt,Oe,$)=>{"use strict";$.d(Oe,{O:()=>G});var B=$(8071),v=$(4869);function G(...ae){const Ee=ae[ae.length-1];return(0,v.K)(Ee)?(ae.pop(),ne=>(0,B.z)(ae,ne,Ee)):ne=>(0,B.z)(ae,ne)}},3101:(pt,Oe,$)=>{"use strict";$.d(Oe,{R:()=>at});var B=$(8891);let v=1;const G=Promise.resolve(),ae={};function Ee(ht){return ht in ae&&(delete ae[ht],!0)}const ne={setImmediate(ht){const z=v++;return ae[z]=!0,G.then(()=>Ee(z)&&ht()),z},clearImmediate(ht){Ee(ht)}};var se=$(6465),re=$(6102);const _e=new class extends re.v{flush(z){this.active=!0,this.scheduled=void 0;const{actions:ft}=this;let et,Kt=-1,Nn=ft.length;z=z||ft.shift();do{if(et=z.execute(z.state,z.delay))break}while(++Kt<Nn&&(z=ft.shift()));if(this.active=!1,et){for(;++Kt<Nn&&(z=ft.shift());)z.unsubscribe();throw et}}}(class extends se.o{constructor(z,ft){super(z,ft),this.scheduler=z,this.work=ft}requestAsyncId(z,ft,et=0){return null!==et&&et>0?super.requestAsyncId(z,ft,et):(z.actions.push(this),z.scheduled||(z.scheduled=ne.setImmediate(z.flush.bind(z,null))))}recycleAsyncId(z,ft,et=0){if(null!==et&&et>0||null===et&&this.delay>0)return super.recycleAsyncId(z,ft,et);0===z.actions.length&&(ne.clearImmediate(ft),z.scheduled=void 0)}});var Ne=$(9796);class ze extends B.y{constructor(z,ft=0,et=_e){var ht;super(),this.source=z,this.delayTime=ft,this.scheduler=et,(!(!(0,Ne.k)(ht=ft)&&ht-parseFloat(ht)+1>=0)||ft<0)&&(this.delayTime=0),(!et||"function"!=typeof et.schedule)&&(this.scheduler=_e)}static create(z,ft=0,et=_e){return new ze(z,ft,et)}static dispatch(z){const{source:ft,subscriber:et}=z;return this.add(ft.subscribe(et))}_subscribe(z){return this.scheduler.schedule(ze.dispatch,this.delayTime,{source:this.source,subscriber:z})}}function at(ht,z=0){return function(et){return et.lift(new Ze(ht,z))}}class Ze{constructor(z,ft){this.scheduler=z,this.delay=ft}call(z,ft){return new ze(ft,this.delay,this.scheduler).subscribe(z)}}},3190:(pt,Oe,$)=>{"use strict";$.d(Oe,{w:()=>ae});var B=$(8002),v=$(4402),G=$(5345);function ae(ve,se){return"function"==typeof se?ue=>ue.pipe(ae((re,le)=>(0,v.D)(ve(re,le)).pipe((0,B.U)((te,_e)=>se(re,te,le,_e))))):ue=>ue.lift(new Ee(ve))}class Ee{constructor(se){this.project=se}call(se,ue){return ue.subscribe(new ne(se,this.project))}}class ne extends G.Ds{constructor(se,ue){super(se),this.project=ue,this.index=0}_next(se){let ue;const re=this.index++;try{ue=this.project(se,re)}catch(le){return void this.destination.error(le)}this._innerSub(ue)}_innerSub(se){const ue=this.innerSubscription;ue&&ue.unsubscribe();const re=new G.IY(this),le=this.destination;le.add(re),this.innerSubscription=(0,G.ft)(se,re),this.innerSubscription!==re&&le.add(this.innerSubscription)}_complete(){const{innerSubscription:se}=this;(!se||se.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(se){this.destination.next(se)}}},5257:(pt,Oe,$)=>{"use strict";$.d(Oe,{q:()=>ae});var B=$(7393),v=$(7108),G=$(9193);function ae(ve){return se=>0===ve?(0,G.c)():se.lift(new Ee(ve))}class Ee{constructor(se){if(this.total=se,this.total<0)throw new v.W}call(se,ue){return ue.subscribe(new ne(se,this.total))}}class ne extends B.L{constructor(se,ue){super(se),this.total=ue,this.count=0}_next(se){const ue=this.total,re=++this.count;re<=ue&&(this.destination.next(se),re===ue&&(this.destination.complete(),this.unsubscribe()))}}},3342:(pt,Oe,$)=>{"use strict";$.d(Oe,{b:()=>ae});var B=$(7393);function v(){}var G=$(9105);function ae(ve,se,ue){return function(le){return le.lift(new Ee(ve,se,ue))}}class Ee{constructor(se,ue,re){this.nextOrObserver=se,this.error=ue,this.complete=re}call(se,ue){return ue.subscribe(new ne(se,this.nextOrObserver,this.error,this.complete))}}class ne extends B.L{constructor(se,ue,re,le){super(se),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=re||v,this._tapComplete=le||v,(0,G.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||v,this._tapError=ue.error||v,this._tapComplete=ue.complete||v)}_next(se){try{this._tapNext.call(this._context,se)}catch(ue){return void this.destination.error(ue)}this.destination.next(se)}_error(se){try{this._tapError.call(this._context,se)}catch(ue){return void this.destination.error(ue)}this.destination.error(se)}_complete(){try{this._tapComplete.call(this._context)}catch(se){return void this.destination.error(se)}return this.destination.complete()}}},4635:(pt,Oe,$)=>{"use strict";$.d(Oe,{T:()=>G});var B=$(3410),v=$(7393);function G(ve=ne){return se=>se.lift(new ae(ve))}class ae{constructor(se){this.errorFactory=se}call(se,ue){return ue.subscribe(new Ee(se,this.errorFactory))}}class Ee extends v.L{constructor(se,ue){super(se),this.errorFactory=ue,this.hasValue=!1}_next(se){this.hasValue=!0,this.destination.next(se)}_complete(){if(this.hasValue)return this.destination.complete();{let se;try{se=this.errorFactory()}catch(ue){se=ue}this.destination.error(se)}}}function ne(){return new B.K}},7057:(pt,Oe,$)=>{"use strict";$.d(Oe,{M:()=>G});var B=$(5197),v=$(509);function G(...ne){return ve=>{let se;return"function"==typeof ne[ne.length-1]&&(se=ne.pop()),ve.lift(new ae(ne,se))}}class ae{constructor(ve,se){this.observables=ve,this.project=se}call(ve,se){return se.subscribe(new Ee(ve,this.observables,this.project))}}class Ee extends B.L{constructor(ve,se,ue){super(ve),this.observables=se,this.project=ue,this.toRespond=[];const re=se.length;this.values=new Array(re);for(let le=0;le<re;le++)this.toRespond.push(le);for(let le=0;le<re;le++)this.add((0,v.D)(this,se[le],void 0,le))}notifyNext(ve,se,ue){this.values[ue]=se;const re=this.toRespond;if(re.length>0){const le=re.indexOf(ue);-1!==le&&re.splice(le,1)}}notifyComplete(){}_next(ve){if(0===this.toRespond.length){const se=[ve,...this.values];this.project?this._tryProject(se):this.destination.next(se)}}_tryProject(ve){let se;try{se=this.project.apply(this,ve)}catch(ue){return void this.destination.error(ue)}this.destination.next(se)}}},4087:(pt,Oe,$)=>{"use strict";$.d(Oe,{r:()=>G});var B=$(8891),v=$(5319);function G(ae,Ee){return new B.y(ne=>{const ve=new v.w;let se=0;return ve.add(Ee.schedule(function(){se!==ae.length?(ne.next(ae[se++]),ne.closed||ve.add(this.schedule())):ne.complete()})),ve})}},6465:(pt,Oe,$)=>{"use strict";$.d(Oe,{o:()=>G});var B=$(5319);class v extends B.w{constructor(Ee,ne){super()}schedule(Ee,ne=0){return this}}class G extends v{constructor(Ee,ne){super(Ee,ne),this.scheduler=Ee,this.work=ne,this.pending=!1}schedule(Ee,ne=0){if(this.closed)return this;this.state=Ee;const ve=this.id,se=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(se,ve,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(se,this.id,ne),this}requestAsyncId(Ee,ne,ve=0){return setInterval(Ee.flush.bind(Ee,this),ve)}recycleAsyncId(Ee,ne,ve=0){if(null!==ve&&this.delay===ve&&!1===this.pending)return ne;clearInterval(ne)}execute(Ee,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(Ee,ne);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ne){let se,ve=!1;try{this.work(Ee)}catch(ue){ve=!0,se=!!ue&&ue||new Error(ue)}if(ve)return this.unsubscribe(),se}_unsubscribe(){const Ee=this.id,ne=this.scheduler,ve=ne.actions,se=ve.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==se&&ve.splice(se,1),null!=Ee&&(this.id=this.recycleAsyncId(ne,Ee,null)),this.delay=null}}},6102:(pt,Oe,$)=>{"use strict";$.d(Oe,{v:()=>v});let B=(()=>{class G{constructor(Ee,ne=G.now){this.SchedulerAction=Ee,this.now=ne}schedule(Ee,ne=0,ve){return new this.SchedulerAction(this,Ee).schedule(ve,ne)}}return G.now=()=>Date.now(),G})();class v extends B{constructor(ae,Ee=B.now){super(ae,()=>v.delegate&&v.delegate!==this?v.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,Ee=0,ne){return v.delegate&&v.delegate!==this?v.delegate.schedule(ae,Ee,ne):super.schedule(ae,Ee,ne)}flush(ae){const{actions:Ee}=this;if(this.active)return void Ee.push(ae);let ne;this.active=!0;do{if(ne=ae.execute(ae.state,ae.delay))break}while(ae=Ee.shift());if(this.active=!1,ne){for(;ae=Ee.shift();)ae.unsubscribe();throw ne}}}},3637:(pt,Oe,$)=>{"use strict";$.d(Oe,{z:()=>G,P:()=>ae});var B=$(6465);const G=new($(6102).v)(B.o),ae=G},7771:(pt,Oe,$)=>{"use strict";$.d(Oe,{c:()=>ne,N:()=>Ee});var B=$(6465),G=$(6102);const Ee=new class extends G.v{}(class extends B.o{constructor(se,ue){super(se,ue),this.scheduler=se,this.work=ue}schedule(se,ue=0){return ue>0?super.schedule(se,ue):(this.delay=ue,this.state=se,this.scheduler.flush(this),this)}execute(se,ue){return ue>0||this.closed?super.execute(se,ue):this._execute(se,ue)}requestAsyncId(se,ue,re=0){return null!==re&&re>0||null===re&&this.delay>0?super.requestAsyncId(se,ue,re):se.flush(this)}}),ne=Ee},377:(pt,Oe,$)=>{"use strict";$.d(Oe,{hZ:()=>v});const v="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(pt,Oe,$)=>{"use strict";$.d(Oe,{L:()=>B});const B="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(pt,Oe,$)=>{"use strict";$.d(Oe,{b:()=>B});const B="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(pt,Oe,$)=>{"use strict";$.d(Oe,{W:()=>v});const v=(()=>{function G(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return G.prototype=Object.create(Error.prototype),G})()},3410:(pt,Oe,$)=>{"use strict";$.d(Oe,{K:()=>v});const v=(()=>{function G(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return G.prototype=Object.create(Error.prototype),G})()},7971:(pt,Oe,$)=>{"use strict";$.d(Oe,{N:()=>v});const v=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},4449:(pt,Oe,$)=>{"use strict";function B(v){setTimeout(()=>{throw v},0)}$.d(Oe,{z:()=>B})},4487:(pt,Oe,$)=>{"use strict";function B(v){return v}$.d(Oe,{y:()=>B})},9796:(pt,Oe,$)=>{"use strict";$.d(Oe,{k:()=>B});const B=Array.isArray||(v=>v&&"number"==typeof v.length)},9489:(pt,Oe,$)=>{"use strict";$.d(Oe,{z:()=>B});const B=v=>v&&"number"==typeof v.length&&"function"!=typeof v},9105:(pt,Oe,$)=>{"use strict";function B(v){return"function"==typeof v}$.d(Oe,{m:()=>B})},1555:(pt,Oe,$)=>{"use strict";function B(v){return null!==v&&"object"==typeof v}$.d(Oe,{K:()=>B})},4072:(pt,Oe,$)=>{"use strict";function B(v){return!!v&&"function"!=typeof v.subscribe&&"function"==typeof v.then}$.d(Oe,{t:()=>B})},4869:(pt,Oe,$)=>{"use strict";function B(v){return v&&"function"==typeof v.schedule}$.d(Oe,{K:()=>B})},4022:(pt,Oe,$)=>{"use strict";$.d(Oe,{z:()=>v,U:()=>G});var B=$(4487);function v(...ae){return G(ae)}function G(ae){return 0===ae.length?B.y:1===ae.length?ae[0]:function(ne){return ae.reduce((ve,se)=>se(ve),ne)}}},7444:(pt,Oe,$)=>{"use strict";$.d(Oe,{s:()=>le});var B=$(5015),v=$(4449),ae=$(377),ne=$(6554),se=$(9489),ue=$(4072),re=$(1555);const le=te=>{if(te&&"function"==typeof te[ne.L])return(te=>_e=>{const Ne=te[ne.L]();if("function"!=typeof Ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ne.subscribe(_e)})(te);if((0,se.z)(te))return(0,B.V)(te);if((0,ue.t)(te))return(te=>_e=>(te.then(Ne=>{_e.closed||(_e.next(Ne),_e.complete())},Ne=>_e.error(Ne)).then(null,v.z),_e))(te);if(te&&"function"==typeof te[ae.hZ])return(te=>_e=>{const Ne=te[ae.hZ]();for(;;){let ot;try{ot=Ne.next()}catch(ze){return _e.error(ze),_e}if(ot.done){_e.complete();break}if(_e.next(ot.value),_e.closed)break}return"function"==typeof Ne.return&&_e.add(()=>{Ne.return&&Ne.return()}),_e})(te);{const Ne=`You provided ${(0,re.K)(te)?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ne)}}},5015:(pt,Oe,$)=>{"use strict";$.d(Oe,{V:()=>B});const B=v=>G=>{for(let ae=0,Ee=v.length;ae<Ee&&!G.closed;ae++)G.next(v[ae]);G.complete()}},509:(pt,Oe,$)=>{"use strict";$.d(Oe,{D:()=>Ee});var B=$(7393);class v extends B.L{constructor(ve,se,ue){super(),this.parent=ve,this.outerValue=se,this.outerIndex=ue,this.index=0}_next(ve){this.parent.notifyNext(this.outerValue,ve,this.outerIndex,this.index++,this)}_error(ve){this.parent.notifyError(ve,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var G=$(7444),ae=$(8891);function Ee(ne,ve,se,ue,re=new v(ne,se,ue)){if(!re.closed)return ve instanceof ae.y?ve.subscribe(re):(0,G.s)(ve)(re)}},9149:(pt,Oe,$)=>{"use strict";var B=$(8583),v=$(7716);class G extends B.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends G{static makeCurrent(){(0,B.HT)(new ae)}onAndCancel(a,s,f){return a.addEventListener(s,f,!1),()=>{a.removeEventListener(s,f,!1)}}dispatchEvent(a,s){a.dispatchEvent(s)}remove(a){a.parentNode&&a.parentNode.removeChild(a)}createElement(a,s){return(s=s||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,s){return"window"===s?window:"document"===s?a:"body"===s?a.body:null}getBaseHref(a){const s=(Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null);return null==s?null:function(c){ve=ve||document.createElement("a"),ve.setAttribute("href",c);const a=ve.pathname;return"/"===a.charAt(0)?a:`/${a}`}(s)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return(0,B.Mx)(document.cookie,a)}}let ve,Ee=null;const ue=new v.OlP("TRANSITION_ID"),le=[{provide:v.ip1,useFactory:function(c,a,s){return()=>{s.get(v.CZH).donePromise.then(()=>{const f=(0,B.q)(),C=a.querySelectorAll(`style[ng-transition="${c}"]`);for(let D=0;D<C.length;D++)f.remove(C[D])})}},deps:[ue,B.K0,v.zs3],multi:!0}];class te{static init(){(0,v.VLi)(new te)}addToWindow(a){v.dqk.getAngularTestability=(f,C=!0)=>{const D=a.findTestabilityInTree(f,C);if(null==D)throw new Error("Could not find testability for element.");return D},v.dqk.getAllAngularTestabilities=()=>a.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>a.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(f=>{const C=v.dqk.getAllAngularTestabilities();let D=C.length,P=!1;const U=function(W){P=P||W,D--,0==D&&f(P)};C.forEach(function(W){W.whenStable(U)})})}findTestabilityInTree(a,s,f){if(null==s)return null;const C=a.getTestability(s);return null!=C?C:f?(0,B.q)().isShadowRoot(s)?this.findTestabilityInTree(a,s.host,!0):this.findTestabilityInTree(a,s.parentElement,!0):null}}let _e=(()=>{class c{build(){return new XMLHttpRequest}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();const be=new v.OlP("EventManagerPlugins");let De=(()=>{class c{constructor(s,f){this._zone=f,this._eventNameToPlugin=new Map,s.forEach(C=>C.manager=this),this._plugins=s.slice().reverse()}addEventListener(s,f,C){return this._findPluginFor(f).addEventListener(s,f,C)}addGlobalEventListener(s,f,C){return this._findPluginFor(f).addGlobalEventListener(s,f,C)}getZone(){return this._zone}_findPluginFor(s){const f=this._eventNameToPlugin.get(s);if(f)return f;const C=this._plugins;for(let D=0;D<C.length;D++){const P=C[D];if(P.supports(s))return this._eventNameToPlugin.set(s,P),P}throw new Error(`No event manager plugin found for event ${s}`)}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(be),v.LFG(v.R0b))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();class qe{constructor(a){this._doc=a}addGlobalEventListener(a,s,f){const C=(0,B.q)().getGlobalEventTarget(this._doc,a);if(!C)throw new Error(`Unsupported event target ${C} for event ${s}`);return this.addEventListener(C,s,f)}}let Re=(()=>{class c{constructor(){this._stylesSet=new Set}addStyles(s){const f=new Set;s.forEach(C=>{this._stylesSet.has(C)||(this._stylesSet.add(C),f.add(C))}),this.onStylesAdded(f)}onStylesAdded(s){}getAllStyles(){return Array.from(this._stylesSet)}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})(),gt=(()=>{class c extends Re{constructor(s){super(),this._doc=s,this._hostNodes=new Map,this._hostNodes.set(s.head,[])}_addStylesToHost(s,f,C){s.forEach(D=>{const P=this._doc.createElement("style");P.textContent=D,C.push(f.appendChild(P))})}addHost(s){const f=[];this._addStylesToHost(this._stylesSet,s,f),this._hostNodes.set(s,f)}removeHost(s){const f=this._hostNodes.get(s);f&&f.forEach(rt),this._hostNodes.delete(s)}onStylesAdded(s){this._hostNodes.forEach((f,C)=>{this._addStylesToHost(s,C,f)})}ngOnDestroy(){this._hostNodes.forEach(s=>s.forEach(rt))}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(B.K0))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();function rt(c){(0,B.q)().remove(c)}const jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=/%COMP%/g;function $e(c,a,s){for(let f=0;f<a.length;f++){let C=a[f];Array.isArray(C)?$e(c,C,s):(C=C.replace(yt,c),s.push(C))}return s}function Qe(c){return a=>{if("__ngUnwrap__"===a)return c;!1===c(a)&&(a.preventDefault(),a.returnValue=!1)}}let Pt=(()=>{class c{constructor(s,f,C){this.eventManager=s,this.sharedStylesHost=f,this.appId=C,this.rendererByCompId=new Map,this.defaultRenderer=new Ut(s)}createRenderer(s,f){if(!s||!f)return this.defaultRenderer;switch(f.encapsulation){case v.ifc.Emulated:{let C=this.rendererByCompId.get(f.id);return C||(C=new Et(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,C)),C.applyToHost(s),C}case 1:case v.ifc.ShadowDom:return new wn(this.eventManager,this.sharedStylesHost,s,f);default:if(!this.rendererByCompId.has(f.id)){const C=$e(f.id,f.styles,[]);this.sharedStylesHost.addStyles(C),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(De),v.LFG(gt),v.LFG(v.AFp))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();class Ut{constructor(a){this.eventManager=a,this.data=Object.create(null)}destroy(){}createElement(a,s){return s?document.createElementNS(jt[s]||s,a):document.createElement(a)}createComment(a){return document.createComment(a)}createText(a){return document.createTextNode(a)}appendChild(a,s){a.appendChild(s)}insertBefore(a,s,f){a&&a.insertBefore(s,f)}removeChild(a,s){a&&a.removeChild(s)}selectRootElement(a,s){let f="string"==typeof a?document.querySelector(a):a;if(!f)throw new Error(`The selector "${a}" did not match any elements`);return s||(f.textContent=""),f}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,s,f,C){if(C){s=C+":"+s;const D=jt[C];D?a.setAttributeNS(D,s,f):a.setAttribute(s,f)}else a.setAttribute(s,f)}removeAttribute(a,s,f){if(f){const C=jt[f];C?a.removeAttributeNS(C,s):a.removeAttribute(`${f}:${s}`)}else a.removeAttribute(s)}addClass(a,s){a.classList.add(s)}removeClass(a,s){a.classList.remove(s)}setStyle(a,s,f,C){C&(v.JOm.DashCase|v.JOm.Important)?a.style.setProperty(s,f,C&v.JOm.Important?"important":""):a.style[s]=f}removeStyle(a,s,f){f&v.JOm.DashCase?a.style.removeProperty(s):a.style[s]=""}setProperty(a,s,f){a[s]=f}setValue(a,s){a.nodeValue=s}listen(a,s,f){return"string"==typeof a?this.eventManager.addGlobalEventListener(a,s,Qe(f)):this.eventManager.addEventListener(a,s,Qe(f))}}class Et extends Ut{constructor(a,s,f,C){super(a),this.component=f;const D=$e(C+"-"+f.id,f.styles,[]);s.addStyles(D),this.contentAttr="_ngcontent-%COMP%".replace(yt,C+"-"+f.id),this.hostAttr="_nghost-%COMP%".replace(yt,C+"-"+f.id)}applyToHost(a){super.setAttribute(a,this.hostAttr,"")}createElement(a,s){const f=super.createElement(a,s);return super.setAttribute(f,this.contentAttr,""),f}}class wn extends Ut{constructor(a,s,f,C){super(a),this.sharedStylesHost=s,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=$e(C.id,C.styles,[]);for(let P=0;P<D.length;P++){const U=document.createElement("style");U.textContent=D[P],this.shadowRoot.appendChild(U)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(a,s){return super.appendChild(this.nodeOrShadowRoot(a),s)}insertBefore(a,s,f){return super.insertBefore(this.nodeOrShadowRoot(a),s,f)}removeChild(a,s){return super.removeChild(this.nodeOrShadowRoot(a),s)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}}let gn=(()=>{class c extends qe{constructor(s){super(s)}supports(s){return!0}addEventListener(s,f,C){return s.addEventListener(f,C,!1),()=>this.removeEventListener(s,f,C)}removeEventListener(s,f,C){return s.removeEventListener(f,C)}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(B.K0))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();const Wn=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gl={alt:c=>c.altKey,control:c=>c.ctrlKey,meta:c=>c.metaKey,shift:c=>c.shiftKey};let jn=(()=>{class c extends qe{constructor(s){super(s)}supports(s){return null!=c.parseEventName(s)}addEventListener(s,f,C){const D=c.parseEventName(f),P=c.eventCallback(D.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,B.q)().onAndCancel(s,D.domEventName,P))}static parseEventName(s){const f=s.toLowerCase().split("."),C=f.shift();if(0===f.length||"keydown"!==C&&"keyup"!==C)return null;const D=c._normalizeKey(f.pop());let P="";if(Wn.forEach(W=>{const me=f.indexOf(W);me>-1&&(f.splice(me,1),P+=W+".")}),P+=D,0!=f.length||0===D.length)return null;const U={};return U.domEventName=C,U.fullKey=P,U}static getEventFullKey(s){let f="",C=function(c){let a=c.key;if(null==a){if(a=c.keyIdentifier,null==a)return"Unidentified";a.startsWith("U+")&&(a=String.fromCharCode(parseInt(a.substring(2),16)),3===c.location&&yu.hasOwnProperty(a)&&(a=yu[a]))}return Zt[a]||a}(s);return C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),Wn.forEach(D=>{D!=C&&gl[D](s)&&(f+=D+".")}),f+=C,f}static eventCallback(s,f,C){return D=>{c.getEventFullKey(D)===s&&C.runGuarded(()=>f(D))}}static _normalizeKey(s){switch(s){case"esc":return"escape";default:return s}}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(B.K0))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})(),de=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=(0,v.Yz7)({factory:function(){return(0,v.LFG)(Fe)},token:c,providedIn:"root"}),c})(),Fe=(()=>{class c extends de{constructor(s){super(),this._doc=s}sanitize(s,f){if(null==f)return null;switch(s){case v.q3G.NONE:return f;case v.q3G.HTML:return(0,v.qzn)(f,"HTML")?(0,v.z3N)(f):(0,v.EiD)(this._doc,String(f)).toString();case v.q3G.STYLE:return(0,v.qzn)(f,"Style")?(0,v.z3N)(f):f;case v.q3G.SCRIPT:if((0,v.qzn)(f,"Script"))return(0,v.z3N)(f);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.yhl)(f),(0,v.qzn)(f,"URL")?(0,v.z3N)(f):(0,v.mCW)(String(f));case v.q3G.RESOURCE_URL:if((0,v.qzn)(f,"ResourceURL"))return(0,v.z3N)(f);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${s} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(s){return(0,v.JVY)(s)}bypassSecurityTrustStyle(s){return(0,v.L6k)(s)}bypassSecurityTrustScript(s){return(0,v.eBb)(s)}bypassSecurityTrustUrl(s){return(0,v.LAX)(s)}bypassSecurityTrustResourceUrl(s){return(0,v.pB0)(s)}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(B.K0))},c.\u0275prov=(0,v.Yz7)({factory:function(){return function(c){return new Fe(c.get(B.K0))}((0,v.LFG)(v.gxx))},token:c,providedIn:"root"}),c})();const Or=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:B.bD},{provide:v.g9A,useValue:function(){ae.makeCurrent(),te.init()},multi:!0},{provide:B.K0,useFactory:function(){return(0,v.RDi)(document),document},deps:[]}]),Oo=[[],{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function(){return new v.qLn},deps:[]},{provide:be,useClass:gn,multi:!0,deps:[B.K0,v.R0b,v.Lbi]},{provide:be,useClass:jn,multi:!0,deps:[B.K0]},[],{provide:Pt,useClass:Pt,deps:[De,gt,v.AFp]},{provide:v.FYo,useExisting:Pt},{provide:Re,useExisting:gt},{provide:gt,useClass:gt,deps:[B.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:De,useClass:De,deps:[be,v.R0b]},{provide:B.JF,useClass:_e,deps:[]},[]];let ss=(()=>{class c{constructor(s){if(s)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(s){return{ngModule:c,providers:[{provide:v.AFp,useValue:s.appId},{provide:ue,useExisting:v.AFp},le]}}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(c,12))},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({providers:Oo,imports:[B.ez,v.hGG]}),c})();"undefined"!=typeof window&&window;var yr=$(9765),Es=$(7971);class nr extends yr.xQ{constructor(a){super(),this._value=a}get value(){return this.getValue()}_subscribe(a){const s=super._subscribe(a);return s&&!s.closed&&a.next(this._value),s}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Es.N;return this._value}next(a){super.next(this._value=a)}}var Ot=$(5917),Su=$(5257),mo=$(7393),Ai=$(7519),Qn=$(5345);function Js(c){return a=>a.lift(new Ds(c))}class Ds{constructor(a){this.notifier=a}call(a,s){const f=new kh(a),C=(0,Qn.ft)(this.notifier,new Qn.IY(f));return C&&!f.seenValue?(f.add(C),s.subscribe(f)):f}}class kh extends Qn.Ds{constructor(a){super(a),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let yo;try{yo="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(c){yo=!1}let _o=(()=>{class c{constructor(s){this._platformId=s,this.isBrowser=this._platformId?(0,B.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yo)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(v.Lbi))},c.\u0275prov=v.Yz7({factory:function(){return new c(v.LFG(v.Lbi))},token:c,providedIn:"root"}),c})();var jr=$(8891);$(3637),"undefined"!=typeof Element&&Element;const ep="cdk-high-contrast-black-on-white",bg="cdk-high-contrast-white-on-black",Gh="cdk-high-contrast-active";let Pu=(()=>{class c{constructor(s,f){this._platform=s,this._document=f}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const s=this._document.createElement("div");s.style.backgroundColor="rgb(1,2,3)",s.style.position="absolute",this._document.body.appendChild(s);const f=this._document.defaultView||window,C=f&&f.getComputedStyle?f.getComputedStyle(s):null,D=(C&&C.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(s),D){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const s=this._document.body.classList;s.remove(Gh),s.remove(ep),s.remove(bg),this._hasCheckedHighContrastMode=!0;const f=this.getHighContrastMode();1===f?(s.add(Gh),s.add(ep)):2===f&&(s.add(Gh),s.add(bg))}}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(_o),v.LFG(B.K0))},c.\u0275prov=v.Yz7({factory:function(){return new c(v.LFG(_o),v.LFG(B.K0))},token:c,providedIn:"root"}),c})(),Ha=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({}),c})();const xs=new v.GfV("12.2.5");class xd{}const jo="*";function Pd(c,a=null){return{type:2,steps:c,options:a}}function ia(c){return{type:6,styles:c,offset:null}}function Os(c){Promise.resolve(null).then(c)}class gi{constructor(a=0,s=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+s}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Os(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const s="start"==a?this._onStartFns:this._onDoneFns;s.forEach(f=>f()),s.length=0}}class kl{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let s=0,f=0,C=0;const D=this.players.length;0==D?Os(()=>this._onFinish()):this.players.forEach(P=>{P.onDone(()=>{++s==D&&this._onFinish()}),P.onDestroy(()=>{++f==D&&this._onDestroy()}),P.onStart(()=>{++C==D&&this._onStart()})}),this.totalTime=this.players.reduce((P,U)=>Math.max(P,U.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const s=a*this.totalTime;this.players.forEach(f=>{const C=f.totalTime?Math.min(1,s/f.totalTime):1;f.setPosition(C)})}getPosition(){const a=this.players.reduce((s,f)=>null===s||f.totalTime>s.totalTime?f:s,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const s="start"==a?this._onStartFns:this._onDoneFns;s.forEach(f=>f()),s.length=0}}function Ll(){return"undefined"!=typeof window&&void 0!==window.document}function Rc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ui(c){switch(c.length){case 0:return new gi;case 1:return c[0];default:return new kl(c)}}function Ho(c,a,s,f,C={},D={}){const P=[],U=[];let W=-1,me=null;if(f.forEach(we=>{const He=we.offset,je=He==W,nt=je&&me||{};Object.keys(we).forEach(mt=>{let Bt=mt,Jt=we[mt];if("offset"!==mt)switch(Bt=a.normalizePropertyName(Bt,P),Jt){case"!":Jt=C[mt];break;case jo:Jt=D[mt];break;default:Jt=a.normalizeStyleValue(mt,Bt,Jt,P)}nt[Bt]=Jt}),je||U.push(nt),me=nt,W=He}),P.length){const we="\n - ";throw new Error(`Unable to animate due to the following errors:${we}${P.join(we)}`)}return U}function Fd(c,a,s,f){switch(a){case"start":c.onStart(()=>f(s&&kd(s,"start",c)));break;case"done":c.onDone(()=>f(s&&kd(s,"done",c)));break;case"destroy":c.onDestroy(()=>f(s&&kd(s,"destroy",c)))}}function kd(c,a,s){const f=s.totalTime,D=oa(c.element,c.triggerName,c.fromState,c.toState,a||c.phaseName,null==f?c.totalTime:f,!!s.disabled),P=c._data;return null!=P&&(D._data=P),D}function oa(c,a,s,f,C="",D=0,P){return{element:c,triggerName:a,fromState:s,toState:f,phaseName:C,totalTime:D,disabled:!!P}}function Gr(c,a,s){let f;return c instanceof Map?(f=c.get(a),f||c.set(a,f=s)):(f=c[a],f||(f=c[a]=s)),f}function Co(c){const a=c.indexOf(":");return[c.substring(1,a),c.substr(a+1)]}let $o=(c,a)=>!1,Eo=(c,a)=>!1,Nc=(c,a,s)=>[];const wo=Rc();(wo||"undefined"!=typeof Element)&&($o=Ll()?(c,a)=>{for(;a&&a!==document.documentElement;){if(a===c)return!0;a=a.parentNode||a.host}return!1}:(c,a)=>c.contains(a),Eo=(()=>{if(wo||Element.prototype.matches)return(c,a)=>c.matches(a);{const c=Element.prototype,a=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector;return a?(s,f)=>a.apply(s,[f]):Eo}})(),Nc=(c,a,s)=>{let f=[];if(s){const C=c.querySelectorAll(a);for(let D=0;D<C.length;D++)f.push(C[D])}else{const C=c.querySelector(a);C&&f.push(C)}return f});let dr=null,Fc=!1;function zo(c){dr||(dr=("undefined"!=typeof document?document.body:null)||{},Fc=!!dr.style&&"WebkitAppearance"in dr.style);let a=!0;return dr.style&&!function(c){return"ebkit"==c.substring(1,6)}(c)&&(a=c in dr.style,!a&&Fc&&(a="Webkit"+c.charAt(0).toUpperCase()+c.substr(1)in dr.style)),a}const kc=Eo,Vl=$o,aa=Nc;function zh(c){const a={};return Object.keys(c).forEach(s=>{const f=s.replace(/([a-z])([A-Z])/g,"$1-$2");a[f]=c[s]}),a}let Oi=(()=>{class c{validateStyleProperty(s){return zo(s)}matchesElement(s,f){return kc(s,f)}containsElement(s,f){return Vl(s,f)}query(s,f,C){return aa(s,f,C)}computeStyle(s,f,C){return C||""}animate(s,f,C,D,P,U=[],W){return new gi(C,D)}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();class qo{}qo.NOOP=new Oi;const hr="ng-enter",Ht="ng-leave",Ld="ng-trigger",Wa=".ng-trigger",Vc="ng-animating",Hr=".ng-animating";function Wo(c){if("number"==typeof c)return c;const a=c.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:Bi(parseFloat(a[1]),a[2])}function Bi(c,a){switch(a){case"s":return 1e3*c;default:return c}}function er(c,a,s){return c.hasOwnProperty("duration")?c:function(c,a,s){let C,D=0,P="";if("string"==typeof c){const U=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===U)return a.push(`The provided timing value "${c}" is invalid.`),{duration:0,delay:0,easing:""};C=Bi(parseFloat(U[1]),U[2]);const W=U[3];null!=W&&(D=Bi(parseFloat(W),U[4]));const me=U[5];me&&(P=me)}else C=c;if(!s){let U=!1,W=a.length;C<0&&(a.push("Duration values below 0 are not allowed for this animation step."),U=!0),D<0&&(a.push("Delay values below 0 are not allowed for this animation step."),U=!0),U&&a.splice(W,0,`The provided timing value "${c}" is invalid.`)}return{duration:C,delay:D,easing:P}}(c,a,s)}function Lu(c,a={}){return Object.keys(c).forEach(s=>{a[s]=c[s]}),a}function Ps(c,a,s={}){if(a)for(let f in c)s[f]=c[f];else Lu(c,s);return s}function Vu(c,a,s){return s?a+":"+s+";":""}function Rs(c){let a="";for(let s=0;s<c.style.length;s++){const f=c.style.item(s);a+=Vu(0,f,c.style.getPropertyValue(f))}for(const s in c.style)c.style.hasOwnProperty(s)&&!s.startsWith("_")&&(a+=Vu(0,op(s),c.style[s]));c.setAttribute("style",a)}function ri(c,a,s){c.style&&(Object.keys(a).forEach(f=>{const C=Uc(f);s&&!s.hasOwnProperty(f)&&(s[f]=c.style[C]),c.style[C]=a[f]}),Rc()&&Rs(c))}function Ka(c,a){c.style&&(Object.keys(a).forEach(s=>{const f=Uc(s);c.style[f]=""}),Rc()&&Rs(c))}function Un(c){return Array.isArray(c)?1==c.length?c[0]:Pd(c):c}const Uu=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vd(c){let a=[];if("string"==typeof c){let s;for(;s=Uu.exec(c);)a.push(s[1]);Uu.lastIndex=0}return a}function Ul(c,a,s){const f=c.toString(),C=f.replace(Uu,(D,P)=>{let U=a[P];return a.hasOwnProperty(P)||(s.push(`Please provide a value for the animation param ${P}`),U=""),U.toString()});return C==f?c:C}function Za(c){const a=[];let s=c.next();for(;!s.done;)a.push(s.value),s=c.next();return a}const Ud=/-+([a-z0-9])/g;function Uc(c){return c.replace(Ud,(...a)=>a[1].toUpperCase())}function op(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sp(c,a){return 0===c||0===a}function ap(c,a,s){const f=Object.keys(s);if(f.length&&a.length){let D=a[0],P=[];if(f.forEach(U=>{D.hasOwnProperty(U)||P.push(U),D[U]=s[U]}),P.length)for(var C=1;C<a.length;C++){let U=a[C];P.forEach(function(W){U[W]=Qi(c,W)})}}return a}function $r(c,a,s){switch(a.type){case 7:return c.visitTrigger(a,s);case 0:return c.visitState(a,s);case 1:return c.visitTransition(a,s);case 2:return c.visitSequence(a,s);case 3:return c.visitGroup(a,s);case 4:return c.visitAnimate(a,s);case 5:return c.visitKeyframes(a,s);case 6:return c.visitStyle(a,s);case 8:return c.visitReference(a,s);case 9:return c.visitAnimateChild(a,s);case 10:return c.visitAnimateRef(a,s);case 11:return c.visitQuery(a,s);case 12:return c.visitStagger(a,s);default:throw new Error(`Unable to resolve animation metadata node #${a.type}`)}}function Qi(c,a){return window.getComputedStyle(c)[a]}function Ko(c,a){const s=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(f=>function(c,a,s){if(":"==c[0]){const W=function(c,a){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,f)=>parseFloat(f)>parseFloat(s);case":decrement":return(s,f)=>parseFloat(f)<parseFloat(s);default:return a.push(`The transition alias value "${c}" is not supported`),"* => *"}}(c,s);if("function"==typeof W)return void a.push(W);c=W}const f=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return s.push(`The provided transition expression "${c}" is not supported`),a;const C=f[1],D=f[2],P=f[3];a.push(Bd(C,P));"<"==D[0]&&!("*"==C&&"*"==P)&&a.push(Bd(P,C))}(f,s,a)):s.push(c),s}const Ns=new Set(["true","1"]),wr=new Set(["false","0"]);function Bd(c,a){const s=Ns.has(c)||wr.has(c),f=Ns.has(a)||wr.has(a);return(C,D)=>{let P="*"==c||c==C,U="*"==a||a==D;return!P&&s&&"boolean"==typeof C&&(P=C?Ns.has(c):wr.has(c)),!U&&f&&"boolean"==typeof D&&(U=D?Ns.has(a):wr.has(a)),P&&U}}const jc=new RegExp("s*:selfs*,?","g");function mi(c,a,s){return new Bl(c).build(a,s)}class Bl{constructor(a){this._driver=a}build(a,s){const f=new Gc(s);return this._resetContextStyleTimingState(f),$r(this,Un(a),f)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles={},a.collectedStyles[""]={},a.currentTime=0}visitTrigger(a,s){let f=s.queryCount=0,C=s.depCount=0;const D=[],P=[];return"@"==a.name.charAt(0)&&s.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),a.definitions.forEach(U=>{if(this._resetContextStyleTimingState(s),0==U.type){const W=U,me=W.name;me.toString().split(/\s*,\s*/).forEach(we=>{W.name=we,D.push(this.visitState(W,s))}),W.name=me}else if(1==U.type){const W=this.visitTransition(U,s);f+=W.queryCount,C+=W.depCount,P.push(W)}else s.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:a.name,states:D,transitions:P,queryCount:f,depCount:C,options:null}}visitState(a,s){const f=this.visitStyle(a.styles,s),C=a.options&&a.options.params||null;if(f.containsDynamicStyles){const D=new Set,P=C||{};if(f.styles.forEach(U=>{if(Qa(U)){const W=U;Object.keys(W).forEach(me=>{Vd(W[me]).forEach(we=>{P.hasOwnProperty(we)||D.add(we)})})}}),D.size){const U=Za(D.values());s.errors.push(`state("${a.name}", ...) must define default values for all the following style substitutions: ${U.join(", ")}`)}}return{type:0,name:a.name,style:f,options:C?{params:C}:null}}visitTransition(a,s){s.queryCount=0,s.depCount=0;const f=$r(this,Un(a.animation),s);return{type:1,matchers:Ko(a.expr,s.errors),animation:f,queryCount:s.queryCount,depCount:s.depCount,options:ua(a.options)}}visitSequence(a,s){return{type:2,steps:a.steps.map(f=>$r(this,f,s)),options:ua(a.options)}}visitGroup(a,s){const f=s.currentTime;let C=0;const D=a.steps.map(P=>{s.currentTime=f;const U=$r(this,P,s);return C=Math.max(C,s.currentTime),U});return s.currentTime=C,{type:3,steps:D,options:ua(a.options)}}visitAnimate(a,s){const f=function(c,a){let s=null;if(c.hasOwnProperty("duration"))s=c;else if("number"==typeof c)return Hc(er(c,a).duration,0,"");const f=c;if(f.split(/\s+/).some(D=>"{"==D.charAt(0)&&"{"==D.charAt(1))){const D=Hc(0,0,"");return D.dynamic=!0,D.strValue=f,D}return s=s||er(f,a),Hc(s.duration,s.delay,s.easing)}(a.timings,s.errors);s.currentAnimateTimings=f;let C,D=a.styles?a.styles:ia({});if(5==D.type)C=this.visitKeyframes(D,s);else{let P=a.styles,U=!1;if(!P){U=!0;const me={};f.easing&&(me.easing=f.easing),P=ia(me)}s.currentTime+=f.duration+f.delay;const W=this.visitStyle(P,s);W.isEmptyStep=U,C=W}return s.currentAnimateTimings=null,{type:4,timings:f,style:C,options:null}}visitStyle(a,s){const f=this._makeStyleAst(a,s);return this._validateStyleAst(f,s),f}_makeStyleAst(a,s){const f=[];Array.isArray(a.styles)?a.styles.forEach(P=>{"string"==typeof P?P==jo?f.push(P):s.errors.push(`The provided style string value ${P} is not allowed.`):f.push(P)}):f.push(a.styles);let C=!1,D=null;return f.forEach(P=>{if(Qa(P)){const U=P,W=U.easing;if(W&&(D=W,delete U.easing),!C)for(let me in U)if(U[me].toString().indexOf("{{")>=0){C=!0;break}}}),{type:6,styles:f,easing:D,offset:a.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(a,s){const f=s.currentAnimateTimings;let C=s.currentTime,D=s.currentTime;f&&D>0&&(D-=f.duration+f.delay),a.styles.forEach(P=>{"string"!=typeof P&&Object.keys(P).forEach(U=>{if(!this._driver.validateStyleProperty(U))return void s.errors.push(`The provided animation property "${U}" is not a supported CSS property for animations`);const W=s.collectedStyles[s.currentQuerySelector],me=W[U];let we=!0;me&&(D!=C&&D>=me.startTime&&C<=me.endTime&&(s.errors.push(`The CSS property "${U}" that exists between the times of "${me.startTime}ms" and "${me.endTime}ms" is also being animated in a parallel animation between the times of "${D}ms" and "${C}ms"`),we=!1),D=me.startTime),we&&(W[U]={startTime:D,endTime:C}),s.options&&function(c,a,s){const f=a.params||{},C=Vd(c);C.length&&C.forEach(D=>{f.hasOwnProperty(D)||s.push(`Unable to resolve the local animation param ${D} in the given list of values`)})}(P[U],s.options,s.errors)})})}visitKeyframes(a,s){const f={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push("keyframes() must be placed inside of a call to animate()"),f;let D=0;const P=[];let U=!1,W=!1,me=0;const we=a.steps.map(Tn=>{const lr=this._makeStyleAst(Tn,s);let xr=null!=lr.offset?lr.offset:function(c){if("string"==typeof c)return null;let a=null;if(Array.isArray(c))c.forEach(s=>{if(Qa(s)&&s.hasOwnProperty("offset")){const f=s;a=parseFloat(f.offset),delete f.offset}});else if(Qa(c)&&c.hasOwnProperty("offset")){const s=c;a=parseFloat(s.offset),delete s.offset}return a}(lr.styles),Zr=0;return null!=xr&&(D++,Zr=lr.offset=xr),W=W||Zr<0||Zr>1,U=U||Zr<me,me=Zr,P.push(Zr),lr});W&&s.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),U&&s.errors.push("Please ensure that all keyframe offsets are in order");const He=a.steps.length;let je=0;D>0&&D<He?s.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==D&&(je=1/(He-1));const nt=He-1,mt=s.currentTime,Bt=s.currentAnimateTimings,Jt=Bt.duration;return we.forEach((Tn,lr)=>{const xr=je>0?lr==nt?1:je*lr:P[lr],Zr=xr*Jt;s.currentTime=mt+Bt.delay+Zr,Bt.duration=Zr,this._validateStyleAst(Tn,s),Tn.offset=xr,f.styles.push(Tn)}),f}visitReference(a,s){return{type:8,animation:$r(this,Un(a.animation),s),options:ua(a.options)}}visitAnimateChild(a,s){return s.depCount++,{type:9,options:ua(a.options)}}visitAnimateRef(a,s){return{type:10,animation:this.visitReference(a.animation,s),options:ua(a.options)}}visitQuery(a,s){const f=s.currentQuerySelector,C=a.options||{};s.queryCount++,s.currentQuery=a;const[D,P]=function(c){const a=!!c.split(/\s*,\s*/).find(s=>":self"==s);return a&&(c=c.replace(jc,"")),[c=c.replace(/@\*/g,Wa).replace(/@\w+/g,s=>Wa+"-"+s.substr(1)).replace(/:animating/g,Hr),a]}(a.selector);s.currentQuerySelector=f.length?f+" "+D:D,Gr(s.collectedStyles,s.currentQuerySelector,{});const U=$r(this,Un(a.animation),s);return s.currentQuery=null,s.currentQuerySelector=f,{type:11,selector:D,limit:C.limit||0,optional:!!C.optional,includeSelf:P,animation:U,originalSelector:a.selector,options:ua(a.options)}}visitStagger(a,s){s.currentQuery||s.errors.push("stagger() can only be used inside of query()");const f="full"===a.timings?{duration:0,delay:0,easing:"full"}:er(a.timings,s.errors,!0);return{type:12,animation:$r(this,Un(a.animation),s),timings:f,options:null}}}class Gc{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Qa(c){return!Array.isArray(c)&&"object"==typeof c}function ua(c){return c?(c=Lu(c)).params&&(c.params=function(c){return c?Lu(c):null}(c.params)):c={},c}function Hc(c,a,s){return{duration:c,delay:a,easing:s}}function ii(c,a,s,f,C,D,P=null,U=!1){return{type:1,element:c,keyframes:a,preStyleProps:s,postStyleProps:f,duration:C,delay:D,totalTime:C+D,easing:P,subTimeline:U}}class la{constructor(){this._map=new Map}consume(a){let s=this._map.get(a);return s?this._map.delete(a):s=[],s}append(a,s){let f=this._map.get(a);f||this._map.set(a,f=[]),f.push(...s)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const $n=new RegExp(":enter","g"),Bu=new RegExp(":leave","g");function ms(c,a,s,f,C,D={},P={},U,W,me=[]){return(new Ja).buildKeyframes(c,a,s,f,C,D,P,U,W,me)}class Ja{buildKeyframes(a,s,f,C,D,P,U,W,me,we=[]){me=me||new la;const He=new Yh(a,s,me,C,D,we,[]);He.options=W,He.currentTimeline.setStyles([P],null,He.errors,W),$r(this,f,He);const je=He.timelines.filter(nt=>nt.containsAnimation());if(je.length&&Object.keys(U).length){const nt=je[je.length-1];nt.allowOnlyTimelineStyles()||nt.setStyles([U],null,He.errors,W)}return je.length?je.map(nt=>nt.buildKeyframes()):[ii(s,[],[],[],0,0,"",!1)]}visitTrigger(a,s){}visitState(a,s){}visitTransition(a,s){}visitAnimateChild(a,s){const f=s.subInstructions.consume(s.element);if(f){const C=s.createSubContext(a.options),D=s.currentTimeline.currentTime,P=this._visitSubInstructions(f,C,C.options);D!=P&&s.transformIntoNewTimeline(P)}s.previousNode=a}visitAnimateRef(a,s){const f=s.createSubContext(a.options);f.transformIntoNewTimeline(),this.visitReference(a.animation,f),s.transformIntoNewTimeline(f.currentTimeline.currentTime),s.previousNode=a}_visitSubInstructions(a,s,f){let D=s.currentTimeline.currentTime;const P=null!=f.duration?Wo(f.duration):null,U=null!=f.delay?Wo(f.delay):null;return 0!==P&&a.forEach(W=>{const me=s.appendInstructionToTimeline(W,P,U);D=Math.max(D,me.duration+me.delay)}),D}visitReference(a,s){s.updateOptions(a.options,!0),$r(this,a.animation,s),s.previousNode=a}visitSequence(a,s){const f=s.subContextCount;let C=s;const D=a.options;if(D&&(D.params||D.delay)&&(C=s.createSubContext(D),C.transformIntoNewTimeline(),null!=D.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=Hd);const P=Wo(D.delay);C.delayNextStep(P)}a.steps.length&&(a.steps.forEach(P=>$r(this,P,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>f&&C.transformIntoNewTimeline()),s.previousNode=a}visitGroup(a,s){const f=[];let C=s.currentTimeline.currentTime;const D=a.options&&a.options.delay?Wo(a.options.delay):0;a.steps.forEach(P=>{const U=s.createSubContext(a.options);D&&U.delayNextStep(D),$r(this,P,U),C=Math.max(C,U.currentTimeline.currentTime),f.push(U.currentTimeline)}),f.forEach(P=>s.currentTimeline.mergeTimelineCollectedStyles(P)),s.transformIntoNewTimeline(C),s.previousNode=a}_visitTiming(a,s){if(a.dynamic){const f=a.strValue;return er(s.params?Ul(f,s.params,s.errors):f,s.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,s){const f=s.currentAnimateTimings=this._visitTiming(a.timings,s),C=s.currentTimeline;f.delay&&(s.incrementTime(f.delay),C.snapshotCurrentStyles());const D=a.style;5==D.type?this.visitKeyframes(D,s):(s.incrementTime(f.duration),this.visitStyle(D,s),C.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=a}visitStyle(a,s){const f=s.currentTimeline,C=s.currentAnimateTimings;!C&&f.getCurrentStyleProperties().length&&f.forwardFrame();const D=C&&C.easing||a.easing;a.isEmptyStep?f.applyEmptyStep(D):f.setStyles(a.styles,D,s.errors,s.options),s.previousNode=a}visitKeyframes(a,s){const f=s.currentAnimateTimings,C=s.currentTimeline.duration,D=f.duration,U=s.createSubContext().currentTimeline;U.easing=f.easing,a.styles.forEach(W=>{U.forwardTime((W.offset||0)*D),U.setStyles(W.styles,W.easing,s.errors,s.options),U.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(U),s.transformIntoNewTimeline(C+D),s.previousNode=a}visitQuery(a,s){const f=s.currentTimeline.currentTime,C=a.options||{},D=C.delay?Wo(C.delay):0;D&&(6===s.previousNode.type||0==f&&s.currentTimeline.getCurrentStyleProperties().length)&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Hd);let P=f;const U=s.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!C.optional,s.errors);s.currentQueryTotal=U.length;let W=null;U.forEach((me,we)=>{s.currentQueryIndex=we;const He=s.createSubContext(a.options,me);D&&He.delayNextStep(D),me===s.element&&(W=He.currentTimeline),$r(this,a.animation,He),He.currentTimeline.applyStylesToKeyframe(),P=Math.max(P,He.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline(P),W&&(s.currentTimeline.mergeTimelineCollectedStyles(W),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=a}visitStagger(a,s){const f=s.parentContext,C=s.currentTimeline,D=a.timings,P=Math.abs(D.duration),U=P*(s.currentQueryTotal-1);let W=P*s.currentQueryIndex;switch(D.duration<0?"reverse":D.easing){case"reverse":W=U-W;break;case"full":W=f.currentStaggerTime}const we=s.currentTimeline;W&&we.delayNextStep(W);const He=we.currentTime;$r(this,a.animation,s),s.previousNode=a,f.currentStaggerTime=C.currentTime-He+(C.startTime-f.currentTimeline.startTime)}}const Hd={};class Yh{constructor(a,s,f,C,D,P,U,W){this._driver=a,this.element=s,this.subInstructions=f,this._enterClassName=C,this._leaveClassName=D,this.errors=P,this.timelines=U,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=W||new ju(this._driver,s,0),U.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,s){if(!a)return;const f=a;let C=this.options;null!=f.duration&&(C.duration=Wo(f.duration)),null!=f.delay&&(C.delay=Wo(f.delay));const D=f.params;if(D){let P=C.params;P||(P=this.options.params={}),Object.keys(D).forEach(U=>{(!s||!P.hasOwnProperty(U))&&(P[U]=Ul(D[U],P,this.errors))})}}_copyOptions(){const a={};if(this.options){const s=this.options.params;if(s){const f=a.params={};Object.keys(s).forEach(C=>{f[C]=s[C]})}}return a}createSubContext(a=null,s,f){const C=s||this.element,D=new Yh(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,f||0));return D.previousNode=this.previousNode,D.currentAnimateTimings=this.currentAnimateTimings,D.options=this._copyOptions(),D.updateOptions(a),D.currentQueryIndex=this.currentQueryIndex,D.currentQueryTotal=this.currentQueryTotal,D.parentContext=this,this.subContextCount++,D}transformIntoNewTimeline(a){return this.previousNode=Hd,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,s,f){const C={duration:null!=s?s:a.duration,delay:this.currentTimeline.currentTime+(null!=f?f:0)+a.delay,easing:""},D=new ys(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,C,a.stretchStartingKeyframe);return this.timelines.push(D),C}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,s,f,C,D,P){let U=[];if(C&&U.push(this.element),a.length>0){a=(a=a.replace($n,"."+this._enterClassName)).replace(Bu,"."+this._leaveClassName);let me=this._driver.query(this.element,a,1!=f);0!==f&&(me=f<0?me.slice(me.length+f,me.length):me.slice(0,f)),U.push(...me)}return!D&&0==U.length&&P.push(`\`query("${s}")\` returned zero elements. (Use \`query("${s}", { optional: true })\` if you wish to allow this.)`),U}}class ju{constructor(a,s,f,C){this._driver=a,this.element=s,this.startTime=f,this._elementTimelineStylesLookup=C,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const s=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||s?(this.forwardTime(this.currentTime+a),s&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,s){return this.applyStylesToKeyframe(),new ju(this._driver,a,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,s){this._localTimelineStyles[a]=s,this._globalTimelineStyles[a]=s,this._styleSummary[a]={time:this.currentTime,value:s}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&(this._previousKeyframe.easing=a),Object.keys(this._globalTimelineStyles).forEach(s=>{this._backFill[s]=this._globalTimelineStyles[s]||jo,this._currentKeyframe[s]=jo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,s,f,C){s&&(this._previousKeyframe.easing=s);const D=C&&C.params||{},P=function(c,a){const s={};let f;return c.forEach(C=>{"*"===C?(f=f||Object.keys(a),f.forEach(D=>{s[D]=jo})):Ps(C,!1,s)}),s}(a,this._globalTimelineStyles);Object.keys(P).forEach(U=>{const W=Ul(P[U],D,f);this._pendingStyles[U]=W,this._localTimelineStyles.hasOwnProperty(U)||(this._backFill[U]=this._globalTimelineStyles.hasOwnProperty(U)?this._globalTimelineStyles[U]:jo),this._updateStyle(U,W)})}applyStylesToKeyframe(){const a=this._pendingStyles,s=Object.keys(a);0!=s.length&&(this._pendingStyles={},s.forEach(f=>{this._currentKeyframe[f]=a[f]}),Object.keys(this._localTimelineStyles).forEach(f=>{this._currentKeyframe.hasOwnProperty(f)||(this._currentKeyframe[f]=this._localTimelineStyles[f])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(a=>{const s=this._localTimelineStyles[a];this._pendingStyles[a]=s,this._updateStyle(a,s)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let s in this._currentKeyframe)a.push(s);return a}mergeTimelineCollectedStyles(a){Object.keys(a._styleSummary).forEach(s=>{const f=this._styleSummary[s],C=a._styleSummary[s];(!f||C.time>f.time)&&this._updateStyle(s,C.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,s=new Set,f=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((U,W)=>{const me=Ps(U,!0);Object.keys(me).forEach(we=>{const He=me[we];"!"==He?a.add(we):He==jo&&s.add(we)}),f||(me.offset=W/this.duration),C.push(me)});const D=a.size?Za(a.values()):[],P=s.size?Za(s.values()):[];if(f){const U=C[0],W=Lu(U);U.offset=0,W.offset=1,C=[U,W]}return ii(this.element,C,D,P,this.duration,this.startTime,this.easing,!1)}}class ys extends ju{constructor(a,s,f,C,D,P,U=!1){super(a,s,P.delay),this.keyframes=f,this.preStyleProps=C,this.postStyleProps=D,this._stretchStartingKeyframe=U,this.timings={duration:P.duration,delay:P.delay,easing:P.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:s,duration:f,easing:C}=this.timings;if(this._stretchStartingKeyframe&&s){const D=[],P=f+s,U=s/P,W=Ps(a[0],!1);W.offset=0,D.push(W);const me=Ps(a[0],!1);me.offset=lp(U),D.push(me);const we=a.length-1;for(let He=1;He<=we;He++){let je=Ps(a[He],!1);je.offset=lp((s+je.offset*f)/P),D.push(je)}f=P,s=0,C="",a=D}return ii(this.element,a,this.preStyleProps,this.postStyleProps,f,s,C,!0)}}function lp(c,a=3){const s=Math.pow(10,a-1);return Math.round(c*s)/s}class Xa{}class Ji extends Xa{normalizePropertyName(a,s){return Uc(a)}normalizeStyleValue(a,s,f,C){let D="";const P=f.toString().trim();if(oi[s]&&0!==f&&"0"!==f)if("number"==typeof f)D="px";else{const U=f.match(/^[+-]?[\d\.]+([a-z]*)$/);U&&0==U[1].length&&C.push(`Please provide a CSS unit value for ${a}:${f}`)}return P+D}}const oi=(()=>function(c){const a={};return c.forEach(s=>a[s]=!0),a}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Hu(c,a,s,f,C,D,P,U,W,me,we,He,je){return{type:0,element:c,triggerName:a,isRemovalTransition:C,fromState:s,fromStyles:D,toState:f,toStyles:P,timelines:U,queriedElements:W,preStyleProps:me,postStyleProps:we,totalTime:He,errors:je}}const ar={};class Yo{constructor(a,s,f){this._triggerName=a,this.ast=s,this._stateStyles=f}match(a,s,f,C){return function(c,a,s,f,C){return c.some(D=>D(a,s,f,C))}(this.ast.matchers,a,s,f,C)}buildStyles(a,s,f){const C=this._stateStyles["*"],D=this._stateStyles[a],P=C?C.buildStyles(s,f):{};return D?D.buildStyles(s,f):P}build(a,s,f,C,D,P,U,W,me,we){const He=[],je=this.ast.options&&this.ast.options.params||ar,mt=this.buildStyles(f,U&&U.params||ar,He),Bt=W&&W.params||ar,Jt=this.buildStyles(C,Bt,He),Tn=new Set,lr=new Map,xr=new Map,Zr="void"===C,Ti={params:Object.assign(Object.assign({},je),Bt)},fc=we?[]:ms(a,s,this.ast.animation,D,P,mt,Jt,Ti,me,He);let bs=0;if(fc.forEach(dd=>{bs=Math.max(dd.duration+dd.delay,bs)}),He.length)return Hu(s,this._triggerName,f,C,Zr,mt,Jt,[],[],lr,xr,bs,He);fc.forEach(dd=>{const hd=dd.element,uC=Gr(lr,hd,{});dd.preStyleProps.forEach(Gf=>uC[Gf]=!0);const zm=Gr(xr,hd,{});dd.postStyleProps.forEach(Gf=>zm[Gf]=!0),hd!==s&&Tn.add(hd)});const fl=Za(Tn.values());return Hu(s,this._triggerName,f,C,Zr,mt,Jt,fc,fl,lr,xr,bs)}}class zr{constructor(a,s,f){this.styles=a,this.defaultParams=s,this.normalizer=f}buildStyles(a,s){const f={},C=Lu(this.defaultParams);return Object.keys(a).forEach(D=>{const P=a[D];null!=P&&(C[D]=P)}),this.styles.styles.forEach(D=>{if("string"!=typeof D){const P=D;Object.keys(P).forEach(U=>{let W=P[U];W.length>1&&(W=Ul(W,C,s));const me=this.normalizer.normalizePropertyName(U,s);W=this.normalizer.normalizeStyleValue(U,me,W,s),f[me]=W})}}),f}}class eu{constructor(a,s,f){this.name=a,this.ast=s,this._normalizer=f,this.transitionFactories=[],this.states={},s.states.forEach(C=>{this.states[C.name]=new zr(C.style,C.options&&C.options.params||{},f)}),da(this.states,"true","1"),da(this.states,"false","0"),s.transitions.forEach(C=>{this.transitionFactories.push(new Yo(a,C,this.states))}),this.fallbackTransition=function(c,a,s){return new Yo(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(P,U)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,s,f,C){return this.transitionFactories.find(P=>P.match(a,s,f,C))||null}matchStyles(a,s,f){return this.fallbackTransition.buildStyles(a,s,f)}}function da(c,a,s){c.hasOwnProperty(a)?c.hasOwnProperty(s)||(c[s]=c[a]):c.hasOwnProperty(s)&&(c[a]=c[s])}const jl=new la;class Dg{constructor(a,s,f){this.bodyNode=a,this._driver=s,this._normalizer=f,this._animations={},this._playersById={},this.players=[]}register(a,s){const f=[],C=mi(this._driver,s,f);if(f.length)throw new Error(`Unable to build the animation due to the following errors: ${f.join("\n")}`);this._animations[a]=C}_buildPlayer(a,s,f){const C=a.element,D=Ho(0,this._normalizer,0,a.keyframes,s,f);return this._driver.animate(C,D,a.duration,a.delay,a.easing,[],!0)}create(a,s,f={}){const C=[],D=this._animations[a];let P;const U=new Map;if(D?(P=ms(this._driver,s,D,hr,Ht,{},{},f,jl,C),P.forEach(we=>{const He=Gr(U,we.element,{});we.postStyleProps.forEach(je=>He[je]=null)})):(C.push("The requested animation doesn't exist or has already been destroyed"),P=[]),C.length)throw new Error(`Unable to create the animation due to the following errors: ${C.join("\n")}`);U.forEach((we,He)=>{Object.keys(we).forEach(je=>{we[je]=this._driver.computeStyle(He,je,jo)})});const me=Ui(P.map(we=>{const He=U.get(we.element);return this._buildPlayer(we,{},He)}));return this._playersById[a]=me,me.onDestroy(()=>this.destroy(a)),this.players.push(me),me}destroy(a){const s=this._getPlayer(a);s.destroy(),delete this._playersById[a];const f=this.players.indexOf(s);f>=0&&this.players.splice(f,1)}_getPlayer(a){const s=this._playersById[a];if(!s)throw new Error(`Unable to find the timeline player referenced by ${a}`);return s}listen(a,s,f,C){const D=oa(s,"","","");return Fd(this._getPlayer(a),f,D,C),()=>{}}command(a,s,f,C){if("register"==f)return void this.register(a,C[0]);if("create"==f)return void this.create(a,s,C[0]||{});const D=this._getPlayer(a);switch(f){case"play":D.play();break;case"pause":D.pause();break;case"reset":D.reset();break;case"restart":D.restart();break;case"finish":D.finish();break;case"init":D.init();break;case"setPosition":D.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(a)}}}const Qh="ng-animate-queued",qr="ng-animate-disabled",st=".ng-animate-disabled",dp=[],ha={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$u={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qo="__ng_removed";class Xi{constructor(a,s=""){this.namespaceId=s;const f=a&&a.hasOwnProperty("value");if(this.value=null!=(c=f?a.value:a)?c:null,f){const D=Lu(a);delete D.value,this.options=D}else this.options={};var c;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(a){const s=a.params;if(s){const f=this.options.params;Object.keys(s).forEach(C=>{null==f[C]&&(f[C]=s[C])})}}}const Gl="void",qc=new Xi(Gl);class hp{constructor(a,s,f){this.id=a,this.hostElement=s,this._engine=f,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,vi(s,this._hostClassName)}listen(a,s,f,C){if(!this._triggers.hasOwnProperty(s))throw new Error(`Unable to listen on the animation trigger event "${f}" because the animation trigger "${s}" doesn't exist!`);if(null==f||0==f.length)throw new Error(`Unable to listen on the animation trigger "${s}" because the provided event is undefined!`);if("start"!=(c=f)&&"done"!=c)throw new Error(`The provided animation trigger event "${f}" for the animation trigger "${s}" is not supported!`);var c;const D=Gr(this._elementListeners,a,[]),P={name:s,phase:f,callback:C};D.push(P);const U=Gr(this._engine.statesByElement,a,{});return U.hasOwnProperty(s)||(vi(a,Ld),vi(a,Ld+"-"+s),U[s]=qc),()=>{this._engine.afterFlush(()=>{const W=D.indexOf(P);W>=0&&D.splice(W,1),this._triggers[s]||delete U[s]})}}register(a,s){return!this._triggers[a]&&(this._triggers[a]=s,!0)}_getTrigger(a){const s=this._triggers[a];if(!s)throw new Error(`The provided animation trigger "${a}" has not been registered!`);return s}trigger(a,s,f,C=!0){const D=this._getTrigger(s),P=new ji(this.id,s,a);let U=this._engine.statesByElement.get(a);U||(vi(a,Ld),vi(a,Ld+"-"+s),this._engine.statesByElement.set(a,U={}));let W=U[s];const me=new Xi(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&W&&me.absorbOptions(W.options),U[s]=me,W||(W=qc),me.value!==Gl&&W.value===me.value){if(!function(c,a){const s=Object.keys(c),f=Object.keys(a);if(s.length!=f.length)return!1;for(let C=0;C<s.length;C++){const D=s[C];if(!a.hasOwnProperty(D)||c[D]!==a[D])return!1}return!0}(W.params,me.params)){const Bt=[],Jt=D.matchStyles(W.value,W.params,Bt),Tn=D.matchStyles(me.value,me.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{Ka(a,Jt),ri(a,Tn)})}return}const je=Gr(this._engine.playersByElement,a,[]);je.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==s&&Bt.queued&&Bt.destroy()});let nt=D.matchTransition(W.value,me.value,a,me.params),mt=!1;if(!nt){if(!C)return;nt=D.fallbackTransition,mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:s,transition:nt,fromState:W,toState:me,player:P,isFallbackTransition:mt}),mt||(vi(a,Qh),P.onStart(()=>{ks(a,Qh)})),P.onDone(()=>{let Bt=this.players.indexOf(P);Bt>=0&&this.players.splice(Bt,1);const Jt=this._engine.playersByElement.get(a);if(Jt){let Tn=Jt.indexOf(P);Tn>=0&&Jt.splice(Tn,1)}}),this.players.push(P),je.push(P),P}deregister(a){delete this._triggers[a],this._engine.statesByElement.forEach((s,f)=>{delete s[a]}),this._elementListeners.forEach((s,f)=>{this._elementListeners.set(f,s.filter(C=>C.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const s=this._engine.playersByElement.get(a);s&&(s.forEach(f=>f.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,s){const f=this._engine.driver.query(a,Wa,!0);f.forEach(C=>{if(C[Qo])return;const D=this._engine.fetchNamespacesByElement(C);D.size?D.forEach(P=>P.triggerLeaveAnimation(C,s,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(a,s,f,C){const D=this._engine.statesByElement.get(a);if(D){const P=[];if(Object.keys(D).forEach(U=>{if(this._triggers[U]){const W=this.trigger(a,U,Gl,C);W&&P.push(W)}}),P.length)return this._engine.markElementAsRemoved(this.id,a,!0,s),f&&Ui(P).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const s=this._elementListeners.get(a),f=this._engine.statesByElement.get(a);if(s&&f){const C=new Set;s.forEach(D=>{const P=D.name;if(C.has(P))return;C.add(P);const W=this._triggers[P].fallbackTransition,me=f[P]||qc,we=new Xi(Gl),He=new ji(this.id,P,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:P,transition:W,fromState:me,toState:we,player:He,isFallbackTransition:!0})})}}removeNode(a,s){const f=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,s),this.triggerLeaveAnimation(a,s,!0))return;let C=!1;if(f.totalAnimations){const D=f.players.length?f.playersByQueriedElement.get(a):[];if(D&&D.length)C=!0;else{let P=a;for(;P=P.parentNode;)if(f.statesByElement.get(P)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(a),C)f.markElementAsRemoved(this.id,a,!1,s);else{const D=a[Qo];(!D||D===ha)&&(f.afterFlush(()=>this.clearElementCache(a)),f.destroyInnerAnimations(a),f._onRemovalComplete(a,s))}}insertNode(a,s){vi(a,this._hostClassName)}drainQueuedTransitions(a){const s=[];return this._queue.forEach(f=>{const C=f.player;if(C.destroyed)return;const D=f.element,P=this._elementListeners.get(D);P&&P.forEach(U=>{if(U.name==f.triggerName){const W=oa(D,f.triggerName,f.fromState.value,f.toState.value);W._data=a,Fd(f.player,U.phase,W,U.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):s.push(f)}),this._queue=[],s.sort((f,C)=>{const D=f.transition.ast.depCount,P=C.transition.ast.depCount;return 0==D||0==P?D-P:this._engine.driver.containsElement(f.element,C.element)?1:-1})}destroy(a){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let s=!1;return this._elementListeners.has(a)&&(s=!0),s=!!this._queue.find(f=>f.element===a)||s,s}}class eo{constructor(a,s,f){this.bodyNode=a,this.driver=s,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,D)=>{}}_onRemovalComplete(a,s){this.onRemovalComplete(a,s)}get queuedPlayers(){const a=[];return this._namespaceList.forEach(s=>{s.players.forEach(f=>{f.queued&&a.push(f)})}),a}createNamespace(a,s){const f=new hp(a,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(f,s):(this.newHostElements.set(s,f),this.collectEnterElement(s)),this._namespaceLookup[a]=f}_balanceNamespaceList(a,s){const f=this._namespaceList.length-1;if(f>=0){let C=!1;for(let D=f;D>=0;D--)if(this.driver.containsElement(this._namespaceList[D].hostElement,s)){this._namespaceList.splice(D+1,0,a),C=!0;break}C||this._namespaceList.splice(0,0,a)}else this._namespaceList.push(a);return this.namespacesByHostElement.set(s,a),a}register(a,s){let f=this._namespaceLookup[a];return f||(f=this.createNamespace(a,s)),f}registerTrigger(a,s,f){let C=this._namespaceLookup[a];C&&C.register(s,f)&&this.totalAnimations++}destroy(a,s){if(!a)return;const f=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(f.hostElement),delete this._namespaceLookup[a];const C=this._namespaceList.indexOf(f);C>=0&&this._namespaceList.splice(C,1)}),this.afterFlushAnimationsDone(()=>f.destroy(s))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const s=new Set,f=this.statesByElement.get(a);if(f){const C=Object.keys(f);for(let D=0;D<C.length;D++){const P=f[C[D]].namespaceId;if(P){const U=this._fetchNamespace(P);U&&s.add(U)}}}return s}trigger(a,s,f,C){if(zu(s)){const D=this._fetchNamespace(a);if(D)return D.trigger(s,f,C),!0}return!1}insertNode(a,s,f,C){if(!zu(s))return;const D=s[Qo];if(D&&D.setForRemoval){D.setForRemoval=!1,D.setForMove=!0;const P=this.collectedLeaveElements.indexOf(s);P>=0&&this.collectedLeaveElements.splice(P,1)}if(a){const P=this._fetchNamespace(a);P&&P.insertNode(s,f)}C&&this.collectEnterElement(s)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,s){s?this.disabledNodes.has(a)||(this.disabledNodes.add(a),vi(a,qr)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),ks(a,qr))}removeNode(a,s,f,C){if(zu(s)){const D=a?this._fetchNamespace(a):null;if(D?D.removeNode(s,C):this.markElementAsRemoved(a,s,!1,C),f){const P=this.namespacesByHostElement.get(s);P&&P.id!==a&&P.removeNode(s,C)}}else this._onRemovalComplete(s,C)}markElementAsRemoved(a,s,f,C){this.collectedLeaveElements.push(s),s[Qo]={namespaceId:a,setForRemoval:C,hasAnimation:f,removedBeforeQueried:!1}}listen(a,s,f,C,D){return zu(s)?this._fetchNamespace(a).listen(s,f,C,D):()=>{}}_buildInstruction(a,s,f,C,D){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,f,C,a.fromState.options,a.toState.options,s,D)}destroyInnerAnimations(a){let s=this.driver.query(a,Wa,!0);s.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(a,Hr,!0),s.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(a){const s=this.playersByElement.get(a);s&&s.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(a){const s=this.playersByQueriedElement.get(a);s&&s.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return Ui(this.players).onDone(()=>a());a()})}processLeaveNode(a){const s=a[Qo];if(s&&s.setForRemoval){if(a[Qo]=ha,s.namespaceId){this.destroyInnerAnimations(a);const f=this._fetchNamespace(s.namespaceId);f&&f.clearElementCache(a)}this._onRemovalComplete(a,s.setForRemoval)}this.driver.matchesElement(a,st)&&this.markElementAsDisabled(a,!1),this.driver.query(a,st,!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(a=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,C)=>this._balanceNamespaceList(f,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)vi(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{s=this._flushAnimations(f,a)}finally{for(let C=0;C<f.length;C++)f[C]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],s.length?Ui(s).onDone(()=>{f.forEach(C=>C())}):f.forEach(C=>C())}}reportError(a){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${a.join("\n")}`)}_flushAnimations(a,s){const f=new la,C=[],D=new Map,P=[],U=new Map,W=new Map,me=new Map,we=new Set;this.disabledNodes.forEach(Ft=>{we.add(Ft);const Wt=this.driver.query(Ft,".ng-animate-queued",!0);for(let pn=0;pn<Wt.length;pn++)we.add(Wt[pn])});const He=this.bodyNode,je=Array.from(this.statesByElement.keys()),nt=fp(je,this.collectedEnterElements),mt=new Map;let Bt=0;nt.forEach((Ft,Wt)=>{const pn=hr+Bt++;mt.set(Wt,pn),Ft.forEach(zn=>vi(zn,pn))});const Jt=[],Tn=new Set,lr=new Set;for(let Ft=0;Ft<this.collectedLeaveElements.length;Ft++){const Wt=this.collectedLeaveElements[Ft],pn=Wt[Qo];pn&&pn.setForRemoval&&(Jt.push(Wt),Tn.add(Wt),pn.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(zn=>Tn.add(zn)):lr.add(Wt))}const xr=new Map,Zr=fp(je,Array.from(Tn));Zr.forEach((Ft,Wt)=>{const pn=Ht+Bt++;xr.set(Wt,pn),Ft.forEach(zn=>vi(zn,pn))}),a.push(()=>{nt.forEach((Ft,Wt)=>{const pn=mt.get(Wt);Ft.forEach(zn=>ks(zn,pn))}),Zr.forEach((Ft,Wt)=>{const pn=xr.get(Wt);Ft.forEach(zn=>ks(zn,pn))}),Jt.forEach(Ft=>{this.processLeaveNode(Ft)})});const Ti=[],fc=[];for(let Ft=this._namespaceList.length-1;Ft>=0;Ft--)this._namespaceList[Ft].drainQueuedTransitions(s).forEach(pn=>{const zn=pn.player,oo=pn.element;if(Ti.push(zn),this.collectedEnterElements.length){const pc=oo[Qo];if(pc&&pc.setForMove)return void zn.destroy()}const fd=!He||!this.driver.containsElement(He,oo),Da=xr.get(oo),wh=mt.get(oo),ai=this._buildInstruction(pn,f,wh,Da,fd);if(ai.errors&&ai.errors.length)fc.push(ai);else{if(fd)return zn.onStart(()=>Ka(oo,ai.fromStyles)),zn.onDestroy(()=>ri(oo,ai.toStyles)),void C.push(zn);if(pn.isFallbackTransition)return zn.onStart(()=>Ka(oo,ai.fromStyles)),zn.onDestroy(()=>ri(oo,ai.toStyles)),void C.push(zn);ai.timelines.forEach(pc=>pc.stretchStartingKeyframe=!0),f.append(oo,ai.timelines),P.push({instruction:ai,player:zn,element:oo}),ai.queriedElements.forEach(pc=>Gr(U,pc,[]).push(zn)),ai.preStyleProps.forEach((pc,qm)=>{const Th=Object.keys(pc);if(Th.length){let Hf=W.get(qm);Hf||W.set(qm,Hf=new Set),Th.forEach(sb=>Hf.add(sb))}}),ai.postStyleProps.forEach((pc,qm)=>{const Th=Object.keys(pc);let Hf=me.get(qm);Hf||me.set(qm,Hf=new Set),Th.forEach(sb=>Hf.add(sb))})}});if(fc.length){const Ft=[];fc.forEach(Wt=>{Ft.push(`@${Wt.triggerName} has failed due to:\n`),Wt.errors.forEach(pn=>Ft.push(`- ${pn}\n`))}),Ti.forEach(Wt=>Wt.destroy()),this.reportError(Ft)}const bs=new Map,fl=new Map;P.forEach(Ft=>{const Wt=Ft.element;f.has(Wt)&&(fl.set(Wt,Wt),this._beforeAnimationBuild(Ft.player.namespaceId,Ft.instruction,bs))}),C.forEach(Ft=>{const Wt=Ft.element;this._getPreviousPlayers(Wt,!1,Ft.namespaceId,Ft.triggerName,null).forEach(zn=>{Gr(bs,Wt,[]).push(zn),zn.destroy()})});const dd=Jt.filter(Ft=>qd(Ft,W,me)),hd=new Map;Wc(hd,this.driver,lr,me,jo).forEach(Ft=>{qd(Ft,W,me)&&dd.push(Ft)});const zm=new Map;nt.forEach((Ft,Wt)=>{Wc(zm,this.driver,new Set(Ft),W,"!")}),dd.forEach(Ft=>{const Wt=hd.get(Ft),pn=zm.get(Ft);hd.set(Ft,Object.assign(Object.assign({},Wt),pn))});const Gf=[],lC=[],g_={};P.forEach(Ft=>{const{element:Wt,player:pn,instruction:zn}=Ft;if(f.has(Wt)){if(we.has(Wt))return pn.onDestroy(()=>ri(Wt,zn.toStyles)),pn.disabled=!0,pn.overrideTotalTime(zn.totalTime),void C.push(pn);let oo=g_;if(fl.size>1){let Da=Wt;const wh=[];for(;Da=Da.parentNode;){const ai=fl.get(Da);if(ai){oo=ai;break}wh.push(Da)}wh.forEach(ai=>fl.set(ai,oo))}const fd=this._buildAnimation(pn.namespaceId,zn,bs,D,zm,hd);if(pn.setRealPlayer(fd),oo===g_)Gf.push(pn);else{const Da=this.playersByElement.get(oo);Da&&Da.length&&(pn.parentPlayer=Ui(Da)),C.push(pn)}}else Ka(Wt,zn.fromStyles),pn.onDestroy(()=>ri(Wt,zn.toStyles)),lC.push(pn),we.has(Wt)&&C.push(pn)}),lC.forEach(Ft=>{const Wt=D.get(Ft.element);if(Wt&&Wt.length){const pn=Ui(Wt);Ft.setRealPlayer(pn)}}),C.forEach(Ft=>{Ft.parentPlayer?Ft.syncPlayerEvents(Ft.parentPlayer):Ft.destroy()});for(let Ft=0;Ft<Jt.length;Ft++){const Wt=Jt[Ft],pn=Wt[Qo];if(ks(Wt,Ht),pn&&pn.hasAnimation)continue;let zn=[];if(U.size){let fd=U.get(Wt);fd&&fd.length&&zn.push(...fd);let Da=this.driver.query(Wt,Hr,!0);for(let wh=0;wh<Da.length;wh++){let ai=U.get(Da[wh]);ai&&ai.length&&zn.push(...ai)}}const oo=zn.filter(fd=>!fd.destroyed);oo.length?qu(this,Wt,oo):this.processLeaveNode(Wt)}return Jt.length=0,Gf.forEach(Ft=>{this.players.push(Ft),Ft.onDone(()=>{Ft.destroy();const Wt=this.players.indexOf(Ft);this.players.splice(Wt,1)}),Ft.play()}),Gf}elementContainsData(a,s){let f=!1;const C=s[Qo];return C&&C.setForRemoval&&(f=!0),this.playersByElement.has(s)&&(f=!0),this.playersByQueriedElement.has(s)&&(f=!0),this.statesByElement.has(s)&&(f=!0),this._fetchNamespace(a).elementContainsData(s)||f}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,s,f,C,D){let P=[];if(s){const U=this.playersByQueriedElement.get(a);U&&(P=U)}else{const U=this.playersByElement.get(a);if(U){const W=!D||D==Gl;U.forEach(me=>{me.queued||!W&&me.triggerName!=C||P.push(me)})}}return(f||C)&&(P=P.filter(U=>!(f&&f!=U.namespaceId||C&&C!=U.triggerName))),P}_beforeAnimationBuild(a,s,f){const D=s.element,P=s.isRemovalTransition?void 0:a,U=s.isRemovalTransition?void 0:s.triggerName;for(const W of s.timelines){const me=W.element,we=me!==D,He=Gr(f,me,[]);this._getPreviousPlayers(me,we,P,U,s.toState).forEach(nt=>{const mt=nt.getRealPlayer();mt.beforeDestroy&&mt.beforeDestroy(),nt.destroy(),He.push(nt)})}Ka(D,s.fromStyles)}_buildAnimation(a,s,f,C,D,P){const U=s.triggerName,W=s.element,me=[],we=new Set,He=new Set,je=s.timelines.map(mt=>{const Bt=mt.element;we.add(Bt);const Jt=Bt[Qo];if(Jt&&Jt.removedBeforeQueried)return new gi(mt.duration,mt.delay);const Tn=Bt!==W,lr=function(c){const a=[];return Sg(c,a),a}((f.get(Bt)||dp).map(bs=>bs.getRealPlayer())).filter(bs=>!!bs.element&&bs.element===Bt),xr=D.get(Bt),Zr=P.get(Bt),Ti=Ho(0,this._normalizer,0,mt.keyframes,xr,Zr),fc=this._buildPlayer(mt,Ti,lr);if(mt.subTimeline&&C&&He.add(Bt),Tn){const bs=new ji(a,U,Bt);bs.setRealPlayer(fc),me.push(bs)}return fc});me.forEach(mt=>{Gr(this.playersByQueriedElement,mt.element,[]).push(mt),mt.onDone(()=>function(c,a,s){let f;if(c instanceof Map){if(f=c.get(a),f){if(f.length){const C=f.indexOf(s);f.splice(C,1)}0==f.length&&c.delete(a)}}else if(f=c[a],f){if(f.length){const C=f.indexOf(s);f.splice(C,1)}0==f.length&&delete c[a]}return f}(this.playersByQueriedElement,mt.element,mt))}),we.forEach(mt=>vi(mt,Vc));const nt=Ui(je);return nt.onDestroy(()=>{we.forEach(mt=>ks(mt,Vc)),ri(W,s.toStyles)}),He.forEach(mt=>{Gr(C,mt,[]).push(nt)}),nt}_buildPlayer(a,s,f){return s.length>0?this.driver.animate(a.element,s,a.duration,a.delay,a.easing,f):new gi(a.duration,a.delay)}}class ji{constructor(a,s,f){this.namespaceId=a,this.triggerName=s,this.element=f,this._player=new gi,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,Object.keys(this._queuedCallbacks).forEach(s=>{this._queuedCallbacks[s].forEach(f=>Fd(a,s,void 0,f))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const s=this._player;s.triggerCallback&&a.onStart(()=>s.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,s){Gr(this._queuedCallbacks,a,[]).push(s)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const s=this._player;s.triggerCallback&&s.triggerCallback(a)}}function zu(c){return c&&1===c.nodeType}function zd(c,a){const s=c.style.display;return c.style.display=null!=a?a:"none",s}function Wc(c,a,s,f,C){const D=[];s.forEach(W=>D.push(zd(W)));const P=[];f.forEach((W,me)=>{const we={};W.forEach(He=>{const je=we[He]=a.computeStyle(me,He,C);(!je||0==je.length)&&(me[Qo]=$u,P.push(me))}),c.set(me,we)});let U=0;return s.forEach(W=>zd(W,D[U++])),P}function fp(c,a){const s=new Map;if(c.forEach(U=>s.set(U,[])),0==a.length)return s;const C=new Set(a),D=new Map;function P(U){if(!U)return 1;let W=D.get(U);if(W)return W;const me=U.parentNode;return W=s.has(me)?me:C.has(me)?1:P(me),D.set(U,W),W}return a.forEach(U=>{const W=P(U);1!==W&&s.get(W).push(U)}),s}const Fs="$$classes";function vi(c,a){if(c.classList)c.classList.add(a);else{let s=c[Fs];s||(s=c[Fs]={}),s[a]=!0}}function ks(c,a){if(c.classList)c.classList.remove(a);else{let s=c[Fs];s&&delete s[a]}}function qu(c,a,s){Ui(s).onDone(()=>c.processLeaveNode(a))}function Sg(c,a){for(let s=0;s<c.length;s++){const f=c[s];f instanceof kl?Sg(f.players,a):a.push(f)}}function qd(c,a,s){const f=s.get(c);if(!f)return!1;let C=a.get(c);return C?f.forEach(D=>C.add(D)):a.set(c,f),s.delete(c),!0}class ef{constructor(a,s,f){this.bodyNode=a,this._driver=s,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(C,D)=>{},this._transitionEngine=new eo(a,s,f),this._timelineEngine=new Dg(a,s,f),this._transitionEngine.onRemovalComplete=(C,D)=>this.onRemovalComplete(C,D)}registerTrigger(a,s,f,C,D){const P=a+"-"+C;let U=this._triggerCache[P];if(!U){const W=[],me=mi(this._driver,D,W);if(W.length)throw new Error(`The animation trigger "${C}" has failed to build due to the following errors:\n - ${W.join("\n - ")}`);U=function(c,a,s){return new eu(c,a,s)}(C,me,this._normalizer),this._triggerCache[P]=U}this._transitionEngine.registerTrigger(s,C,U)}register(a,s){this._transitionEngine.register(a,s)}destroy(a,s){this._transitionEngine.destroy(a,s)}onInsert(a,s,f,C){this._transitionEngine.insertNode(a,s,f,C)}onRemove(a,s,f,C){this._transitionEngine.removeNode(a,s,C||!1,f)}disableAnimations(a,s){this._transitionEngine.markElementAsDisabled(a,s)}process(a,s,f,C){if("@"==f.charAt(0)){const[D,P]=Co(f);this._timelineEngine.command(D,s,P,C)}else this._transitionEngine.trigger(a,s,f,C)}listen(a,s,f,C,D){if("@"==f.charAt(0)){const[P,U]=Co(f);return this._timelineEngine.listen(P,s,U,D)}return this._transitionEngine.listen(a,s,f,C,D)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function So(c,a){let s=null,f=null;return Array.isArray(a)&&a.length?(s=Ls(a[0]),a.length>1&&(f=Ls(a[a.length-1]))):a&&(s=Ls(a)),s||f?new tu(c,s,f):null}class tu{constructor(a,s,f){this._element=a,this._startStyles=s,this._endStyles=f,this._state=0;let C=tu.initialStylesByElement.get(a);C||tu.initialStylesByElement.set(a,C={}),this._initialStyles=C}start(){this._state<1&&(this._startStyles&&ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ri(this._element,this._initialStyles),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tu.initialStylesByElement.delete(this._element),this._startStyles&&(Ka(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ka(this._element,this._endStyles),this._endStyles=null),ri(this._element,this._initialStyles),this._state=3)}}function Ls(c){let a=null;const s=Object.keys(c);for(let f=0;f<s.length;f++){const C=s[f];tf(C)&&(a=a||{},a[C]=c[C])}return a}function tf(c){return"display"===c||"position"===c}tu.initialStylesByElement=new WeakMap;const Vs="animation",Hl="animationend";class Wd{constructor(a,s,f,C,D,P,U){this._element=a,this._name=s,this._duration=f,this._delay=C,this._easing=D,this._fillMode=P,this._onDoneFn=U,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=W=>this._handleCallback(W)}apply(){(function(c,a){const s=Xo(c,"").trim();let f=0;s.length&&(function(c,a){let s=0;for(let f=0;f<c.length;f++)","===c.charAt(f)&&s++;return s}(s)+1,a=`${s}, ${a}`),Yc(c,"",a)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){_s(this._element,this._name,"paused")}resume(){_s(this._element,this._name,"running")}setPosition(a){const s=Us(this._element,this._name);this._position=a*this._duration,Yc(this._element,"Delay",`-${this._position}ms`,s)}getPosition(){return this._position}_handleCallback(a){const s=a._ngTestManualTimestamp||Date.now(),f=1e3*parseFloat(a.elapsedTime.toFixed(3));a.animationName==this._name&&Math.max(s-this._startTime,0)>=this._delay&&f>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(c,a){const f=Xo(c,"").split(","),C=Zc(f,a);C>=0&&(f.splice(C,1),Yc(c,"",f.join(",")))}(this._element,this._name))}}function _s(c,a,s){Yc(c,"PlayState",s,Us(c,a))}function Us(c,a){const s=Xo(c,"");return s.indexOf(",")>0?Zc(s.split(","),a):Zc([s],a)}function Zc(c,a){for(let s=0;s<c.length;s++)if(c[s].indexOf(a)>=0)return s;return-1}function nu(c,a,s){s?c.removeEventListener(Hl,a):c.addEventListener(Hl,a)}function Yc(c,a,s,f){const C=Vs+a;if(null!=f){const D=c.style[C];if(D.length){const P=D.split(",");P[f]=s,s=P.join(",")}}c.style[C]=s}function Xo(c,a){return c.style[Vs+a]||""}class mp{constructor(a,s,f,C,D,P,U,W){this.element=a,this.keyframes=s,this.animationName=f,this._duration=C,this._delay=D,this._finalStyles=U,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=P||"linear",this.totalTime=C+D,this._buildStyler()}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(a=>a()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(a){this._styler.setPosition(a)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wd(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(a){const s="start"==a?this._onStartFns:this._onDoneFns;s.forEach(f=>f()),s.length=0}beforeDestroy(){this.init();const a={};if(this.hasStarted()){const s=this._state>=3;Object.keys(this._finalStyles).forEach(f=>{"offset"!=f&&(a[f]=s?this._finalStyles[f]:Qi(this.element,f))})}this.currentSnapshot=a}}class xg extends gi{constructor(a,s){super(),this.element=a,this._startingStyles={},this.__initialized=!1,this._styles=zh(s)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(a=>{this._startingStyles[a]=this.element.style[a]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(a=>this.element.style.setProperty(a,this._styles[a])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(a=>{const s=this._startingStyles[a];s?this.element.style.setProperty(a,s):this.element.style.removeProperty(a)}),this._startingStyles=null,super.destroy())}}class fa{constructor(){this._count=0}validateStyleProperty(a){return zo(a)}matchesElement(a,s){return kc(a,s)}containsElement(a,s){return Vl(a,s)}query(a,s,f){return aa(a,s,f)}computeStyle(a,s,f){return window.getComputedStyle(a)[s]}buildKeyframeElement(a,s,f){f=f.map(U=>zh(U));let C=`@keyframes ${s} {\n`,D="";f.forEach(U=>{D=" ";const W=parseFloat(U.offset);C+=`${D}${100*W}% {\n`,D+=" ",Object.keys(U).forEach(me=>{const we=U[me];switch(me){case"offset":return;case"easing":return void(we&&(C+=`${D}animation-timing-function: ${we};\n`));default:return void(C+=`${D}${me}: ${we};\n`)}}),C+=`${D}}\n`}),C+="}\n";const P=document.createElement("style");return P.textContent=C,P}animate(a,s,f,C,D,P=[],U){const W=P.filter(Jt=>Jt instanceof mp),me={};sp(f,C)&&W.forEach(Jt=>{let Tn=Jt.currentSnapshot;Object.keys(Tn).forEach(lr=>me[lr]=Tn[lr])});const we=function(c){let a={};return c&&(Array.isArray(c)?c:[c]).forEach(f=>{Object.keys(f).forEach(C=>{"offset"==C||"easing"==C||(a[C]=f[C])})}),a}(s=ap(a,s,me));if(0==f)return new xg(a,we);const He="gen_css_kf_"+this._count++,je=this.buildKeyframeElement(a,He,s);(function(c){var a;const s=null===(a=c.getRootNode)||void 0===a?void 0:a.call(c);return"undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot?s:document.head})(a).appendChild(je);const mt=So(a,s),Bt=new mp(a,s,He,f,C,D,we,mt);return Bt.onDestroy(()=>{var c;(c=je).parentNode.removeChild(c)}),Bt}}class R{constructor(a,s,f,C){this.element=a,this.keyframes=s,this.options=f,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(a,s,f){return a.animate(s,f)}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(s=>{"offset"!=s&&(a[s]=this._finished?this._finalKeyframe[s]:Qi(this.element,s))}),this.currentSnapshot=a}triggerCallback(a){const s="start"==a?this._onStartFns:this._onDoneFns;s.forEach(f=>f()),s.length=0}}class V{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(X().toString()),this._cssKeyframesDriver=new fa}validateStyleProperty(a){return zo(a)}matchesElement(a,s){return kc(a,s)}containsElement(a,s){return Vl(a,s)}query(a,s,f){return aa(a,s,f)}computeStyle(a,s,f){return window.getComputedStyle(a)[s]}overrideWebAnimationsSupport(a){this._isNativeImpl=a}animate(a,s,f,C,D,P=[],U){if(!U&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(a,s,f,C,D,P);const we={duration:f,delay:C,fill:0==C?"both":"forwards"};D&&(we.easing=D);const He={},je=P.filter(mt=>mt instanceof R);sp(f,C)&&je.forEach(mt=>{let Bt=mt.currentSnapshot;Object.keys(Bt).forEach(Jt=>He[Jt]=Bt[Jt])});const nt=So(a,s=ap(a,s=s.map(mt=>Ps(mt,!1)),He));return new R(a,s,we,nt)}}function X(){return Ll()&&Element.prototype.animate||{}}let oe=(()=>{class c extends xd{constructor(s,f){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(f.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(s){const f=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(s)?Pd(s):s;return Ge(this._renderer,null,f,"register",[C]),new ce(f,this._renderer)}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(v.FYo),v.LFG(B.K0))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();class ce extends class{}{constructor(a,s){super(),this._id=a,this._renderer=s}create(a,s){return new xe(this._id,a,s||{},this._renderer)}}class xe{constructor(a,s,f,C){this.id=a,this.element=s,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(a,s){return this._renderer.listen(this.element,`@@${this.id}:${a}`,s)}_command(a,...s){return Ge(this._renderer,this.element,this.id,a,s)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){var a,s;return null!==(s=null===(a=this._renderer.engine.players[+this.id])||void 0===a?void 0:a.getPosition())&&void 0!==s?s:0}}function Ge(c,a,s,f,C){return c.setProperty(a,`@@${s}:${f}`,C)}const Ct="@.disabled";let zt=(()=>{class c{constructor(s,f,C){this.delegate=s,this.engine=f,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),f.onRemovalComplete=(D,P)=>{P&&P.parentNode(D)&&P.removeChild(D.parentNode,D)}}createRenderer(s,f){const D=this.delegate.createRenderer(s,f);if(!(s&&f&&f.data&&f.data.animation)){let we=this._rendererCache.get(D);return we||(we=new kt("",D,this.engine),this._rendererCache.set(D,we)),we}const P=f.id,U=f.id+"-"+this._currentId;this._currentId++,this.engine.register(U,s);const W=we=>{Array.isArray(we)?we.forEach(W):this.engine.registerTrigger(P,U,s,we.name,we)};return f.data.animation.forEach(W),new sn(this,U,D,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(s,f,C){s>=0&&s<this._microtaskId?this._zone.run(()=>f(C)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(D=>{const[P,U]=D;P(U)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(v.FYo),v.LFG(ef),v.LFG(v.R0b))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();class kt{constructor(a,s,f){this.namespaceId=a,this.delegate=s,this.engine=f,this.destroyNode=this.delegate.destroyNode?C=>s.destroyNode(C):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(a,s){return this.delegate.createElement(a,s)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,s){this.delegate.appendChild(a,s),this.engine.onInsert(this.namespaceId,s,a,!1)}insertBefore(a,s,f,C=!0){this.delegate.insertBefore(a,s,f),this.engine.onInsert(this.namespaceId,s,a,C)}removeChild(a,s,f){this.engine.onRemove(this.namespaceId,s,this.delegate,f)}selectRootElement(a,s){return this.delegate.selectRootElement(a,s)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,s,f,C){this.delegate.setAttribute(a,s,f,C)}removeAttribute(a,s,f){this.delegate.removeAttribute(a,s,f)}addClass(a,s){this.delegate.addClass(a,s)}removeClass(a,s){this.delegate.removeClass(a,s)}setStyle(a,s,f,C){this.delegate.setStyle(a,s,f,C)}removeStyle(a,s,f){this.delegate.removeStyle(a,s,f)}setProperty(a,s,f){"@"==s.charAt(0)&&s==Ct?this.disableAnimations(a,!!f):this.delegate.setProperty(a,s,f)}setValue(a,s){this.delegate.setValue(a,s)}listen(a,s,f){return this.delegate.listen(a,s,f)}disableAnimations(a,s){this.engine.disableAnimations(a,s)}}class sn extends kt{constructor(a,s,f,C){super(s,f,C),this.factory=a,this.namespaceId=s}setProperty(a,s,f){"@"==s.charAt(0)?"."==s.charAt(1)&&s==Ct?this.disableAnimations(a,f=void 0===f||!!f):this.engine.process(this.namespaceId,a,s.substr(1),f):this.delegate.setProperty(a,s,f)}listen(a,s,f){if("@"==s.charAt(0)){const C=function(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(a);let D=s.substr(1),P="";return"@"!=D.charAt(0)&&([D,P]=function(c){const a=c.indexOf(".");return[c.substring(0,a),c.substr(a+1)]}(D)),this.engine.listen(this.namespaceId,C,D,P,U=>{this.factory.scheduleListenerCallback(U._data||-1,f,U)})}return this.delegate.listen(a,s,f)}}let zl=(()=>{class c extends ef{constructor(s,f,C){super(s.body,f,C)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(B.K0),v.LFG(qo),v.LFG(Xa))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();const yp=new v.OlP("AnimationModuleType"),Wl=[{provide:xd,useClass:oe},{provide:Xa,useFactory:function(){return new Ji}},{provide:ef,useClass:zl},{provide:v.FYo,useFactory:function(c,a,s){return new zt(c,a,s)},deps:[Pt,ef,v.R0b]}],Xc=[{provide:qo,useFactory:function(){return"function"==typeof X()?new V:new fa}},{provide:yp,useValue:"BrowserAnimations"},...Wl],nf=[{provide:qo,useClass:Oi},{provide:yp,useValue:"NoopAnimations"},...Wl];let Pg=(()=>{class c{static withConfig(s){return{ngModule:c,providers:s.disableAnimations?nf:Xc}}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({providers:Xc,imports:[ss]}),c})();const ty=new v.GfV("12.2.5"),I_=new v.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ci,iu=(()=>{class c{constructor(s,f,C){this._hasDoneGlobalChecks=!1,this._document=C,s._applyBodyHighContrastModeCssClasses(),this._sanityChecks=f,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const s=this._document.defaultView||window;return"object"==typeof s&&s?s:null}_checkIsEnabled(s){return!(!(0,v.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[s])}_isTestEnv(){const s=this._getWindow();return s&&(s.__karma__||s.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const s=this._document.createElement("div");s.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(s);const f=getComputedStyle(s);f&&"none"!==f.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(s)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&ty.full!==xs.full&&console.warn("The Angular Material version ("+ty.full+") does not match the Angular CDK version ("+xs.full+").\nPlease ensure the versions of these two packages exactly match.")}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(Pu),v.LFG(I_,8),v.LFG(B.K0))},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({imports:[[Ha],Ha]}),c})();function Pi(c,a){return class extends c{constructor(...s){super(...s),this.defaultColor=a,this.color=a}get color(){return this._color}set color(s){const f=s||this.defaultColor;f!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),f&&this._elementRef.nativeElement.classList.add(`mat-${f}`),this._color=f)}}}try{Ci="undefined"!=typeof Intl}catch(c){Ci=!1}let L_=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({imports:[[iu],iu]}),c})();var V_=$(205),pa=$(9796),an=$(8002),zg=$(1555),Lr=$(4402);function Jd(...c){if(1===c.length){const a=c[0];if((0,pa.k)(a))return ou(a,null);if((0,zg.K)(a)&&Object.getPrototypeOf(a)===Object.prototype){const s=Object.keys(a);return ou(s.map(f=>a[f]),s)}}if("function"==typeof c[c.length-1]){const a=c.pop();return ou(c=1===c.length&&(0,pa.k)(c[0])?c[0]:c,null).pipe((0,an.U)(s=>a(...s)))}return ou(c,null)}function ou(c,a){return new jr.y(s=>{const f=c.length;if(0===f)return void s.complete();const C=new Array(f);let D=0,P=0;for(let U=0;U<f;U++){const W=(0,Lr.D)(c[U]);let me=!1;s.add(W.subscribe({next:we=>{me||(me=!0,P++),C[U]=we},error:we=>s.error(we),complete:()=>{D++,(D===f||!me)&&(P===f&&s.next(a?a.reduce((we,He,je)=>(we[He]=C[je],we),{}):C),s.complete())}}))}})}var qg=$(5319),Ei=$(3342);function su(c){return function(s){const f=new Wg(c),C=s.lift(f);return f.caught=C}}class Wg{constructor(a){this.selector=a}call(a,s){return s.subscribe(new Kg(a,this.selector,this.caught))}}class Kg extends Qn.Ds{constructor(a,s,f){super(a),this.selector=s,this.caught=f}error(a){if(!this.isStopped){let s;try{s=this.selector(a,this.caught)}catch(D){return void super.error(D)}this._unsubscribeAndRecycle();const f=new Qn.IY(this);this.add(f);const C=(0,Qn.ft)(s,f);C!==f&&this.add(C)}}}function Zg(c){return a=>a.lift(new Sp(c))}class Sp{constructor(a){this.callback=a}call(a,s){return s.subscribe(new Yg(a,this.callback))}}class Yg extends mo.L{constructor(a,s){super(a),this.add(new qg.w(s))}}var cy=$(8345),Io=$(9773);function Ql(c,a){return(0,Io.zg)(c,a,1)}var Ju=$(5435);class dy{}class Xu{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?this.lazyInit="string"==typeof a?()=>{this.headers=new Map,a.split("\n").forEach(s=>{const f=s.indexOf(":");if(f>0){const C=s.slice(0,f),D=C.toLowerCase(),P=s.slice(f+1).trim();this.maybeSetNormalizedName(C,D),this.headers.has(D)?this.headers.get(D).push(P):this.headers.set(D,[P])}})}:()=>{this.headers=new Map,Object.keys(a).forEach(s=>{let f=a[s];const C=s.toLowerCase();"string"==typeof f&&(f=[f]),f.length>0&&(this.headers.set(C,f),this.maybeSetNormalizedName(s,C))})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const s=this.headers.get(a.toLowerCase());return s&&s.length>0?s[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,s){return this.clone({name:a,value:s,op:"a"})}set(a,s){return this.clone({name:a,value:s,op:"s"})}delete(a,s){return this.clone({name:a,value:s,op:"d"})}maybeSetNormalizedName(a,s){this.normalizedNames.has(s)||this.normalizedNames.set(s,a)}init(){this.lazyInit&&(this.lazyInit instanceof Xu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(s=>{this.headers.set(s,a.headers.get(s)),this.normalizedNames.set(s,a.normalizedNames.get(s))})}clone(a){const s=new Xu;return s.lazyInit=this.lazyInit&&this.lazyInit instanceof Xu?this.lazyInit:this,s.lazyUpdate=(this.lazyUpdate||[]).concat([a]),s}applyUpdate(a){const s=a.name.toLowerCase();switch(a.op){case"a":case"s":let f=a.value;if("string"==typeof f&&(f=[f]),0===f.length)return;this.maybeSetNormalizedName(a.name,s);const C=("a"===a.op?this.headers.get(s):void 0)||[];C.push(...f),this.headers.set(s,C);break;case"d":const D=a.value;if(D){let P=this.headers.get(s);if(!P)return;P=P.filter(U=>-1===D.indexOf(U)),0===P.length?(this.headers.delete(s),this.normalizedNames.delete(s)):this.headers.set(s,P)}else this.headers.delete(s),this.normalizedNames.delete(s)}}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(s=>a(this.normalizedNames.get(s),this.headers.get(s)))}}class U_{encodeKey(a){return hy(a)}encodeValue(a){return hy(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const Jg=/%(\d[a-f0-9])/gi,Xd={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function hy(c){return encodeURIComponent(c).replace(Jg,(a,s)=>{var f;return null!==(f=Xd[s])&&void 0!==f?f:a})}function Xg(c){return`${c}`}class el{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new U_,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(c,a){const s=new Map;return c.length>0&&c.replace(/^\?/,"").split("&").forEach(C=>{const D=C.indexOf("="),[P,U]=-1==D?[a.decodeKey(C),""]:[a.decodeKey(C.slice(0,D)),a.decodeValue(C.slice(D+1))],W=s.get(P)||[];W.push(U),s.set(P,W)}),s}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(s=>{const f=a.fromObject[s];this.map.set(s,Array.isArray(f)?f:[f])})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const s=this.map.get(a);return s?s[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,s){return this.clone({param:a,value:s,op:"a"})}appendAll(a){const s=[];return Object.keys(a).forEach(f=>{const C=a[f];Array.isArray(C)?C.forEach(D=>{s.push({param:f,value:D,op:"a"})}):s.push({param:f,value:C,op:"a"})}),this.clone(s)}set(a,s){return this.clone({param:a,value:s,op:"s"})}delete(a,s){return this.clone({param:a,value:s,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const s=this.encoder.encodeKey(a);return this.map.get(a).map(f=>s+"="+this.encoder.encodeValue(f)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const s=new el({encoder:this.encoder});return s.cloneFrom=this.cloneFrom||this,s.updates=(this.updates||[]).concat(a),s}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const s=("a"===a.op?this.map.get(a.param):void 0)||[];s.push(Xg(a.value)),this.map.set(a.param,s);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let f=this.map.get(a.param)||[];const C=f.indexOf(Xg(a.value));-1!==C&&f.splice(C,1),f.length>0?this.map.set(a.param,f):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class tl{constructor(){this.map=new Map}set(a,s){return this.map.set(a,s),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}keys(){return this.map.keys()}}function tm(c){return"undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer}function fy(c){return"undefined"!=typeof Blob&&c instanceof Blob}function py(c){return"undefined"!=typeof FormData&&c instanceof FormData}class eh{constructor(a,s,f,C){let D;if(this.url=s,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function(c){switch(c){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||C?(this.body=void 0!==f?f:null,D=C):D=f,D&&(this.reportProgress=!!D.reportProgress,this.withCredentials=!!D.withCredentials,D.responseType&&(this.responseType=D.responseType),D.headers&&(this.headers=D.headers),D.context&&(this.context=D.context),D.params&&(this.params=D.params)),this.headers||(this.headers=new Xu),this.context||(this.context=new tl),this.params){const P=this.params.toString();if(0===P.length)this.urlWithParams=s;else{const U=s.indexOf("?");this.urlWithParams=s+(-1===U?"?":U<s.length-1?"&":"")+P}}else this.params=new el,this.urlWithParams=s}serializeBody(){return null===this.body?null:tm(this.body)||fy(this.body)||py(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof el?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||py(this.body)?null:fy(this.body)?this.body.type||null:tm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof el?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){var s;const f=a.method||this.method,C=a.url||this.url,D=a.responseType||this.responseType,P=void 0!==a.body?a.body:this.body,U=void 0!==a.withCredentials?a.withCredentials:this.withCredentials,W=void 0!==a.reportProgress?a.reportProgress:this.reportProgress;let me=a.headers||this.headers,we=a.params||this.params;const He=null!==(s=a.context)&&void 0!==s?s:this.context;return void 0!==a.setHeaders&&(me=Object.keys(a.setHeaders).reduce((je,nt)=>je.set(nt,a.setHeaders[nt]),me)),a.setParams&&(we=Object.keys(a.setParams).reduce((je,nt)=>je.set(nt,a.setParams[nt]),we)),new eh(f,C,P,{params:we,headers:me,context:He,reportProgress:W,responseType:D,withCredentials:U})}}var Wr=(()=>((Wr=Wr||{})[Wr.Sent=0]="Sent",Wr[Wr.UploadProgress=1]="UploadProgress",Wr[Wr.ResponseHeader=2]="ResponseHeader",Wr[Wr.DownloadProgress=3]="DownloadProgress",Wr[Wr.Response=4]="Response",Wr[Wr.User=5]="User",Wr))();class Ip extends class{constructor(a,s=200,f="OK"){this.headers=a.headers||new Xu,this.status=void 0!==a.status?a.status:s,this.statusText=a.statusText||f,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(a={}){super(a),this.type=Wr.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new Ip({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}function th(c,a){return{body:a,headers:c.headers,context:c.context,observe:c.observe,params:c.params,reportProgress:c.reportProgress,responseType:c.responseType,withCredentials:c.withCredentials}}let nh=(()=>{class c{constructor(s){this.handler=s}request(s,f,C={}){let D;if(s instanceof eh)D=s;else{let W,me;W=C.headers instanceof Xu?C.headers:new Xu(C.headers),C.params&&(me=C.params instanceof el?C.params:new el({fromObject:C.params})),D=new eh(s,f,void 0!==C.body?C.body:null,{headers:W,context:C.context,params:me,reportProgress:C.reportProgress,responseType:C.responseType||"json",withCredentials:C.withCredentials})}const P=(0,Ot.of)(D).pipe(Ql(W=>this.handler.handle(W)));if(s instanceof eh||"events"===C.observe)return P;const U=P.pipe((0,Ju.h)(W=>W instanceof Ip));switch(C.observe||"body"){case"body":switch(D.responseType){case"arraybuffer":return U.pipe((0,an.U)(W=>{if(null!==W.body&&!(W.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return W.body}));case"blob":return U.pipe((0,an.U)(W=>{if(null!==W.body&&!(W.body instanceof Blob))throw new Error("Response is not a Blob.");return W.body}));case"text":return U.pipe((0,an.U)(W=>{if(null!==W.body&&"string"!=typeof W.body)throw new Error("Response is not a string.");return W.body}));case"json":default:return U.pipe((0,an.U)(W=>W.body))}case"response":return U;default:throw new Error(`Unreachable: unhandled observe type ${C.observe}}`)}}delete(s,f={}){return this.request("DELETE",s,f)}get(s,f={}){return this.request("GET",s,f)}head(s,f={}){return this.request("HEAD",s,f)}jsonp(s,f){return this.request("JSONP",s,{params:(new el).append(f,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(s,f={}){return this.request("OPTIONS",s,f)}patch(s,f,C={}){return this.request("PATCH",s,th(C,f))}post(s,f,C={}){return this.request("POST",s,th(C,f))}put(s,f,C={}){return this.request("PUT",s,th(C,f))}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(dy))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();const am=["*"];function Mp(c){return Error(`Unable to find icon with the name "${c}"`)}function au(c){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${c}".`)}function yf(c){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${c}".`)}class nd{constructor(a,s,f){this.url=a,this.svgText=s,this.options=f}}let oh=(()=>{class c{constructor(s,f,C,D){this._httpClient=s,this._sanitizer=f,this._errorHandler=D,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=C}addSvgIcon(s,f,C){return this.addSvgIconInNamespace("",s,f,C)}addSvgIconLiteral(s,f,C){return this.addSvgIconLiteralInNamespace("",s,f,C)}addSvgIconInNamespace(s,f,C,D){return this._addSvgIconConfig(s,f,new nd(C,null,D))}addSvgIconResolver(s){return this._resolvers.push(s),this}addSvgIconLiteralInNamespace(s,f,C,D){const P=this._sanitizer.sanitize(v.q3G.HTML,C);if(!P)throw yf(C);return this._addSvgIconConfig(s,f,new nd("",P,D))}addSvgIconSet(s,f){return this.addSvgIconSetInNamespace("",s,f)}addSvgIconSetLiteral(s,f){return this.addSvgIconSetLiteralInNamespace("",s,f)}addSvgIconSetInNamespace(s,f,C){return this._addSvgIconSetConfig(s,new nd(f,null,C))}addSvgIconSetLiteralInNamespace(s,f,C){const D=this._sanitizer.sanitize(v.q3G.HTML,f);if(!D)throw yf(f);return this._addSvgIconSetConfig(s,new nd("",D,C))}registerFontClassAlias(s,f=s){return this._fontCssClassesByAlias.set(s,f),this}classNameForFontAlias(s){return this._fontCssClassesByAlias.get(s)||s}setDefaultFontSetClass(s){return this._defaultFontSetClass=s,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(s){const f=this._sanitizer.sanitize(v.q3G.RESOURCE_URL,s);if(!f)throw au(s);const C=this._cachedIconsByUrl.get(f);return C?(0,Ot.of)(ah(C)):this._loadSvgIconFromConfig(new nd(s,null)).pipe((0,Ei.b)(D=>this._cachedIconsByUrl.set(f,D)),(0,an.U)(D=>ah(D)))}getNamedSvgIcon(s,f=""){const C=rd(f,s);let D=this._svgIconConfigs.get(C);if(D)return this._getSvgFromConfig(D);if(D=this._getIconConfigFromResolvers(f,s),D)return this._svgIconConfigs.set(C,D),this._getSvgFromConfig(D);const P=this._iconSetConfigs.get(f);return P?this._getSvgFromIconSetConfigs(s,P):(0,V_._)(Mp(C))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(s){return s.svgText?(0,Ot.of)(ah(this._svgElementFromConfig(s))):this._loadSvgIconFromConfig(s).pipe((0,an.U)(f=>ah(f)))}_getSvgFromIconSetConfigs(s,f){const C=this._extractIconWithNameFromAnySet(s,f);return C?(0,Ot.of)(C):Jd(f.filter(P=>!P.svgText).map(P=>this._loadSvgIconSetFromConfig(P).pipe(su(U=>{const me=`Loading icon set URL: ${this._sanitizer.sanitize(v.q3G.RESOURCE_URL,P.url)} failed: ${U.message}`;return this._errorHandler.handleError(new Error(me)),(0,Ot.of)(null)})))).pipe((0,an.U)(()=>{const P=this._extractIconWithNameFromAnySet(s,f);if(!P)throw Mp(s);return P}))}_extractIconWithNameFromAnySet(s,f){for(let C=f.length-1;C>=0;C--){const D=f[C];if(D.svgText&&D.svgText.indexOf(s)>-1){const P=this._svgElementFromConfig(D),U=this._extractSvgIconFromSet(P,s,D.options);if(U)return U}}return null}_loadSvgIconFromConfig(s){return this._fetchIcon(s).pipe((0,Ei.b)(f=>s.svgText=f),(0,an.U)(()=>this._svgElementFromConfig(s)))}_loadSvgIconSetFromConfig(s){return s.svgText?(0,Ot.of)(null):this._fetchIcon(s).pipe((0,Ei.b)(f=>s.svgText=f))}_extractSvgIconFromSet(s,f,C){const D=s.querySelector(`[id="${f}"]`);if(!D)return null;const P=D.cloneNode(!0);if(P.removeAttribute("id"),"svg"===P.nodeName.toLowerCase())return this._setSvgAttributes(P,C);if("symbol"===P.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(P),C);const U=this._svgElementFromString("<svg></svg>");return U.appendChild(P),this._setSvgAttributes(U,C)}_svgElementFromString(s){const f=this._document.createElement("DIV");f.innerHTML=s;const C=f.querySelector("svg");if(!C)throw Error("<svg> tag not found");return C}_toSvgElement(s){const f=this._svgElementFromString("<svg></svg>"),C=s.attributes;for(let D=0;D<C.length;D++){const{name:P,value:U}=C[D];"id"!==P&&f.setAttribute(P,U)}for(let D=0;D<s.childNodes.length;D++)s.childNodes[D].nodeType===this._document.ELEMENT_NODE&&f.appendChild(s.childNodes[D].cloneNode(!0));return f}_setSvgAttributes(s,f){return s.setAttribute("fit",""),s.setAttribute("height","100%"),s.setAttribute("width","100%"),s.setAttribute("preserveAspectRatio","xMidYMid meet"),s.setAttribute("focusable","false"),f&&f.viewBox&&s.setAttribute("viewBox",f.viewBox),s}_fetchIcon(s){var f;const{url:C,options:D}=s,P=null!==(f=null==D?void 0:D.withCredentials)&&void 0!==f&&f;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==C)throw Error(`Cannot fetch icon from URL "${C}".`);const U=this._sanitizer.sanitize(v.q3G.RESOURCE_URL,C);if(!U)throw au(C);const W=this._inProgressUrlFetches.get(U);if(W)return W;const me=this._httpClient.get(U,{responseType:"text",withCredentials:P}).pipe(Zg(()=>this._inProgressUrlFetches.delete(U)),(0,cy.B)());return this._inProgressUrlFetches.set(U,me),me}_addSvgIconConfig(s,f,C){return this._svgIconConfigs.set(rd(s,f),C),this}_addSvgIconSetConfig(s,f){const C=this._iconSetConfigs.get(s);return C?C.push(f):this._iconSetConfigs.set(s,[f]),this}_svgElementFromConfig(s){if(!s.svgElement){const f=this._svgElementFromString(s.svgText);this._setSvgAttributes(f,s.options),s.svgElement=f}return s.svgElement}_getIconConfigFromResolvers(s,f){for(let C=0;C<this._resolvers.length;C++){const D=this._resolvers[C](f,s);if(D)return Jl(D)?new nd(D.url,null,D.options):new nd(D,null)}}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(nh,8),v.LFG(de),v.LFG(B.K0,8),v.LFG(v.qLn))},c.\u0275prov=v.Yz7({factory:function(){return new c(v.LFG(nh,8),v.LFG(de),v.LFG(B.K0,8),v.LFG(v.qLn))},token:c,providedIn:"root"}),c})();function ah(c){return c.cloneNode(!0)}function rd(c,a){return c+":"+a}function Jl(c){return!(!c.url||!c.options)}const Yn=Pi(class{constructor(c){this._elementRef=c}}),xp=new v.OlP("mat-icon-location",{providedIn:"root",factory:function(){const c=(0,v.f3M)(B.K0),a=c?c.location:null;return{getPathname:()=>a?a.pathname+a.search:""}}}),uh=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ts=uh.map(c=>`[${c}]`).join(", "),uu=/^url\(['"]?#(.*?)['"]?\)$/;let Ey=(()=>{class c extends Yn{constructor(s,f,C,D,P){super(s),this._iconRegistry=f,this._location=D,this._errorHandler=P,this._inline=!1,this._currentIconFetch=qg.w.EMPTY,C||s.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(s){this._inline=function(c){return null!=c&&"false"!=`${c}`}(s)}get svgIcon(){return this._svgIcon}set svgIcon(s){s!==this._svgIcon&&(s?this._updateSvgIcon(s):this._svgIcon&&this._clearSvgElement(),this._svgIcon=s)}get fontSet(){return this._fontSet}set fontSet(s){const f=this._cleanupFontValue(s);f!==this._fontSet&&(this._fontSet=f,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(s){const f=this._cleanupFontValue(s);f!==this._fontIcon&&(this._fontIcon=f,this._updateFontIconClasses())}_splitIconName(s){if(!s)return["",""];const f=s.split(":");switch(f.length){case 1:return["",f[0]];case 2:return f;default:throw Error(`Invalid icon name: "${s}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const s=this._elementsWithExternalReferences;if(s&&s.size){const f=this._location.getPathname();f!==this._previousPath&&(this._previousPath=f,this._prependPathToReferences(f))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(s){this._clearSvgElement();const f=s.querySelectorAll("style");for(let D=0;D<f.length;D++)f[D].textContent+=" ";const C=this._location.getPathname();this._previousPath=C,this._cacheChildrenWithExternalReferences(s),this._prependPathToReferences(C),this._elementRef.nativeElement.appendChild(s)}_clearSvgElement(){const s=this._elementRef.nativeElement;let f=s.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();f--;){const C=s.childNodes[f];(1!==C.nodeType||"svg"===C.nodeName.toLowerCase())&&s.removeChild(C)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const s=this._elementRef.nativeElement,f=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();f!=this._previousFontSetClass&&(this._previousFontSetClass&&s.classList.remove(this._previousFontSetClass),f&&s.classList.add(f),this._previousFontSetClass=f),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&s.classList.remove(this._previousFontIconClass),this.fontIcon&&s.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(s){return"string"==typeof s?s.trim().split(" ")[0]:s}_prependPathToReferences(s){const f=this._elementsWithExternalReferences;f&&f.forEach((C,D)=>{C.forEach(P=>{D.setAttribute(P.name,`url('${s}#${P.value}')`)})})}_cacheChildrenWithExternalReferences(s){const f=s.querySelectorAll(ts),C=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let D=0;D<f.length;D++)uh.forEach(P=>{const U=f[D],W=U.getAttribute(P),me=W?W.match(uu):null;if(me){let we=C.get(U);we||(we=[],C.set(U,we)),we.push({name:P,value:me[1]})}})}_updateSvgIcon(s){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),s){const[f,C]=this._splitIconName(s);f&&(this._svgNamespace=f),C&&(this._svgName=C),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(C,f).pipe((0,Su.q)(1)).subscribe(D=>this._setSvgElement(D),D=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${f}:${C}! ${D.message}`))})}}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(v.SBq),v.Y36(oh),v.$8M("aria-hidden"),v.Y36(xp),v.Y36(v.qLn))},c.\u0275cmp=v.Xpm({type:c,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(s,f){2&s&&(v.uIk("data-mat-icon-type",f._usingFontIcon()?"font":"svg")("data-mat-icon-name",f._svgName||f.fontIcon)("data-mat-icon-namespace",f._svgNamespace||f.fontSet),v.ekj("mat-icon-inline",f.inline)("mat-icon-no-color","primary"!==f.color&&"accent"!==f.color&&"warn"!==f.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[v.qOj],ngContentSelectors:am,decls:1,vars:0,template:function(s,f){1&s&&(v.F$t(),v.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),c})(),Op=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({imports:[[iu],iu]}),c})();var lm=$(4869),id=$(5197),wy=$(509),lh=$(6693);const Ty={};function ns(...c){let a,s;return(0,lm.K)(c[c.length-1])&&(s=c.pop()),"function"==typeof c[c.length-1]&&(a=c.pop()),1===c.length&&(0,pa.k)(c[0])&&(c=c[0]),(0,lh.n)(c,s).lift(new Vr(a))}class Vr{constructor(a){this.resultSelector=a}call(a,s){return s.subscribe(new Ri(a,this.resultSelector))}}class Ri extends id.L{constructor(a,s){super(a),this.resultSelector=s,this.active=0,this.values=[],this.observables=[]}_next(a){this.values.push(Ty),this.observables.push(a)}_complete(){const a=this.observables,s=a.length;if(0===s)this.destination.complete();else{this.active=s,this.toRespond=s;for(let f=0;f<s;f++)this.add((0,wy.D)(this,a[f],void 0,f))}}notifyComplete(a){0==(this.active-=1)&&this.destination.complete()}notifyNext(a,s,f){const C=this.values,P=this.toRespond?C[f]===Ty?--this.toRespond:this.toRespond:0;C[f]=s,0===P&&(this.resultSelector?this._tryResultSelector(C):this.destination.next(C.slice()))}_tryResultSelector(a){let s;try{s=this.resultSelector.apply(this,a)}catch(f){return void this.destination.error(f)}this.destination.next(s)}}var cm=$(3410),Dy=$(8071),od=$(9193);function ma(c){return new jr.y(a=>{let s;try{s=c()}catch(C){return void a.error(C)}return(s?(0,Lr.D)(s):(0,od.c)()).subscribe(a)})}var Xl=$(2441),En=$(3190),ec=$(9761),Sy=$(2145),nl=$(7108);function ch(c){return function(s){return 0===c?(0,od.c)():s.lift(new Pp(c))}}class Pp{constructor(a){if(this.total=a,this.total<0)throw new nl.W}call(a,s){return s.subscribe(new z_(a,this.total))}}class z_ extends mo.L{constructor(a,s){super(a),this.total=s,this.ring=new Array,this.count=0}_next(a){const s=this.ring,f=this.total,C=this.count++;s.length<f?s.push(a):s[C%f]=a}_complete(){const a=this.destination;let s=this.count;if(s>0){const f=this.count>=this.total?this.total:this.count,C=this.ring;for(let D=0;D<f;D++){const P=s++%f;a.next(C[P])}}a.complete()}}var q_=$(4635),sd=$(5242),_f=$(4487),tc=$(8049),Iy=$(1307),dm=$(3282);class rl{constructor(a,s){this.id=a,this.url=s}}class ad extends rl{constructor(a,s,f="imperative",C=null){super(a,s),this.navigationTrigger=f,this.restoredState=C}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class il extends rl{constructor(a,s,f){super(a,s),this.urlAfterRedirects=f}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vf extends rl{constructor(a,s,f){super(a,s),this.reason=f}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hm extends rl{constructor(a,s,f){super(a,s),this.error=f}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nc extends rl{constructor(a,s,f,C){super(a,s),this.urlAfterRedirects=f,this.state=C}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fm extends rl{constructor(a,s,f,C){super(a,s),this.urlAfterRedirects=f,this.state=C}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ay extends rl{constructor(a,s,f,C,D){super(a,s),this.urlAfterRedirects=f,this.state=C,this.shouldActivate=D}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pm extends rl{constructor(a,s,f,C){super(a,s),this.urlAfterRedirects=f,this.state=C}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gm extends rl{constructor(a,s,f,C){super(a,s),this.urlAfterRedirects=f,this.state=C}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class My{constructor(a){this.route=a}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bf{constructor(a){this.route=a}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mm{constructor(a){this.snapshot=a}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ym{constructor(a){this.snapshot=a}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cf{constructor(a){this.snapshot=a}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W_{constructor(a){this.snapshot=a}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Np{constructor(a,s,f){this.routerEvent=a,this.position=s,this.anchor=f}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vn="primary";class ya{constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const s=this.params[a];return Array.isArray(s)?s[0]:s}return null}getAll(a){if(this.has(a)){const s=this.params[a];return Array.isArray(s)?s:[s]}return[]}get keys(){return Object.keys(this.params)}}function lu(c){return new ya(c)}const cu="ngNavigationCancelingError";function Fp(c){const a=Error("NavigationCancelingError: "+c);return a[cu]=!0,a}function Bs(c,a,s){const f=s.path.split("/");if(f.length>c.length||"full"===s.pathMatch&&(a.hasChildren()||f.length<c.length))return null;const C={};for(let D=0;D<f.length;D++){const P=f[D],U=c[D];if(P.startsWith(":"))C[P.substring(1)]=U;else if(P!==U.path)return null}return{consumed:c.slice(0,f.length),posParams:C}}function to(c,a){const s=c?Object.keys(c):void 0,f=a?Object.keys(a):void 0;if(!s||!f||s.length!=f.length)return!1;let C;for(let D=0;D<s.length;D++)if(C=s[D],!Z_(c[C],a[C]))return!1;return!0}function Z_(c,a){if(Array.isArray(c)&&Array.isArray(a)){if(c.length!==a.length)return!1;const s=[...c].sort(),f=[...a].sort();return s.every((C,D)=>f[D]===C)}return c===a}function _m(c){return Array.prototype.concat.apply([],c)}function Lp(c){return c.length>0?c[c.length-1]:null}function Ni(c,a){for(const s in c)c.hasOwnProperty(s)&&a(c[s],s)}function du(c){return(0,v.CqO)(c)?c:(0,v.QGY)(c)?(0,Lr.D)(Promise.resolve(c)):(0,Ot.of)(c)}const Vp={exact:function Oy(c,a,s){if(!js(c.segments,a.segments)||!Ef(c.segments,a.segments,s)||c.numberOfChildren!==a.numberOfChildren)return!1;for(const f in a.children)if(!c.children[f]||!Oy(c.children[f],a.children[f],s))return!1;return!0},subset:ol},bm={exact:function(c,a){return to(c,a)},subset:function(c,a){return Object.keys(a).length<=Object.keys(c).length&&Object.keys(a).every(s=>Z_(c[s],a[s]))},ignored:()=>!0};function dh(c,a,s){return Vp[s.paths](c.root,a.root,s.matrixParams)&&bm[s.queryParams](c.queryParams,a.queryParams)&&!("exact"===s.fragment&&c.fragment!==a.fragment)}function ol(c,a,s){return rc(c,a,a.segments,s)}function rc(c,a,s,f){if(c.segments.length>s.length){const C=c.segments.slice(0,s.length);return!(!js(C,s)||a.hasChildren()||!Ef(C,s,f))}if(c.segments.length===s.length){if(!js(c.segments,s)||!Ef(c.segments,s,f))return!1;for(const C in a.children)if(!c.children[C]||!ol(c.children[C],a.children[C],f))return!1;return!0}{const C=s.slice(0,c.segments.length),D=s.slice(c.segments.length);return!!(js(c.segments,C)&&Ef(c.segments,C,f)&&c.children[vn])&&rc(c.children[vn],a,D,f)}}function Ef(c,a,s){return a.every((f,C)=>bm[s](c[C].parameters,f.parameters))}class _a{constructor(a,s,f){this.root=a,this.queryParams=s,this.fragment=f}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return ba.serialize(this)}}class ln{constructor(a,s){this.segments=a,this.children=s,this.parent=null,Ni(s,(f,C)=>f.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ca(this)}}class ic{constructor(a,s){this.path=a,this.parameters=s}get parameterMap(){return this._parameterMap||(this._parameterMap=lu(this.parameters)),this._parameterMap}toString(){return ac(this)}}function js(c,a){return c.length===a.length&&c.every((s,f)=>s.path===a[f].path)}class Bp{}class jp{parse(a){const s=new Ny(a);return new _a(s.parseRootSegment(),s.parseQueryParams(),s.parseFragment())}serialize(a){var c;return`${`/${si(a.root,!0)}`}${function(c){const a=Object.keys(c).map(s=>{const f=c[s];return Array.isArray(f)?f.map(C=>`${oc(s)}=${oc(C)}`).join("&"):`${oc(s)}=${oc(f)}`}).filter(s=>!!s);return a.length?`?${a.join("&")}`:""}(a.queryParams)}${"string"==typeof a.fragment?`#${c=a.fragment,encodeURI(c)}`:""}`}}const ba=new jp;function Ca(c){return c.segments.map(a=>ac(a)).join("/")}function si(c,a){if(!c.hasChildren())return Ca(c);if(a){const s=c.children[vn]?si(c.children[vn],!1):"",f=[];return Ni(c.children,(C,D)=>{D!==vn&&f.push(`${D}:${si(C,!1)}`)}),f.length>0?`${s}(${f.join("//")})`:s}{const s=function(c,a){let s=[];return Ni(c.children,(f,C)=>{C===vn&&(s=s.concat(a(f,C)))}),Ni(c.children,(f,C)=>{C!==vn&&(s=s.concat(a(f,C)))}),s}(c,(f,C)=>C===vn?[si(c.children[vn],!1)]:[`${C}:${si(f,!1)}`]);return 1===Object.keys(c.children).length&&null!=c.children[vn]?`${Ca(c)}/${s[0]}`:`${Ca(c)}/(${s.join("//")})`}}function sl(c){return encodeURIComponent(c).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oc(c){return sl(c).replace(/%3B/gi,";")}function Ea(c){return sl(c).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ar(c){return decodeURIComponent(c)}function sc(c){return Ar(c.replace(/\+/g,"%20"))}function ac(c){return`${Ea(c.path)}${function(c){return Object.keys(c).map(a=>`;${Ea(a)}=${Ea(c[a])}`).join("")}(c.parameters)}`}const pu=/^[^\/()?;=#]+/;function al(c){const a=c.match(pu);return a?a[0]:""}const uc=/^[^=?&#]+/,lc=/^[^?&#]+/;class Ny{constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let s={};this.peekStartsWith("/(")&&(this.capture("/"),s=this.parseParens(!0));let f={};return this.peekStartsWith("(")&&(f=this.parseParens(!1)),(a.length>0||Object.keys(s).length>0)&&(f[vn]=new ln(a,s)),f}parseSegment(){const a=al(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(a),new ic(Ar(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const s=al(this.remaining);if(!s)return;this.capture(s);let f="";if(this.consumeOptional("=")){const C=al(this.remaining);C&&(f=C,this.capture(f))}a[Ar(s)]=Ar(f)}parseQueryParam(a){const s=function(c){const a=c.match(uc);return a?a[0]:""}(this.remaining);if(!s)return;this.capture(s);let f="";if(this.consumeOptional("=")){const P=function(c){const a=c.match(lc);return a?a[0]:""}(this.remaining);P&&(f=P,this.capture(f))}const C=sc(s),D=sc(f);if(a.hasOwnProperty(C)){let P=a[C];Array.isArray(P)||(P=[P],a[C]=P),P.push(D)}else a[C]=D}parseParens(a){const s={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const f=al(this.remaining),C=this.remaining[f.length];if("/"!==C&&")"!==C&&";"!==C)throw new Error(`Cannot parse url '${this.url}'`);let D;f.indexOf(":")>-1?(D=f.substr(0,f.indexOf(":")),this.capture(D),this.capture(":")):a&&(D=vn);const P=this.parseChildren();s[D]=1===Object.keys(P).length?P[vn]:new ln([],P),this.consumeOptional("//")}return s}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new Error(`Expected "${a}".`)}}class Fy{constructor(a){this._root=a}get root(){return this._root.value}parent(a){const s=this.pathFromRoot(a);return s.length>1?s[s.length-2]:null}children(a){const s=Cm(a,this._root);return s?s.children.map(f=>f.value):[]}firstChild(a){const s=Cm(a,this._root);return s&&s.children.length>0?s.children[0].value:null}siblings(a){const s=Gp(a,this._root);return s.length<2?[]:s[s.length-2].children.map(C=>C.value).filter(C=>C!==a)}pathFromRoot(a){return Gp(a,this._root).map(s=>s.value)}}function Cm(c,a){if(c===a.value)return a;for(const s of a.children){const f=Cm(c,s);if(f)return f}return null}function Gp(c,a){if(c===a.value)return[a];for(const s of a.children){const f=Gp(c,s);if(f.length)return f.unshift(a),f}return[]}class gu{constructor(a,s){this.value=a,this.children=s}toString(){return`TreeNode(${this.value})`}}function hh(c){const a={};return c&&c.children.forEach(s=>a[s.value.outlet]=s),a}class Hp extends Fy{constructor(a,s){super(a),this.snapshot=s,Tf(this,a)}toString(){return this.snapshot.toString()}}function ky(c,a){const s=function(c,a){const P=new ph([],{},{},"",{},vn,a,null,c.root,-1,{});return new Ly("",new gu(P,[]))}(c,a),f=new nr([new ic("",{})]),C=new nr({}),D=new nr({}),P=new nr({}),U=new nr(""),W=new ud(f,C,P,U,D,vn,a,s.root);return W.snapshot=s.root,new Hp(new gu(W,[]),s)}class ud{constructor(a,s,f,C,D,P,U,W){this.url=a,this.params=s,this.queryParams=f,this.fragment=C,this.data=D,this.outlet=P,this.component=U,this._futureSnapshot=W}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,an.U)(a=>lu(a)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,an.U)(a=>lu(a)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wf(c,a="emptyOnly"){const s=c.pathFromRoot;let f=0;if("always"!==a)for(f=s.length-1;f>=1;){const C=s[f],D=s[f-1];if(C.routeConfig&&""===C.routeConfig.path)f--;else{if(D.component)break;f--}}return function(c){return c.reduce((a,s)=>({params:Object.assign(Object.assign({},a.params),s.params),data:Object.assign(Object.assign({},a.data),s.data),resolve:Object.assign(Object.assign({},a.resolve),s._resolvedData)}),{params:{},data:{},resolve:{}})}(s.slice(f))}class ph{constructor(a,s,f,C,D,P,U,W,me,we,He){this.url=a,this.params=s,this.queryParams=f,this.fragment=C,this.data=D,this.outlet=P,this.component=U,this.routeConfig=W,this._urlSegment=me,this._lastPathIndex=we,this._resolve=He}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(f=>f.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ly extends Fy{constructor(a,s){super(s),this.url=a,Tf(this,s)}toString(){return zp(this._root)}}function Tf(c,a){a.value._routerState=c,a.children.forEach(s=>Tf(c,s))}function zp(c){const a=c.children.length>0?` { ${c.children.map(zp).join(", ")} } `:"";return`${c.value}${a}`}function Df(c){if(c.snapshot){const a=c.snapshot,s=c._futureSnapshot;c.snapshot=s,to(a.queryParams,s.queryParams)||c.queryParams.next(s.queryParams),a.fragment!==s.fragment&&c.fragment.next(s.fragment),to(a.params,s.params)||c.params.next(s.params),function(c,a){if(c.length!==a.length)return!1;for(let s=0;s<c.length;++s)if(!to(c[s],a[s]))return!1;return!0}(a.url,s.url)||c.url.next(s.url),to(a.data,s.data)||c.data.next(s.data)}else c.snapshot=c._futureSnapshot,c.data.next(c._futureSnapshot.data)}function gh(c,a){return to(c.params,a.params)&&function(c,a){return js(c,a)&&c.every((s,f)=>to(s.parameters,a[f].parameters))}(c.url,a.url)&&!(!c.parent!=!a.parent)&&(!c.parent||gh(c.parent,a.parent))}function Sf(c,a,s){if(s&&c.shouldReuseRoute(a.value,s.value.snapshot)){const f=s.value;f._futureSnapshot=a.value;const C=function(c,a,s){return a.children.map(f=>{for(const C of s.children)if(c.shouldReuseRoute(f.value,C.value.snapshot))return Sf(c,f,C);return Sf(c,f)})}(c,a,s);return new gu(f,C)}{if(c.shouldAttach(a.value)){const D=c.retrieve(a.value);if(null!==D){const P=D.route;return qp(a,P),P}}const f=function(c){return new ud(new nr(c.url),new nr(c.params),new nr(c.queryParams),new nr(c.fragment),new nr(c.data),c.outlet,c.component,c)}(a.value),C=a.children.map(D=>Sf(c,D));return new gu(f,C)}}function qp(c,a){if(c.value.routeConfig!==a.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(c.children.length!==a.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");a.value._futureSnapshot=c.value;for(let s=0;s<c.children.length;++s)qp(c.children[s],a.children[s])}function If(c){return"object"==typeof c&&null!=c&&!c.outlets&&!c.segmentPath}function Af(c){return"object"==typeof c&&null!=c&&c.outlets}function wm(c,a,s,f,C){let D={};return f&&Ni(f,(P,U)=>{D[U]=Array.isArray(P)?P.map(W=>`${W}`):`${P}`}),new _a(s.root===c?a:o(s.root,c,a),D,C)}function o(c,a,s){const f={};return Ni(c.children,(C,D)=>{f[D]=C===a?s:o(C,a,s)}),new ln(c.segments,f)}class e{constructor(a,s,f){if(this.isAbsolute=a,this.numberOfDoubleDots=s,this.commands=f,a&&f.length>0&&If(f[0]))throw new Error("Root segment cannot have matrix parameters");const C=f.find(Af);if(C&&C!==Lp(f))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class h{constructor(a,s,f){this.segmentGroup=a,this.processChildren=s,this.index=f}}function x(c,a,s){if(c||(c=new ln([],{})),0===c.segments.length&&c.hasChildren())return L(c,a,s);const f=function(c,a,s){let f=0,C=a;const D={match:!1,pathIndex:0,commandIndex:0};for(;C<c.segments.length;){if(f>=s.length)return D;const P=c.segments[C],U=s[f];if(Af(U))break;const W=`${U}`,me=f<s.length-1?s[f+1]:null;if(C>0&&void 0===W)break;if(W&&me&&"object"==typeof me&&void 0===me.outlets){if(!Te(W,me,P))return D;f+=2}else{if(!Te(W,{},P))return D;f++}C++}return{match:!0,pathIndex:C,commandIndex:f}}(c,a,s),C=s.slice(f.commandIndex);if(f.match&&f.pathIndex<c.segments.length){const D=new ln(c.segments.slice(0,f.pathIndex),{});return D.children[vn]=new ln(c.segments.slice(f.pathIndex),c.children),L(D,0,C)}return f.match&&0===C.length?new ln(c.segments,{}):f.match&&!c.hasChildren()?K(c,a,s):f.match?L(c,0,C):K(c,a,s)}function L(c,a,s){if(0===s.length)return new ln(c.segments,{});{const f=function(c){return Af(c[0])?c[0].outlets:{[vn]:c}}(s),C={};return Ni(f,(D,P)=>{"string"==typeof D&&(D=[D]),null!==D&&(C[P]=x(c.children[P],a,D))}),Ni(c.children,(D,P)=>{void 0===f[P]&&(C[P]=D)}),new ln(c.segments,C)}}function K(c,a,s){const f=c.segments.slice(0,a);let C=0;for(;C<s.length;){const D=s[C];if(Af(D)){const W=ie(D.outlets);return new ln(f,W)}if(0===C&&If(s[0])){f.push(new ic(c.segments[a].path,pe(s[0]))),C++;continue}const P=Af(D)?D.outlets[vn]:`${D}`,U=C<s.length-1?s[C+1]:null;P&&U&&If(U)?(f.push(new ic(P,pe(U))),C+=2):(f.push(new ic(P,{})),C++)}return new ln(f,{})}function ie(c){const a={};return Ni(c,(s,f)=>{"string"==typeof s&&(s=[s]),null!==s&&(a[f]=K(new ln([],{}),0,s))}),a}function pe(c){const a={};return Ni(c,(s,f)=>a[f]=`${s}`),a}function Te(c,a,s){return c==s.path&&to(a,s.parameters)}class Ue{constructor(a,s,f,C){this.routeReuseStrategy=a,this.futureState=s,this.currState=f,this.forwardEvent=C}activate(a){const s=this.futureState._root,f=this.currState?this.currState._root:null;this.deactivateChildRoutes(s,f,a),Df(this.futureState.root),this.activateChildRoutes(s,f,a)}deactivateChildRoutes(a,s,f){const C=hh(s);a.children.forEach(D=>{const P=D.value.outlet;this.deactivateRoutes(D,C[P],f),delete C[P]}),Ni(C,(D,P)=>{this.deactivateRouteAndItsChildren(D,f)})}deactivateRoutes(a,s,f){const C=a.value,D=s?s.value:null;if(C===D)if(C.component){const P=f.getContext(C.outlet);P&&this.deactivateChildRoutes(a,s,P.children)}else this.deactivateChildRoutes(a,s,f);else D&&this.deactivateRouteAndItsChildren(s,f)}deactivateRouteAndItsChildren(a,s){this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,s):this.deactivateRouteAndOutlet(a,s)}detachAndStoreRouteSubtree(a,s){const f=s.getContext(a.value.outlet);if(f&&f.outlet){const C=f.outlet.detach(),D=f.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:C,route:a,contexts:D})}}deactivateRouteAndOutlet(a,s){const f=s.getContext(a.value.outlet),C=f&&a.value.component?f.children:s,D=hh(a);for(const P of Object.keys(D))this.deactivateRouteAndItsChildren(D[P],C);f&&f.outlet&&(f.outlet.deactivate(),f.children.onOutletDeactivated(),f.attachRef=null,f.resolver=null,f.route=null)}activateChildRoutes(a,s,f){const C=hh(s);a.children.forEach(D=>{this.activateRoutes(D,C[D.value.outlet],f),this.forwardEvent(new W_(D.value.snapshot))}),a.children.length&&this.forwardEvent(new ym(a.value.snapshot))}activateRoutes(a,s,f){const C=a.value,D=s?s.value:null;if(Df(C),C===D)if(C.component){const P=f.getOrCreateContext(C.outlet);this.activateChildRoutes(a,s,P.children)}else this.activateChildRoutes(a,s,f);else if(C.component){const P=f.getOrCreateContext(C.outlet);if(this.routeReuseStrategy.shouldAttach(C.snapshot)){const U=this.routeReuseStrategy.retrieve(C.snapshot);this.routeReuseStrategy.store(C.snapshot,null),P.children.onOutletReAttached(U.contexts),P.attachRef=U.componentRef,P.route=U.route.value,P.outlet&&P.outlet.attach(U.componentRef,U.route.value),ut(U.route)}else{const U=function(c){for(let a=c.parent;a;a=a.parent){const s=a.routeConfig;if(s&&s._loadedConfig)return s._loadedConfig;if(s&&s.component)return null}return null}(C.snapshot),W=U?U.module.componentFactoryResolver:null;P.attachRef=null,P.route=C,P.resolver=W,P.outlet&&P.outlet.activateWith(C,W),this.activateChildRoutes(a,null,P.children)}}else this.activateChildRoutes(a,null,f)}}function ut(c){Df(c.value),c.children.forEach(ut)}class Lt{constructor(a,s){this.routes=a,this.module=s}}function Vt(c){return"function"==typeof c}function In(c){return c instanceof _a}const ld=Symbol("INITIAL_VALUE");function mh(){return(0,En.w)(c=>ns(c.map(a=>a.pipe((0,Su.q)(1),(0,ec.O)(ld)))).pipe((0,Sy.R)((a,s)=>{let f=!1;return s.reduce((C,D,P)=>C!==ld?C:(D===ld&&(f=!0),f||!1!==D&&P!==s.length-1&&!In(D)?C:D),a)},ld),(0,Ju.h)(a=>a!==ld),(0,an.U)(a=>In(a)?a:!0===a),(0,Su.q)(1)))}let Q_=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=v.Xpm({type:c,selectors:[["ng-component"]],decls:1,vars:0,template:function(s,f){1&s&&v._UZ(0,"router-outlet")},directives:function(){return[$y]},encapsulation:2}),c})();function J_(c,a=""){for(let s=0;s<c.length;s++){const f=c[s];X_(f,Uw(a,f))}}function X_(c,a){c.children&&J_(c.children,a)}function Uw(c,a){return a?c||a.path?c&&!a.path?`${c}/`:!c&&a.path?a.path:`${c}/${a.path}`:"":c}function Dm(c){const a=c.children&&c.children.map(Dm),s=a?Object.assign(Object.assign({},c),{children:a}):Object.assign({},c);return!s.component&&(a||s.loadChildren)&&s.outlet&&s.outlet!==vn&&(s.component=Q_),s}function mu(c){return c.outlet||vn}function DC(c,a){const s=c.filter(f=>mu(f)===a);return s.push(...c.filter(f=>mu(f)!==a)),s}const Zp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Uy(c,a,s){var f;if(""===a.path)return"full"===a.pathMatch&&(c.hasChildren()||s.length>0)?Object.assign({},Zp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const D=(a.matcher||Bs)(s,c,a);if(!D)return Object.assign({},Zp);const P={};Ni(D.posParams,(W,me)=>{P[me]=W.path});const U=D.consumed.length>0?Object.assign(Object.assign({},P),D.consumed[D.consumed.length-1].parameters):P;return{matched:!0,consumedSegments:D.consumed,lastChild:D.consumed.length,parameters:U,positionalParamSegments:null!==(f=D.posParams)&&void 0!==f?f:{}}}function Yp(c,a,s,f,C="corrected"){if(s.length>0&&function(c,a,s){return s.some(f=>Sm(c,a,f)&&mu(f)!==vn)}(c,s,f)){const P=new ln(a,function(c,a,s,f){const C={};C[vn]=f,f._sourceSegment=c,f._segmentIndexShift=a.length;for(const D of s)if(""===D.path&&mu(D)!==vn){const P=new ln([],{});P._sourceSegment=c,P._segmentIndexShift=a.length,C[mu(D)]=P}return C}(c,a,f,new ln(s,c.children)));return P._sourceSegment=c,P._segmentIndexShift=a.length,{segmentGroup:P,slicedSegments:[]}}if(0===s.length&&function(c,a,s){return s.some(f=>Sm(c,a,f))}(c,s,f)){const P=new ln(c.segments,function(c,a,s,f,C,D){const P={};for(const U of f)if(Sm(c,s,U)&&!C[mu(U)]){const W=new ln([],{});W._sourceSegment=c,W._segmentIndexShift="legacy"===D?c.segments.length:a.length,P[mu(U)]=W}return Object.assign(Object.assign({},C),P)}(c,a,s,f,c.children,C));return P._sourceSegment=c,P._segmentIndexShift=a.length,{segmentGroup:P,slicedSegments:s}}const D=new ln(c.segments,c.children);return D._sourceSegment=c,D._segmentIndexShift=a.length,{segmentGroup:D,slicedSegments:s}}function Sm(c,a,s){return(!(c.hasChildren()||a.length>0)||"full"!==s.pathMatch)&&""===s.path}function IC(c,a,s,f){return!!(mu(c)===f||f!==vn&&Sm(a,s,c))&&("**"===c.path||Uy(a,c,s).matched)}function xb(c,a,s){return 0===a.length&&!c.children[s]}class Qp{constructor(a){this.segmentGroup=a||null}}class rv{constructor(a){this.urlTree=a}}function By(c){return new jr.y(a=>a.error(new Qp(c)))}function Ob(c){return new jr.y(a=>a.error(new rv(c)))}function iv(c){return new jr.y(a=>a.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${c}'`)))}class sv{constructor(a,s,f,C,D){this.configLoader=s,this.urlSerializer=f,this.urlTree=C,this.config=D,this.allowRedirects=!0,this.ngModule=a.get(v.h0i)}apply(){const a=Yp(this.urlTree.root,[],[],this.config).segmentGroup,s=new ln(a.segments,a.children);return this.expandSegmentGroup(this.ngModule,this.config,s,vn).pipe((0,an.U)(D=>this.createUrlTree(av(D),this.urlTree.queryParams,this.urlTree.fragment))).pipe(su(D=>{if(D instanceof rv)return this.allowRedirects=!1,this.match(D.urlTree);throw D instanceof Qp?this.noMatchError(D):D}))}match(a){return this.expandSegmentGroup(this.ngModule,this.config,a.root,vn).pipe((0,an.U)(C=>this.createUrlTree(av(C),a.queryParams,a.fragment))).pipe(su(C=>{throw C instanceof Qp?this.noMatchError(C):C}))}noMatchError(a){return new Error(`Cannot match any routes. URL Segment: '${a.segmentGroup}'`)}createUrlTree(a,s,f){const C=a.segments.length>0?new ln([],{[vn]:a}):a;return new _a(C,s,f)}expandSegmentGroup(a,s,f,C){return 0===f.segments.length&&f.hasChildren()?this.expandChildren(a,s,f).pipe((0,an.U)(D=>new ln([],D))):this.expandSegment(a,f,s,f.segments,C,!0)}expandChildren(a,s,f){const C=[];for(const D of Object.keys(f.children))"primary"===D?C.unshift(D):C.push(D);return(0,Lr.D)(C).pipe(Ql(D=>{const P=f.children[D],U=DC(s,D);return this.expandSegmentGroup(a,U,P,D).pipe((0,an.U)(W=>({segment:W,outlet:D})))}),(0,Sy.R)((D,P)=>(D[P.outlet]=P.segment,D),{}),function(c,a){const s=arguments.length>=2;return f=>f.pipe(c?(0,Ju.h)((C,D)=>c(C,D,f)):_f.y,ch(1),s?(0,sd.d)(a):(0,q_.T)(()=>new cm.K))}())}expandSegment(a,s,f,C,D,P){return(0,Lr.D)(f).pipe(Ql(U=>this.expandSegmentAgainstRoute(a,s,f,U,C,D,P).pipe(su(me=>{if(me instanceof Qp)return(0,Ot.of)(null);throw me}))),(0,tc.P)(U=>!!U),su((U,W)=>{if(U instanceof cm.K||"EmptyError"===U.name){if(xb(s,C,D))return(0,Ot.of)(new ln([],{}));throw new Qp(s)}throw U}))}expandSegmentAgainstRoute(a,s,f,C,D,P,U){return IC(C,s,D,P)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(a,s,C,D,P):U&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(a,s,f,C,D,P):By(s):By(s)}expandSegmentAgainstRouteUsingRedirect(a,s,f,C,D,P){return"**"===C.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(a,f,C,P):this.expandRegularSegmentAgainstRouteUsingRedirect(a,s,f,C,D,P)}expandWildCardWithParamsAgainstRouteUsingRedirect(a,s,f,C){const D=this.applyRedirectCommands([],f.redirectTo,{});return f.redirectTo.startsWith("/")?Ob(D):this.lineralizeSegments(f,D).pipe((0,Io.zg)(P=>{const U=new ln(P,{});return this.expandSegment(a,U,s,P,C,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(a,s,f,C,D,P){const{matched:U,consumedSegments:W,lastChild:me,positionalParamSegments:we}=Uy(s,C,D);if(!U)return By(s);const He=this.applyRedirectCommands(W,C.redirectTo,we);return C.redirectTo.startsWith("/")?Ob(He):this.lineralizeSegments(C,He).pipe((0,Io.zg)(je=>this.expandSegment(a,s,f,je.concat(D.slice(me)),P,!1)))}matchSegmentAgainstRoute(a,s,f,C,D){if("**"===f.path)return f.loadChildren?(f._loadedConfig?(0,Ot.of)(f._loadedConfig):this.configLoader.load(a.injector,f)).pipe((0,an.U)(je=>(f._loadedConfig=je,new ln(C,{})))):(0,Ot.of)(new ln(C,{}));const{matched:P,consumedSegments:U,lastChild:W}=Uy(s,f,C);if(!P)return By(s);const me=C.slice(W);return this.getChildConfig(a,f,C).pipe((0,Io.zg)(He=>{const je=He.module,nt=He.routes,{segmentGroup:mt,slicedSegments:Bt}=Yp(s,U,me,nt),Jt=new ln(mt.segments,mt.children);if(0===Bt.length&&Jt.hasChildren())return this.expandChildren(je,nt,Jt).pipe((0,an.U)(Zr=>new ln(U,Zr)));if(0===nt.length&&0===Bt.length)return(0,Ot.of)(new ln(U,{}));const Tn=mu(f)===D;return this.expandSegment(je,Jt,nt,Bt,Tn?vn:D,!0).pipe((0,an.U)(xr=>new ln(U.concat(xr.segments),xr.children)))}))}getChildConfig(a,s,f){return s.children?(0,Ot.of)(new Lt(s.children,a)):s.loadChildren?void 0!==s._loadedConfig?(0,Ot.of)(s._loadedConfig):this.runCanLoadGuards(a.injector,s,f).pipe((0,Io.zg)(C=>{return C?this.configLoader.load(a.injector,s).pipe((0,an.U)(D=>(s._loadedConfig=D,D))):(c=s,new jr.y(a=>a.error(Fp(`Cannot load children because the guard of the route "path: '${c.path}'" returned false`))));var c})):(0,Ot.of)(new Lt([],a))}runCanLoadGuards(a,s,f){const C=s.canLoad;if(!C||0===C.length)return(0,Ot.of)(!0);const D=C.map(P=>{const U=a.get(P);let W;if((c=U)&&Vt(c.canLoad))W=U.canLoad(s,f);else{if(!Vt(U))throw new Error("Invalid CanLoad guard");W=U(s,f)}var c;return du(W)});return(0,Ot.of)(D).pipe(mh(),(0,Ei.b)(P=>{if(!In(P))return;const U=Fp(`Redirecting to "${this.urlSerializer.serialize(P)}"`);throw U.url=P,U}),(0,an.U)(P=>!0===P))}lineralizeSegments(a,s){let f=[],C=s.root;for(;;){if(f=f.concat(C.segments),0===C.numberOfChildren)return(0,Ot.of)(f);if(C.numberOfChildren>1||!C.children[vn])return iv(a.redirectTo);C=C.children[vn]}}applyRedirectCommands(a,s,f){return this.applyRedirectCreatreUrlTree(s,this.urlSerializer.parse(s),a,f)}applyRedirectCreatreUrlTree(a,s,f,C){const D=this.createSegmentGroup(a,s.root,f,C);return new _a(D,this.createQueryParams(s.queryParams,this.urlTree.queryParams),s.fragment)}createQueryParams(a,s){const f={};return Ni(a,(C,D)=>{if("string"==typeof C&&C.startsWith(":")){const U=C.substring(1);f[D]=s[U]}else f[D]=C}),f}createSegmentGroup(a,s,f,C){const D=this.createSegments(a,s.segments,f,C);let P={};return Ni(s.children,(U,W)=>{P[W]=this.createSegmentGroup(a,U,f,C)}),new ln(D,P)}createSegments(a,s,f,C){return s.map(D=>D.path.startsWith(":")?this.findPosParam(a,D,C):this.findOrReturn(D,f))}findPosParam(a,s,f){const C=f[s.path.substring(1)];if(!C)throw new Error(`Cannot redirect to '${a}'. Cannot find '${s.path}'.`);return C}findOrReturn(a,s){let f=0;for(const C of s){if(C.path===a.path)return s.splice(f),C;f++}return a}}function av(c){const a={};for(const f of Object.keys(c.children)){const D=av(c.children[f]);(D.segments.length>0||D.hasChildren())&&(a[f]=D)}return function(c){if(1===c.numberOfChildren&&c.children[vn]){const a=c.children[vn];return new ln(c.segments.concat(a.segments),a.children)}return c}(new ln(c.segments,a))}class uv{constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class Jp{constructor(a,s){this.component=a,this.route=s}}function Fb(c,a,s){const f=c._root;return xf(f,a?a._root:null,s,[f.value])}function Im(c,a,s){const f=function(c){if(!c)return null;for(let a=c.parent;a;a=a.parent){const s=a.routeConfig;if(s&&s._loadedConfig)return s._loadedConfig}return null}(a);return(f?f.module.injector:s).get(c)}function xf(c,a,s,f,C={canDeactivateChecks:[],canActivateChecks:[]}){const D=hh(a);return c.children.forEach(P=>{(function(c,a,s,f,C={canDeactivateChecks:[],canActivateChecks:[]}){const D=c.value,P=a?a.value:null,U=s?s.getContext(c.value.outlet):null;if(P&&D.routeConfig===P.routeConfig){const W=function(c,a,s){if("function"==typeof s)return s(c,a);switch(s){case"pathParamsChange":return!js(c.url,a.url);case"pathParamsOrQueryParamsChange":return!js(c.url,a.url)||!to(c.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gh(c,a)||!to(c.queryParams,a.queryParams);case"paramsChange":default:return!gh(c,a)}}(P,D,D.routeConfig.runGuardsAndResolvers);W?C.canActivateChecks.push(new uv(f)):(D.data=P.data,D._resolvedData=P._resolvedData),xf(c,a,D.component?U?U.children:null:s,f,C),W&&U&&U.outlet&&U.outlet.isActivated&&C.canDeactivateChecks.push(new Jp(U.outlet.component,P))}else P&&Xp(a,U,C),C.canActivateChecks.push(new uv(f)),xf(c,null,D.component?U?U.children:null:s,f,C)})(P,D[P.value.outlet],s,f.concat([P.value]),C),delete D[P.value.outlet]}),Ni(D,(P,U)=>Xp(P,s.getContext(U),C)),C}function Xp(c,a,s){const f=hh(c),C=c.value;Ni(f,(D,P)=>{Xp(D,C.component?a?a.children.getContext(P):null:a,s)}),s.canDeactivateChecks.push(new Jp(C.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,C))}class xC{}function cv(c){return new jr.y(a=>a.error(c))}class $i{constructor(a,s,f,C,D,P){this.rootComponentType=a,this.config=s,this.urlTree=f,this.url=C,this.paramsInheritanceStrategy=D,this.relativeLinkResolution=P}recognize(){const a=Yp(this.urlTree.root,[],[],this.config.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution).segmentGroup,s=this.processSegmentGroup(this.config,a,vn);if(null===s)return null;const f=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),C=new gu(f,s),D=new Ly(this.url,C);return this.inheritParamsAndData(D._root),D}inheritParamsAndData(a){const s=a.value,f=wf(s,this.paramsInheritanceStrategy);s.params=Object.freeze(f.params),s.data=Object.freeze(f.data),a.children.forEach(C=>this.inheritParamsAndData(C))}processSegmentGroup(a,s,f){return 0===s.segments.length&&s.hasChildren()?this.processChildren(a,s):this.processSegment(a,s,s.segments,f)}processChildren(a,s){const f=[];for(const D of Object.keys(s.children)){const P=s.children[D],U=DC(a,D),W=this.processSegmentGroup(U,P,D);if(null===W)return null;f.push(...W)}const C=dv(f);return C.sort((a,s)=>a.value.outlet===vn?-1:s.value.outlet===vn?1:a.value.outlet.localeCompare(s.value.outlet)),C}processSegment(a,s,f,C){for(const D of a){const P=this.processSegmentAgainstRoute(D,s,f,C);if(null!==P)return P}return xb(s,f,C)?[]:null}processSegmentAgainstRoute(a,s,f,C){if(a.redirectTo||!IC(a,s,f,C))return null;let D,P=[],U=[];if("**"===a.path){const nt=f.length>0?Lp(f).parameters:{};D=new ph(f,nt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Of(a),mu(a),a.component,a,hv(s),fv(s)+f.length,zb(a))}else{const nt=Uy(s,a,f);if(!nt.matched)return null;P=nt.consumedSegments,U=f.slice(nt.lastChild),D=new ph(P,nt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Of(a),mu(a),a.component,a,hv(s),fv(s)+P.length,zb(a))}const W=(c=a).children?c.children:c.loadChildren?c._loadedConfig.routes:[],{segmentGroup:me,slicedSegments:we}=Yp(s,P,U,W.filter(nt=>void 0===nt.redirectTo),this.relativeLinkResolution);var c;if(0===we.length&&me.hasChildren()){const nt=this.processChildren(W,me);return null===nt?null:[new gu(D,nt)]}if(0===W.length&&0===we.length)return[new gu(D,[])];const He=mu(a)===C,je=this.processSegment(W,me,we,He?vn:C);return null===je?null:[new gu(D,je)]}}function RC(c){const a=c.value.routeConfig;return a&&""===a.path&&void 0===a.redirectTo}function dv(c){const a=[],s=new Set;for(const f of c){if(!RC(f)){a.push(f);continue}const C=a.find(D=>f.value.routeConfig===D.value.routeConfig);void 0!==C?(C.children.push(...f.children),s.add(C)):a.push(f)}for(const f of s){const C=dv(f.children);a.push(new gu(f.value,C))}return a.filter(f=>!s.has(f))}function hv(c){let a=c;for(;a._sourceSegment;)a=a._sourceSegment;return a}function fv(c){let a=c,s=a._segmentIndexShift?a._segmentIndexShift:0;for(;a._sourceSegment;)a=a._sourceSegment,s+=a._segmentIndexShift?a._segmentIndexShift:0;return s-1}function Of(c){return c.data||{}}function zb(c){return c.resolve||{}}function jy(c){return(0,En.w)(a=>{const s=c(a);return s?(0,Lr.D)(s).pipe((0,an.U)(()=>a)):(0,Ot.of)(a)})}class kC extends class{shouldDetach(a){return!1}store(a,s){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,s){return a.routeConfig===s.routeConfig}}{}const gv=new v.OlP("ROUTES");class ll{constructor(a,s,f,C){this.loader=a,this.compiler=s,this.onLoadStartListener=f,this.onLoadEndListener=C}load(a,s){if(s._loader$)return s._loader$;this.onLoadStartListener&&this.onLoadStartListener(s);const C=this.loadModuleFactory(s.loadChildren).pipe((0,an.U)(D=>{this.onLoadEndListener&&this.onLoadEndListener(s);const P=D.create(a);return new Lt(_m(P.injector.get(gv,void 0,v.XFs.Self|v.XFs.Optional)).map(Dm),P)}),su(D=>{throw s._loader$=void 0,D}));return s._loader$=new Xl.c(C,()=>new yr.xQ).pipe((0,Iy.x)()),s._loader$}loadModuleFactory(a){return"string"==typeof a?(0,Lr.D)(this.loader.load(a)):du(a()).pipe((0,Io.zg)(s=>s instanceof v.YKP?(0,Ot.of)(s):(0,Lr.D)(this.compiler.compileModuleAsync(s))))}}class cl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rs,this.attachRef=null}}class rs{constructor(){this.contexts=new Map}onChildOutletCreated(a,s){const f=this.getOrCreateContext(a);f.outlet=s,this.contexts.set(a,f)}onChildOutletDestroyed(a){const s=this.getContext(a);s&&(s.outlet=null)}onOutletDeactivated(){const a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let s=this.getContext(a);return s||(s=new cl,this.contexts.set(a,s)),s}getContext(a){return this.contexts.get(a)||null}}class Zb{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,s){return a}}function LC(c){throw c}function VC(c,a,s){return a.parse("/")}function Yb(c,a){return(0,Ot.of)(null)}const UC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let no=(()=>{class c{constructor(s,f,C,D,P,U,W,me){this.rootComponentType=s,this.urlSerializer=f,this.rootContexts=C,this.location=D,this.config=me,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yr.xQ,this.errorHandler=LC,this.malformedUriErrorHandler=VC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yb,afterPreactivation:Yb},this.urlHandlingStrategy=new Zb,this.routeReuseStrategy=new kC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=P.get(v.h0i),this.console=P.get(v.c2e);const je=P.get(v.R0b);this.isNgZoneEnabled=je instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(me),this.currentUrlTree=new _a(new ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ll(U,W,nt=>this.triggerEvent(new My(nt)),nt=>this.triggerEvent(new bf(nt))),this.routerState=ky(this.currentUrlTree,this.rootComponentType),this.transitions=new nr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var s;return null===(s=this.location.getState())||void 0===s?void 0:s.\u0275routerPageId}setupNavigations(s){const f=this.events;return s.pipe((0,Ju.h)(C=>0!==C.id),(0,an.U)(C=>Object.assign(Object.assign({},C),{extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),(0,En.w)(C=>{let D=!1,P=!1;return(0,Ot.of)(C).pipe((0,Ei.b)(U=>{this.currentNavigation={id:U.id,initialUrl:U.currentRawUrl,extractedUrl:U.extractedUrl,trigger:U.source,extras:U.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,En.w)(U=>{const W=!this.navigated||U.extractedUrl.toString()!==this.browserUrlTree.toString(),me=("reload"===this.onSameUrlNavigation||W)&&this.urlHandlingStrategy.shouldProcessUrl(U.rawUrl);if(Am(U.source)&&(this.browserUrlTree=U.rawUrl),me)return(0,Ot.of)(U).pipe((0,En.w)(we=>{const He=this.transitions.getValue();return f.next(new ad(we.id,this.serializeUrl(we.extractedUrl),we.source,we.restoredState)),He!==this.transitions.getValue()?od.E:Promise.resolve(we)}),function(c,a,s,f){return(0,En.w)(C=>function(c,a,s,f,C){return new sv(c,a,s,f,C).apply()}(c,a,s,C.extractedUrl,f).pipe((0,an.U)(D=>Object.assign(Object.assign({},C),{urlAfterRedirects:D}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ei.b)(we=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:we.urlAfterRedirects})}),function(c,a,s,f,C){return(0,Io.zg)(D=>function(c,a,s,f,C="emptyOnly",D="legacy"){try{const P=new $i(c,a,s,f,C,D).recognize();return null===P?cv(new xC):(0,Ot.of)(P)}catch(P){return cv(P)}}(c,a,D.urlAfterRedirects,s(D.urlAfterRedirects),f,C).pipe((0,an.U)(P=>Object.assign(Object.assign({},D),{targetSnapshot:P}))))}(this.rootComponentType,this.config,we=>this.serializeUrl(we),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ei.b)(we=>{"eager"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(we.urlAfterRedirects,we),this.browserUrlTree=we.urlAfterRedirects);const He=new nc(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);f.next(He)}));if(W&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:He,extractedUrl:je,source:nt,restoredState:mt,extras:Bt}=U,Jt=new ad(He,this.serializeUrl(je),nt,mt);f.next(Jt);const Tn=ky(je,this.rootComponentType).snapshot;return(0,Ot.of)(Object.assign(Object.assign({},U),{targetSnapshot:Tn,urlAfterRedirects:je,extras:Object.assign(Object.assign({},Bt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=U.rawUrl,this.browserUrlTree=U.urlAfterRedirects,U.resolve(null),od.E}),jy(U=>{const{targetSnapshot:W,id:me,extractedUrl:we,rawUrl:He,extras:{skipLocationChange:je,replaceUrl:nt}}=U;return this.hooks.beforePreactivation(W,{navigationId:me,appliedUrlTree:we,rawUrlTree:He,skipLocationChange:!!je,replaceUrl:!!nt})}),(0,Ei.b)(U=>{const W=new fm(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);this.triggerEvent(W)}),(0,an.U)(U=>Object.assign(Object.assign({},U),{guards:Fb(U.targetSnapshot,U.currentSnapshot,this.rootContexts)})),function(c,a){return(0,Io.zg)(s=>{const{targetSnapshot:f,currentSnapshot:C,guards:{canActivateChecks:D,canDeactivateChecks:P}}=s;return 0===P.length&&0===D.length?(0,Ot.of)(Object.assign(Object.assign({},s),{guardsResult:!0})):function(c,a,s,f){return(0,Lr.D)(c).pipe((0,Io.zg)(C=>function(c,a,s,f,C){const D=a&&a.routeConfig?a.routeConfig.canDeactivate:null;if(!D||0===D.length)return(0,Ot.of)(!0);const P=D.map(U=>{const W=Im(U,a,C);let me;if(function(c){return c&&Vt(c.canDeactivate)}(W))me=du(W.canDeactivate(c,a,s,f));else{if(!Vt(W))throw new Error("Invalid CanDeactivate guard");me=du(W(c,a,s,f))}return me.pipe((0,tc.P)())});return(0,Ot.of)(P).pipe(mh())}(C.component,C.route,s,a,f)),(0,tc.P)(C=>!0!==C,!0))}(P,f,C,c).pipe((0,Io.zg)(U=>U&&function(c){return"boolean"==typeof c}(U)?function(c,a,s,f){return(0,Lr.D)(a).pipe(Ql(C=>(0,Dy.z)(function(c,a){return null!==c&&a&&a(new mm(c)),(0,Ot.of)(!0)}(C.route.parent,f),function(c,a){return null!==c&&a&&a(new Cf(c)),(0,Ot.of)(!0)}(C.route,f),function(c,a,s){const f=a[a.length-1],D=a.slice(0,a.length-1).reverse().map(P=>function(c){const a=c.routeConfig?c.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:c,guards:a}:null}(P)).filter(P=>null!==P).map(P=>ma(()=>{const U=P.guards.map(W=>{const me=Im(W,P.node,s);let we;if(function(c){return c&&Vt(c.canActivateChild)}(me))we=du(me.canActivateChild(f,c));else{if(!Vt(me))throw new Error("Invalid CanActivateChild guard");we=du(me(f,c))}return we.pipe((0,tc.P)())});return(0,Ot.of)(U).pipe(mh())}));return(0,Ot.of)(D).pipe(mh())}(c,C.path,s),function(c,a,s){const f=a.routeConfig?a.routeConfig.canActivate:null;if(!f||0===f.length)return(0,Ot.of)(!0);const C=f.map(D=>ma(()=>{const P=Im(D,a,s);let U;if(function(c){return c&&Vt(c.canActivate)}(P))U=du(P.canActivate(a,c));else{if(!Vt(P))throw new Error("Invalid CanActivate guard");U=du(P(a,c))}return U.pipe((0,tc.P)())}));return(0,Ot.of)(C).pipe(mh())}(c,C.route,s))),(0,tc.P)(C=>!0!==C,!0))}(f,D,c,a):(0,Ot.of)(U)),(0,an.U)(U=>Object.assign(Object.assign({},s),{guardsResult:U})))})}(this.ngModule.injector,U=>this.triggerEvent(U)),(0,Ei.b)(U=>{if(In(U.guardsResult)){const me=Fp(`Redirecting to "${this.serializeUrl(U.guardsResult)}"`);throw me.url=U.guardsResult,me}const W=new Ay(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot,!!U.guardsResult);this.triggerEvent(W)}),(0,Ju.h)(U=>!!U.guardsResult||(this.restoreHistory(U),this.cancelNavigationTransition(U,""),!1)),jy(U=>{if(U.guards.canActivateChecks.length)return(0,Ot.of)(U).pipe((0,Ei.b)(W=>{const me=new pm(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);this.triggerEvent(me)}),(0,En.w)(W=>{let me=!1;return(0,Ot.of)(W).pipe(function(c,a){return(0,Io.zg)(s=>{const{targetSnapshot:f,guards:{canActivateChecks:C}}=s;if(!C.length)return(0,Ot.of)(s);let D=0;return(0,Lr.D)(C).pipe(Ql(P=>function(c,a,s,f){return function(c,a,s,f){const C=Object.keys(c);if(0===C.length)return(0,Ot.of)({});const D={};return(0,Lr.D)(C).pipe((0,Io.zg)(P=>function(c,a,s,f){const C=Im(c,a,f);return du(C.resolve?C.resolve(a,s):C(a,s))}(c[P],a,s,f).pipe((0,Ei.b)(U=>{D[P]=U}))),ch(1),(0,Io.zg)(()=>Object.keys(D).length===C.length?(0,Ot.of)(D):od.E))}(c._resolve,c,a,f).pipe((0,an.U)(D=>(c._resolvedData=D,c.data=Object.assign(Object.assign({},c.data),wf(c,s).resolve),null)))}(P.route,f,c,a)),(0,Ei.b)(()=>D++),ch(1),(0,Io.zg)(P=>D===C.length?(0,Ot.of)(s):od.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ei.b)({next:()=>me=!0,complete:()=>{me||(this.restoreHistory(W),this.cancelNavigationTransition(W,"At least one route resolver didn't emit any value."))}}))}),(0,Ei.b)(W=>{const me=new gm(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);this.triggerEvent(me)}))}),jy(U=>{const{targetSnapshot:W,id:me,extractedUrl:we,rawUrl:He,extras:{skipLocationChange:je,replaceUrl:nt}}=U;return this.hooks.afterPreactivation(W,{navigationId:me,appliedUrlTree:we,rawUrlTree:He,skipLocationChange:!!je,replaceUrl:!!nt})}),(0,an.U)(U=>{const W=function(c,a,s){const f=Sf(c,a._root,s?s._root:void 0);return new Hp(f,a)}(this.routeReuseStrategy,U.targetSnapshot,U.currentRouterState);return Object.assign(Object.assign({},U),{targetRouterState:W})}),(0,Ei.b)(U=>{this.currentUrlTree=U.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,U.rawUrl),this.routerState=U.targetRouterState,"deferred"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,U),this.browserUrlTree=U.urlAfterRedirects)}),((c,a,s)=>(0,an.U)(f=>(new Ue(a,f.targetRouterState,f.currentRouterState,s).activate(c),f)))(this.rootContexts,this.routeReuseStrategy,U=>this.triggerEvent(U)),(0,Ei.b)({next(){D=!0},complete(){D=!0}}),Zg(()=>{if(!D&&!P){const U=`Navigation ID ${C.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(C),this.cancelNavigationTransition(C,U)):this.cancelNavigationTransition(C,U)}this.currentNavigation=null}),su(U=>{if(P=!0,function(c){return c&&c[cu]}(U)){const W=In(U.url);W||(this.navigated=!0,this.restoreHistory(C,!0));const me=new vf(C.id,this.serializeUrl(C.extractedUrl),U.message);f.next(me),W?setTimeout(()=>{const we=this.urlHandlingStrategy.merge(U.url,this.rawUrlTree),He={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Am(C.source)};this.scheduleNavigation(we,"imperative",null,He,{resolve:C.resolve,reject:C.reject,promise:C.promise})},0):C.resolve(!1)}else{this.restoreHistory(C,!0);const W=new hm(C.id,this.serializeUrl(C.extractedUrl),U);f.next(W);try{C.resolve(this.errorHandler(U))}catch(me){C.reject(me)}}return od.E}))}))}resetRootComponentType(s){this.rootComponentType=s,this.routerState.root.component=this.rootComponentType}getTransition(){const s=this.transitions.value;return s.urlAfterRedirects=this.browserUrlTree,s}setTransition(s){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),s))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(s=>{const f=this.extractLocationChangeInfoFromEvent(s);this.shouldScheduleNavigation(this.lastLocationChangeInfo,f)&&setTimeout(()=>{const{source:C,state:D,urlTree:P}=f,U={replaceUrl:!0};if(D){const W=Object.assign({},D);delete W.navigationId,delete W.\u0275routerPageId,0!==Object.keys(W).length&&(U.state=W)}this.scheduleNavigation(P,C,D,U)},0),this.lastLocationChangeInfo=f}))}extractLocationChangeInfoFromEvent(s){var f;return{source:"popstate"===s.type?"popstate":"hashchange",urlTree:this.parseUrl(s.url),state:(null===(f=s.state)||void 0===f?void 0:f.navigationId)?s.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(s,f){if(!s)return!0;const C=f.urlTree.toString()===s.urlTree.toString();return f.transitionId!==s.transitionId||!C||!("hashchange"===f.source&&"popstate"===s.source||"popstate"===f.source&&"hashchange"===s.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(s){this.events.next(s)}resetConfig(s){J_(s),this.config=s.map(Dm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(s,f={}){const{relativeTo:C,queryParams:D,fragment:P,queryParamsHandling:U,preserveFragment:W}=f,me=C||this.routerState.root,we=W?this.currentUrlTree.fragment:P;let He=null;switch(U){case"merge":He=Object.assign(Object.assign({},this.currentUrlTree.queryParams),D);break;case"preserve":He=this.currentUrlTree.queryParams;break;default:He=D||null}return null!==He&&(He=this.removeEmptyProps(He)),function(c,a,s,f,C){if(0===s.length)return wm(a.root,a.root,a,f,C);const D=function(c){if("string"==typeof c[0]&&1===c.length&&"/"===c[0])return new e(!0,0,c);let a=0,s=!1;const f=c.reduce((C,D,P)=>{if("object"==typeof D&&null!=D){if(D.outlets){const U={};return Ni(D.outlets,(W,me)=>{U[me]="string"==typeof W?W.split("/"):W}),[...C,{outlets:U}]}if(D.segmentPath)return[...C,D.segmentPath]}return"string"!=typeof D?[...C,D]:0===P?(D.split("/").forEach((U,W)=>{0==W&&"."===U||(0==W&&""===U?s=!0:".."===U?a++:""!=U&&C.push(U))}),C):[...C,D]},[]);return new e(s,a,f)}(s);if(D.toRoot())return wm(a.root,new ln([],{}),a,f,C);const P=function(c,a,s){if(c.isAbsolute)return new h(a.root,!0,0);if(-1===s.snapshot._lastPathIndex){const D=s.snapshot._urlSegment;return new h(D,D===a.root,0)}const f=If(c.commands[0])?0:1;return function(c,a,s){let f=c,C=a,D=s;for(;D>C;){if(D-=C,f=f.parent,!f)throw new Error("Invalid number of '../'");C=f.segments.length}return new h(f,!1,C-D)}(s.snapshot._urlSegment,s.snapshot._lastPathIndex+f,c.numberOfDoubleDots)}(D,a,c),U=P.processChildren?L(P.segmentGroup,P.index,D.commands):x(P.segmentGroup,P.index,D.commands);return wm(P.segmentGroup,U,a,f,C)}(me,this.currentUrlTree,s,He,null!=we?we:null)}navigateByUrl(s,f={skipLocationChange:!1}){const C=In(s)?s:this.parseUrl(s),D=this.urlHandlingStrategy.merge(C,this.rawUrlTree);return this.scheduleNavigation(D,"imperative",null,f)}navigate(s,f={skipLocationChange:!1}){return function(c){for(let a=0;a<c.length;a++){const s=c[a];if(null==s)throw new Error(`The requested path contains ${s} segment at index ${a}`)}}(s),this.navigateByUrl(this.createUrlTree(s,f),f)}serializeUrl(s){return this.urlSerializer.serialize(s)}parseUrl(s){let f;try{f=this.urlSerializer.parse(s)}catch(C){f=this.malformedUriErrorHandler(C,this.urlSerializer,s)}return f}isActive(s,f){let C;if(C=!0===f?Object.assign({},UC):!1===f?Object.assign({},mv):f,In(s))return dh(this.currentUrlTree,s,C);const D=this.parseUrl(s);return dh(this.currentUrlTree,D,C)}removeEmptyProps(s){return Object.keys(s).reduce((f,C)=>{const D=s[C];return null!=D&&(f[C]=D),f},{})}processNavigations(){this.navigations.subscribe(s=>{this.navigated=!0,this.lastSuccessfulId=s.id,this.currentPageId=s.targetPageId,this.events.next(new il(s.id,this.serializeUrl(s.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,s.resolve(!0)},s=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(s,f,C,D,P){var U,W;if(this.disposed)return Promise.resolve(!1);const me=this.getTransition(),we=Am(f)&&me&&!Am(me.source),nt=(this.lastSuccessfulId===me.id||this.currentNavigation?me.rawUrl:me.urlAfterRedirects).toString()===s.toString();if(we&&nt)return Promise.resolve(!0);let mt,Bt,Jt;P?(mt=P.resolve,Bt=P.reject,Jt=P.promise):Jt=new Promise((xr,Zr)=>{mt=xr,Bt=Zr});const Tn=++this.navigationId;let lr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(C=this.location.getState()),lr=C&&C.\u0275routerPageId?C.\u0275routerPageId:D.replaceUrl||D.skipLocationChange?null!==(U=this.browserPageId)&&void 0!==U?U:0:(null!==(W=this.browserPageId)&&void 0!==W?W:0)+1):lr=0,this.setTransition({id:Tn,targetPageId:lr,source:f,restoredState:C,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:s,extras:D,resolve:mt,reject:Bt,promise:Jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jt.catch(xr=>Promise.reject(xr))}setBrowserUrl(s,f){const C=this.urlSerializer.serialize(s),D=Object.assign(Object.assign({},f.extras.state),this.generateNgRouterState(f.id,f.targetPageId));this.location.isCurrentPathEqualTo(C)||f.extras.replaceUrl?this.location.replaceState(C,"",D):this.location.go(C,"",D)}restoreHistory(s,f=!1){var C,D;if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-s.targetPageId;"popstate"!==s.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)||0===P?this.currentUrlTree===(null===(D=this.currentNavigation)||void 0===D?void 0:D.finalUrl)&&0===P&&(this.resetState(s),this.browserUrlTree=s.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(f&&this.resetState(s),this.resetUrlToCurrentUrlTree())}resetState(s){this.routerState=s.currentRouterState,this.currentUrlTree=s.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(s,f){const C=new vf(s.id,this.serializeUrl(s.extractedUrl),f);this.triggerEvent(C),s.resolve(!1)}generateNgRouterState(s,f){return"computed"===this.canceledNavigationResolution?{navigationId:s,\u0275routerPageId:f}:{navigationId:s}}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(v.DyG),v.LFG(Bp),v.LFG(rs),v.LFG(B.Ye),v.LFG(v.zs3),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(void 0))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();function Am(c){return"imperative"!==c}let Gy=(()=>{class c{constructor(s,f,C,D,P){this.router=s,this.route=f,this.commands=[],this.onChanges=new yr.xQ,null==C&&D.setAttribute(P.nativeElement,"tabindex","0")}ngOnChanges(s){this.onChanges.next(this)}set routerLink(s){this.commands=null!=s?Array.isArray(s)?s:[s]:[]}onClick(){const s={skipLocationChange:Pf(this.skipLocationChange),replaceUrl:Pf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pf(this.preserveFragment)})}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(no),v.Y36(ud),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq))},c.\u0275dir=v.lG2({type:c,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(s,f){1&s&&v.NdJ("click",function(){return f.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[v.TTD]}),c})(),Mm=(()=>{class c{constructor(s,f,C){this.router=s,this.route=f,this.locationStrategy=C,this.commands=[],this.onChanges=new yr.xQ,this.subscription=s.events.subscribe(D=>{D instanceof il&&this.updateTargetUrlAndHref()})}set routerLink(s){this.commands=null!=s?Array.isArray(s)?s:[s]:[]}ngOnChanges(s){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(s,f,C,D,P){if(0!==s||f||C||D||P||"string"==typeof this.target&&"_self"!=this.target)return!0;const U={skipLocationChange:Pf(this.skipLocationChange),replaceUrl:Pf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,U),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pf(this.preserveFragment)})}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(no),v.Y36(ud),v.Y36(B.S$))},c.\u0275dir=v.lG2({type:c,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(s,f){1&s&&v.NdJ("click",function(D){return f.onClick(D.button,D.ctrlKey,D.shiftKey,D.altKey,D.metaKey)}),2&s&&(v.Ikx("href",f.href,v.LSH),v.uIk("target",f.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[v.TTD]}),c})();function Pf(c){return""===c||!!c}let $y=(()=>{class c{constructor(s,f,C,D,P){this.parentContexts=s,this.location=f,this.resolver=C,this.changeDetector=P,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.name=D||vn,s.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const s=this.parentContexts.getContext(this.name);s&&s.route&&(s.attachRef?this.attach(s.attachRef,s.route):this.activateWith(s.route,s.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const s=this.activated;return this.activated=null,this._activatedRoute=null,s}attach(s,f){this.activated=s,this._activatedRoute=f,this.location.insert(s.hostView)}deactivate(){if(this.activated){const s=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(s)}}activateWith(s,f){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=s;const P=(f=f||this.resolver).resolveComponentFactory(s._futureSnapshot.routeConfig.component),U=this.parentContexts.getOrCreateContext(this.name).children,W=new Qb(s,U,this.location.injector);this.activated=this.location.createComponent(P,this.location.length,W),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(rs),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},c.\u0275dir=v.lG2({type:c,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),c})();class Qb{constructor(a,s,f){this.route=a,this.childContexts=s,this.parent=f}get(a,s){return a===ud?this.route:a===rs?this.childContexts:this.parent.get(a,s)}}class yv{}class _v{preload(a,s){return(0,Ot.of)(null)}}let vv=(()=>{class c{constructor(s,f,C,D,P){this.router=s,this.injector=D,this.preloadingStrategy=P,this.loader=new ll(f,C,me=>s.triggerEvent(new My(me)),me=>s.triggerEvent(new bf(me)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ju.h)(s=>s instanceof il),Ql(()=>this.preload())).subscribe(()=>{})}preload(){const s=this.injector.get(v.h0i);return this.processRoutes(s,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(s,f){const C=[];for(const D of f)if(D.loadChildren&&!D.canLoad&&D._loadedConfig){const P=D._loadedConfig;C.push(this.processRoutes(P.module,P.routes))}else D.loadChildren&&!D.canLoad?C.push(this.preloadConfig(s,D)):D.children&&C.push(this.processRoutes(s,D.children));return(0,Lr.D)(C).pipe((0,dm.J)(),(0,an.U)(D=>{}))}preloadConfig(s,f){return this.preloadingStrategy.preload(f,()=>(f._loadedConfig?(0,Ot.of)(f._loadedConfig):this.loader.load(s.injector,f)).pipe((0,Io.zg)(D=>(f._loadedConfig=D,this.processRoutes(D.module,D.routes)))))}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(no),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(yv))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})(),qy=(()=>{class c{constructor(s,f,C={}){this.router=s,this.viewportScroller=f,this.options=C,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},C.scrollPositionRestoration=C.scrollPositionRestoration||"disabled",C.anchorScrolling=C.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(s=>{s instanceof ad?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=s.navigationTrigger,this.restoredId=s.restoredState?s.restoredState.navigationId:0):s instanceof il&&(this.lastId=s.id,this.scheduleScrollEvent(s,this.router.parseUrl(s.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(s=>{s instanceof Np&&(s.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(s.position):s.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(s.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(s,f){this.router.triggerEvent(new Np(s,"popstate"===this.lastSource?this.store[this.restoredId]:null,f))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(no),v.LFG(B.EM),v.LFG(void 0))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();const yh=new v.OlP("ROUTER_CONFIGURATION"),bv=new v.OlP("ROUTER_FORROOT_GUARD"),Xb=[B.Ye,{provide:Bp,useClass:jp},{provide:no,useFactory:function(c,a,s,f,C,D,P,U={},W,me){const we=new no(null,c,a,s,f,C,D,_m(P));return W&&(we.urlHandlingStrategy=W),me&&(we.routeReuseStrategy=me),function(c,a){c.errorHandler&&(a.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(a.malformedUriErrorHandler=c.malformedUriErrorHandler),c.onSameUrlNavigation&&(a.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(a.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.relativeLinkResolution&&(a.relativeLinkResolution=c.relativeLinkResolution),c.urlUpdateStrategy&&(a.urlUpdateStrategy=c.urlUpdateStrategy)}(U,we),U.enableTracing&&we.events.subscribe(He=>{var je,nt;null===(je=console.group)||void 0===je||je.call(console,`Router Event: ${He.constructor.name}`),console.log(He.toString()),console.log(He),null===(nt=console.groupEnd)||void 0===nt||nt.call(console)}),we},deps:[Bp,rs,B.Ye,v.zs3,v.v3s,v.Sil,gv,yh,[class{},new v.FiY],[class{},new v.FiY]]},rs,{provide:ud,useFactory:function(c){return c.routerState.root},deps:[no]},{provide:v.v3s,useClass:v.EAV},vv,_v,class{preload(a,s){return s().pipe(su(()=>(0,Ot.of)(null)))}},{provide:yh,useValue:{enableTracing:!1}}];function HC(){return new v.PXZ("Router",no)}let e0=(()=>{class c{constructor(s,f){}static forRoot(s,f){return{ngModule:c,providers:[Xb,t0(s),{provide:bv,useFactory:qC,deps:[[no,new v.FiY,new v.tp0]]},{provide:yh,useValue:f||{}},{provide:B.S$,useFactory:zC,deps:[B.lw,[new v.tBr(B.mr),new v.FiY],yh]},{provide:qy,useFactory:$C,deps:[no,B.EM,yh]},{provide:yv,useExisting:f&&f.preloadingStrategy?f.preloadingStrategy:_v},{provide:v.PXZ,multi:!0,useFactory:HC},[Cv,{provide:v.ip1,multi:!0,useFactory:YC,deps:[Cv]},{provide:n0,useFactory:QC,deps:[Cv]},{provide:v.tb,multi:!0,useExisting:n0}]]}}static forChild(s){return{ngModule:c,providers:[t0(s)]}}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(bv,8),v.LFG(no,8))},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({}),c})();function $C(c,a,s){return s.scrollOffset&&a.setOffset(s.scrollOffset),new qy(c,a,s)}function zC(c,a,s={}){return s.useHash?new B.Do(c,a):new B.b0(c,a)}function qC(c){return"guarded"}function t0(c){return[{provide:v.deG,multi:!0,useValue:c},{provide:gv,multi:!0,useValue:c}]}let Cv=(()=>{class c{constructor(s){this.injector=s,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new yr.xQ}appInitializer(){return this.injector.get(B.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let f=null;const C=new Promise(U=>f=U),D=this.injector.get(no),P=this.injector.get(yh);return"disabled"===P.initialNavigation?(D.setUpLocationChangeListener(),f(!0)):"enabled"===P.initialNavigation||"enabledBlocking"===P.initialNavigation?(D.hooks.afterPreactivation=()=>this.initNavigation?(0,Ot.of)(null):(this.initNavigation=!0,f(!0),this.resultOfPreactivationDone),D.initialNavigation()):f(!0),C})}bootstrapListener(s){const f=this.injector.get(yh),C=this.injector.get(vv),D=this.injector.get(qy),P=this.injector.get(no),U=this.injector.get(v.z2F);s===U.components[0]&&(("enabledNonBlocking"===f.initialNavigation||void 0===f.initialNavigation)&&P.initialNavigation(),C.setUpPreloading(),D.init(),P.resetRootComponentType(U.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(v.zs3))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac}),c})();function YC(c){return c.appInitializer.bind(c)}function QC(c){return c.bootstrapListener.bind(c)}const n0=new v.OlP("Router Initializer");let XC=(()=>{class c{constructor(){this.ImagePath1="/assets/image2.png",this.ImagePath2="/assets/image1.png"}ngOnInit(){}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-mobile"]],decls:95,vars:7,consts:[[1,"page"],[1,"container","page_1","mt-5","mb-5"],[1,"row"],[1,"col-lg-4","col-md-6","col-sm-6","mobiles_mobile"],["alt","azbxvh",1,"img-fluid","offset-md-3",3,"src"],[1,"col-lg-4","col-md-6","col-sm-6"],["alt","azbxvh",1,"img-fluid",3,"src"],[1,"col-lg-4","col-xl-4","align-self-center","text"],[1,"offset-md-3"],[1,"row","p-0"],[1,"container","p-0","image_button"],[1,"d-flex","justify-content-start"],[1,"box"],["type","button","id","button",1,"btn","btn-dark"],[1,"container","mobile_box"],[1,"col-md-6"],[1,""],[1,"col-md-6","d-flex","justify-content-start",".image_button_2"],[1,"mobile_1"],[1,"container"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile_text1"],[1,"mt-5","text1_1"],[1,"text1_2"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile"],[1,"mobile_2"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile2"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile_text2"],[1,"mt-5","text2_1"],[1,"text2_2"],[1,"mobile_3"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile_text3"],[1,"mt-5","text3_1"],[1,"text3_2"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile3"],[1,"mobile_4"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile4"],[1,"mobile_5"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile_text5"],[1,"mt-5","text5_1"],[1,"text5_2"],[1,"col-lg-6","col-md-6","mt-5","p-5","mobile5"],["alt","azbxvh",1,"img-fluid","rectangle_3",3,"src"]],template:function(s,f){1&s&&(v.TgZ(0,"main",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v.TgZ(3,"div",3),v._UZ(4,"img",4),v.qZA(),v.TgZ(5,"div",5),v._UZ(6,"img",6),v.qZA(),v.TgZ(7,"div",7),v.TgZ(8,"h4",8),v._uU(9,"Download The App Now"),v.qZA(),v.TgZ(10,"div",9),v.TgZ(11,"div",10),v.TgZ(12,"div",11),v.TgZ(13,"div",12),v.TgZ(14,"button",13),v._uU(15,"GET IT ON"),v._UZ(16,"br"),v.TgZ(17,"span"),v._uU(18,"Android"),v.qZA(),v.qZA(),v.TgZ(19,"button",13),v._uU(20," GET IT ON"),v._UZ(21,"br"),v.TgZ(22,"span"),v._uU(23,"Appstore"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(24,"div",14),v.TgZ(25,"div",2),v.TgZ(26,"div",15),v.TgZ(27,"h4",16),v._uU(28,"Download The App Now"),v.qZA(),v.qZA(),v.TgZ(29,"div",17),v.TgZ(30,"div",12),v.TgZ(31,"button",13),v._uU(32,"GET IT ON"),v._UZ(33,"br"),v.TgZ(34,"span"),v._uU(35,"Android"),v.qZA(),v.qZA(),v.TgZ(36,"button",13),v._uU(37," GET IT ON"),v._UZ(38,"br"),v.TgZ(39,"span"),v._uU(40,"Appstore"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(41,"div",18),v.TgZ(42,"div",19),v.TgZ(43,"div",2),v.TgZ(44,"div",20),v.TgZ(45,"h4",21),v._uU(46,"Easy Workout Cheklist"),v._UZ(47,"br"),v._uU(48," for Client "),v.qZA(),v.TgZ(49,"p",22),v._uU(50,"Clients can use the checklist to go through the workout and to let the coach know that the workout has been completed. "),v.qZA(),v.qZA(),v.TgZ(51,"div",23),v._UZ(52,"img",6),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(53,"div",24),v.TgZ(54,"div",19),v.TgZ(55,"div",2),v.TgZ(56,"div",25),v._UZ(57,"img",6),v.qZA(),v.TgZ(58,"div",26),v.TgZ(59,"h4",27),v._uU(60,"Real-Time Messaging "),v.qZA(),v.TgZ(61,"p",28),v._uU(62,"All the messages can be found in one place, so it doesnt get lost. "),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(63,"div",29),v.TgZ(64,"div",19),v.TgZ(65,"div",2),v.TgZ(66,"div",30),v.TgZ(67,"h4",31),v._uU(68,"Weekly Survey Sent to "),v._UZ(69,"br"),v._uU(70," the Coach "),v.qZA(),v.TgZ(71,"p",32),v._uU(72,"Track how the client feels after each week and work towards their goal. "),v.qZA(),v.qZA(),v.TgZ(73,"div",33),v._UZ(74,"img",6),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(75,"div",34),v.TgZ(76,"div",19),v.TgZ(77,"div",2),v.TgZ(78,"div",35),v._UZ(79,"img",6),v.qZA(),v.TgZ(80,"div",26),v.TgZ(81,"h4",27),v._uU(82,"Flexible Appoitment "),v.qZA(),v.TgZ(83,"p",28),v._uU(84,"Have flexible appoitment with the coach and be able to meet at your convience. "),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(85,"div",36),v.TgZ(86,"div",19),v.TgZ(87,"div",2),v.TgZ(88,"div",37),v.TgZ(89,"h4",38),v._uU(90,"Customized Diet Plan "),v.qZA(),v.TgZ(91,"p",39),v._uU(92,"Each client will have their custimized diet plan with their required protein carbs and fat. "),v.qZA(),v.qZA(),v.TgZ(93,"div",40),v._UZ(94,"img",41),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&s&&(v.xp6(4),v.Q6J("src",f.ImagePath1,v.LSH),v.xp6(2),v.s9C("src",f.ImagePath2,v.LSH),v.xp6(46),v.s9C("src",f.ImagePath2,v.LSH),v.xp6(5),v.s9C("src",f.ImagePath2,v.LSH),v.xp6(17),v.s9C("src",f.ImagePath2,v.LSH),v.xp6(5),v.s9C("src",f.ImagePath2,v.LSH),v.xp6(15),v.s9C("src",f.ImagePath2,v.LSH))},styles:['body[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:poppins}.box[_ngcontent-%COMP%]{background:#FEEFA8;margin-top:100px}.btn-dark[_ngcontent-%COMP%]{background:#34383D!important}#button[_ngcontent-%COMP%]{margin:10px}.page[_ngcontent-%COMP%]{overflow-x:hidden}.product_1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-size:50px;margin-bottom:100px}.product_1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:50px}.product_2[_ngcontent-%COMP%]{background:#34383D;z-index:-7;position:relative}.biss_module[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%], .client_module[_ngcontent-%COMP%]{text-align:left;padding-top:60px}.coach_module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:100px}.coach_module[_ngcontent-%COMP%]{margin-top:100px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-436px;left:-30px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-263px;left:-113px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:563px;height:3102px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-161px;left:-113px}.product_2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]   .coach_text[_ngcontent-%COMP%]{align-self:center}.box_1[_ngcontent-%COMP%], .box_3[_ngcontent-%COMP%], .box_6[_ngcontent-%COMP%], .box_8[_ngcontent-%COMP%]{background:#FEEFA8;padding:20px;text-align:center;box-sizing:content-box;width:200px;height:200px;display:flex;margin:10px;align-items:center;justify-content:center}.box_2[_ngcontent-%COMP%], .box_4[_ngcontent-%COMP%], .box_5[_ngcontent-%COMP%], .box_7[_ngcontent-%COMP%]{background:#34383D;display:flex;align-items:center;justify-content:center;padding:20px;color:#fff;text-align:center;box-sizing:content-box;width:200px;margin:10px;height:200px}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:15px;font-weight:bolder}.container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:400px;height:30px}.boxes_coach[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.boxes_coach[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px}.mobile_1[_ngcontent-%COMP%], .mobile_5[_ngcontent-%COMP%]{background-color:#34383d;font-size:20px}.mobile_box[_ngcontent-%COMP%]{display:none;font-size:20px}.mobile_text2[_ngcontent-%COMP%]{font-size:20px}.mobile_text2[_ngcontent-%COMP%]   .text2_1[_ngcontent-%COMP%]{font-size:20px}.text3_1[_ngcontent-%COMP%]{font-size:20px}.mobile_3[_ngcontent-%COMP%]{background:linear-gradient(99.33deg,#FEEFA8 .55%,#F5E383 108.61%);font-size:20px}.mobile_text1[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]{align-items:center;text-align:center;font-size:20px}.mobile_text1[_ngcontent-%COMP%]   .text1_1[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_1[_ngcontent-%COMP%]{color:#feefa8;font-size:20px}.mobile_text1[_ngcontent-%COMP%]   .text1_2[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_2[_ngcontent-%COMP%]{color:#fff;line-height:1.4em;padding-top:5px;font-size:20px}.mobile_1[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle4.37e88ee9b9d91694e24f.png);width:685px;height:3173px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-14px;top:139px}.mobile_2[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_3[_ngcontent-%COMP%]{position:relative;z-index:7}.mobile_4[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_5[_ngcontent-%COMP%]{position:relative;z-index:2}.mobile2[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle5.39f2b6a9e16f8bf4a05b.png);width:800px;height:3173px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-146px;top:260px}.mobile3[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle6.504e2ab8017d1f3c4085.png);width:600px;height:3000px;position:absolute;z-index:-5;background-repeat:no-repeat;left:103px;top:49px}.mobile4[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle7.99ec23776a17ae1cae89.png);width:756px;height:900px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-70px;top:60px}.mobile5[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle8.7934cbadb80c9c2c7b7b.png);width:872px;height:900px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-350px;top:195px}.frontpage[_ngcontent-%COMP%]{overflow-x:hidden}.image_button[_ngcontent-%COMP%]{position:relative;left:-133px}.mobile[_ngcontent-%COMP%], .mobile2[_ngcontent-%COMP%], .mobile3[_ngcontent-%COMP%], .mobile4[_ngcontent-%COMP%], .mobile5[_ngcontent-%COMP%]{align-items:center;text-align:center;font-size:20px}.mobile_text2[_ngcontent-%COMP%]{align-items:center;text-align:center;font-size:20px}.mobile_text2[_ngcontent-%COMP%]   .text2_2[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%]   .text3_2[_ngcontent-%COMP%]{font-size:20px;padding-top:10px}.page[_ngcontent-%COMP%]   .check_box[_ngcontent-%COMP%]{align-content:center;justify-content:center}.form-check[_ngcontent-%COMP%]{padding-left:3.25rem}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:30px}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 50px 20px 8px;border-radius:10px}.page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:table-row}.sign_up[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:10px}.name[_ngcontent-%COMP%]{margin-top:20px}.name[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.bday[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:38%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.age[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:20%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.gender[_ngcontent-%COMP%]{font-weight:bolder;font-size:17px}.dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 40px 20px 8px;border-radius:10px;position:relative;width:-webkit-max-content;width:max-content}.phone[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.password[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.form_elements[_ngcontent-%COMP%]{justify-content:center}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:10px 70px;background:#34383D;border-radius:5.25rem;color:#fff}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:active{outline:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 767px){.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}.check_box[_ngcontent-%COMP%]{align-items:center;justify-content:center;align-self:center}}@media (max-width: 991px){.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{left:-197px}.box[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]{display:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.mobile_box[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:19px}}@media screen and (max-width: 1200px){.image_button[_ngcontent-%COMP%]{position:relative;left:-74px}}@media screen and (max-width: 575px){.mobiles_mobile[_ngcontent-%COMP%]{padding-bottom:50px}.page_1[_ngcontent-%COMP%]{text-align:center;align-self:center}.image_button_2[_ngcontent-%COMP%]{text-align:center;align-self:center;align-items:center}.mobile_box[_ngcontent-%COMP%]{text-align:center}.mobile3[_ngcontent-%COMP%]:before{left:87px}}@media screen and (max-width: 510px){.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}}']}),c})(),eE=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-about"]],decls:33,vars:0,consts:[[1,"page"],[1,"container","product_1"],[1,"m-5"],[1,"product_2"],[1,"container"],[1,"row","flex-column-reverse","flex-sm-row","biss_module"],[1,"col-lg-8","col-md-8","col-xl-8"],[1,"col-4","col-md-4","col-xl-4","biss_text"],[1,"row","k","coach_module"],[1,"col-4","col-md-4","col-xl-4","coach_text"],[1,"row","flex-column-reverse","flex-sm-row","client_module"],[1,"col-lg-8","col-md-8","col-xl-8","mt-0"],[1,"col-4","col-md-4","col-xl-4","mt-0"]],template:function(s,f){1&s&&(v.TgZ(0,"main",0),v.TgZ(1,"div",1),v.TgZ(2,"h3",2),v._uU(3,"Product Overview"),v.qZA(),v.TgZ(4,"p"),v._uU(5,"Fitness has become paramount important more than ever during the last 18 months especially with the onset of pandemic. With people being locked down in home and with less travelling and more remote working, it has become very difficult to maintain physical health. At the sametime, physical and mental health has become very important to keep our defences strong against the pandemic. With so many people realizing the importance of maintaining fitness and yet stuck at home with no access to fitness facilities, we at Honeycomb Technologies have come up with an application which solves the problem. We have created an unique application which enables anyone across the world to access the fitness coach of their choice, fitness program and diet program under the single umbrella. "),v._UZ(6,"br"),v._UZ(7,"br"),v._uU(8," ShapeMeUp, as the name suggests, helps every client to get to their best shape and fitness by following the fitness program created specific for every client, flexible yet most effective diet plan crafted to suit the needs of every individual. "),v._UZ(9,"br"),v._UZ(10,"br"),v._uU(11," ShapeMeUp helps both the fitness coach and fitness aspirants equally to stay on top of their goals. "),v.qZA(),v.qZA(),v.TgZ(12,"div",3),v.TgZ(13,"div",4),v.TgZ(14,"div",5),v.TgZ(15,"p",6),v._uU(16,"The fitness app ShapeMeUp has several business modules to help both fitness coaches and fitness aspirants (clients). "),v.qZA(),v.TgZ(17,"h4",7),v._uU(18,"Business Modules "),v.qZA(),v.qZA(),v.TgZ(19,"div",8),v.TgZ(20,"h4",9),v._uU(21,"Coach Modules "),v.qZA(),v.TgZ(22,"p",6),v._uU(23," ShapeMeUp application has set of screens/functions to help fitness Coaches to manage their Profile, create and maintain Diet database, create and maintain Warmup database, create and maintain workout database, view Client Profiles, assign warmup and workout plans, assign diet plans, monitor the progress of clients, send reminders for payment/workout/diet follow ups, live chat/video calls with clients to demonstrate and conduct live sessions, messaging services to communicate with clients, schedule sessions with clients, manage group clients and group classes. "),v._UZ(24,"br"),v._UZ(25,"br"),v._uU(26," ShapeMeUp is designed to cater to every fitness enthusiast and meet their specific needs. It is easily customizable to suit the fitness coaches across the globe to give effective training to their clients. "),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(27,"div",4),v.TgZ(28,"div",10),v.TgZ(29,"p",11),v._uU(30," Here we refer to the fitness aspirants as Clients. This is an individual or team that is being trained by the Coaches "),v.qZA(),v.TgZ(31,"h4",12),v._uU(32,"Client Modules "),v.qZA(),v.qZA(),v.qZA(),v.qZA())},styles:['body[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:poppins}.page[_ngcontent-%COMP%]{overflow-x:hidden}.product_1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-size:20px;margin-bottom:100px;justify-content:center;align-items:center;line-height:25px}.product_1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px;text-align:center}.product_2[_ngcontent-%COMP%]{background:#34383D;font-size:20px;z-index:-7;position:relative}.product_2[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.product_2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;line-height:25px}.biss_module[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%], .client_module[_ngcontent-%COMP%]{text-align:left;padding-top:60px}.client_module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:25px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;line-height:25px}.coach_module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:100px;font-size:18px;line-height:25px}.coach_module[_ngcontent-%COMP%]{margin-top:100px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle1.bbac256adba91d3c2c1e.png);width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-436px;left:-30px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle2.a6a7c1f1d0255d476841.png);width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-263px;left:-113px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle3.5d5ae9361fee45fcab84.png);width:563px;height:3102px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-161px;left:-113px}.product_2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px;line-height:25px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]   .coach_text[_ngcontent-%COMP%]{align-self:center}@media (max-width: 767px){.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}}@media (max-width: 991px){.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";background-image:url(Rectangle2.a6a7c1f1d0255d476841.png);width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-263px;left:-209px}}@media (max-width: 767px){.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}.check_box[_ngcontent-%COMP%]{align-items:center;justify-content:center;align-self:center}}@media (max-width: 991px){.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{left:-197px}.box[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]{display:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.mobile_box[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:19px}}@media screen and (max-width: 1200px){.image_button[_ngcontent-%COMP%]{position:relative;left:-74px}}@media screen and (max-width: 575px){.mobiles_mobile[_ngcontent-%COMP%]{padding-bottom:50px}.page_1[_ngcontent-%COMP%]{text-align:center;align-self:center}.image_button_2[_ngcontent-%COMP%]{text-align:center;align-self:center;align-items:center}.mobile_box[_ngcontent-%COMP%]{text-align:center}.mobile3[_ngcontent-%COMP%]:before{left:87px}}']}),c})();var r0=$(4198);let Wy=(()=>{class c{constructor(s){this.afs=s,this.items=this.afs.collection("workouts").valueChanges()}getItems(){return this.items}}return c.\u0275fac=function(s){return new(s||c)(v.LFG(r0.AngularFirestore))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),o0=(()=>{class c{constructor(s){this.itemService=s}ngOnInit(){this.itemService.getItems().subscribe(s=>{console.log(s),this.items=s})}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(Wy))},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-coach"]],decls:13,vars:0,consts:[[1,"Coach"],[1,"container","p-5",2,"text-align","center"],["for","cars"],["type","text","placeholder","search"],[1,"Coach_boxes"],[1,"cbox"],[1,"cbox_1"]],template:function(s,f){1&s&&(v.TgZ(0,"main",0),v.TgZ(1,"div",1),v.TgZ(2,"label",2),v._uU(3,"Coach Finder"),v.qZA(),v._UZ(4,"input",3),v.qZA(),v.TgZ(5,"div",4),v.TgZ(6,"div",5),v.TgZ(7,"div",6),v._uU(8,"sree"),v.qZA(),v.TgZ(9,"h5"),v._uU(10,"sree"),v.qZA(),v.TgZ(11,"p"),v._uU(12,"sree"),v.qZA(),v.qZA(),v.qZA(),v.qZA())},styles:['.Coach_boxes[_ngcontent-%COMP%]{display:grid;justify-content:center;grid-template-columns:repeat(4,auto);grid-column-gap:20px}.cbox_1[_ngcontent-%COMP%]{background:#FEEFA8;padding:20px;text-align:center;box-sizing:content-box;width:200px;height:200px;display:flex;margin:10px;align-items:center;justify-content:center}.cbox[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .cbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.cbox[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px}.cbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.cbox[_ngcontent-%COMP%]:nth-child(2)   div[_ngcontent-%COMP%]:nth-child(1){background:#34383D}.cbox[_ngcontent-%COMP%]:nth-child(4)   div[_ngcontent-%COMP%]:nth-child(1){background:#34383D}@media (max-width: 1117px){.Coach_boxes[_ngcontent-%COMP%]{grid-template-columns:repeat(3,auto)}}@media (max-width: 831px){.Coach_boxes[_ngcontent-%COMP%]{grid-template-columns:repeat(2,auto)}}@media (max-width: 573px){.cbox_1[_ngcontent-%COMP%]{padding:20px;width:100px;margin:10px;height:100px}.cbox[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .cbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:initial;margin:10px}.cbox[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 331px){.Coach_boxes[_ngcontent-%COMP%]{grid-template-columns:repeat(1,auto)}}body[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:poppins}.box[_ngcontent-%COMP%]{background:#FEEFA8;margin-top:100px}.btn-dark[_ngcontent-%COMP%]{background:#34383D!important}#button[_ngcontent-%COMP%]{margin:10px}.page[_ngcontent-%COMP%]{overflow-x:hidden}.product_1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-size:17px;margin-bottom:100px}.product_1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px}.product_2[_ngcontent-%COMP%]{background:#34383D;z-index:-7;position:relative}.biss_module[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%], .client_module[_ngcontent-%COMP%]{text-align:left;padding-top:60px}.coach_module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:100px}.coach_module[_ngcontent-%COMP%]{margin-top:100px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-436px;left:-30px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-263px;left:-113px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:563px;height:3102px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-161px;left:-113px}.product_2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]   .coach_text[_ngcontent-%COMP%]{align-self:center}.box_1[_ngcontent-%COMP%], .box_3[_ngcontent-%COMP%], .box_6[_ngcontent-%COMP%], .box_8[_ngcontent-%COMP%]{background:#FEEFA8;padding:20px;text-align:center;box-sizing:content-box;width:200px;height:200px;display:flex;margin:10px;align-items:center;justify-content:center}.box_2[_ngcontent-%COMP%], .box_4[_ngcontent-%COMP%], .box_5[_ngcontent-%COMP%], .box_7[_ngcontent-%COMP%]{background:#34383D;display:flex;align-items:center;justify-content:center;padding:20px;color:#fff;text-align:center;box-sizing:content-box;width:200px;margin:10px;height:200px}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:15px;font-weight:bolder}.container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:400px;height:30px}.boxes_coach[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.boxes_coach[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px}.mobile_1[_ngcontent-%COMP%], .mobile_5[_ngcontent-%COMP%]{background-color:#34383d}.mobile_box[_ngcontent-%COMP%]{display:none}.mobile_3[_ngcontent-%COMP%]{background:linear-gradient(99.33deg,#FEEFA8 .55%,#F5E383 108.61%)}.mobile_text1[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text1[_ngcontent-%COMP%]   .text1_1[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_1[_ngcontent-%COMP%]{color:#feefa8}.mobile_text1[_ngcontent-%COMP%]   .text1_2[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_2[_ngcontent-%COMP%]{color:#fff;line-height:1.4em;padding-top:5px}.mobile_1[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile[_ngcontent-%COMP%]:before{content:"";width:685px;height:3173px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-14px;top:139px}.mobile_2[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_3[_ngcontent-%COMP%]{position:relative;z-index:7}.mobile_4[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_5[_ngcontent-%COMP%]{position:relative;z-index:2}.mobile2[_ngcontent-%COMP%]:before{content:"";width:800px;height:3173px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-146px;top:260px}.mobile3[_ngcontent-%COMP%]:before{content:"";width:600px;height:3000px;position:absolute;z-index:-5;background-repeat:no-repeat;left:103px;top:49px}.mobile4[_ngcontent-%COMP%]:before{content:"";width:756px;height:900px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-70px;top:60px}.mobile5[_ngcontent-%COMP%]:before{content:"";width:872px;height:900px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-350px;top:195px}.frontpage[_ngcontent-%COMP%]{overflow-x:hidden}.image_button[_ngcontent-%COMP%]{position:relative;left:-133px}.mobile[_ngcontent-%COMP%], .mobile2[_ngcontent-%COMP%], .mobile3[_ngcontent-%COMP%], .mobile4[_ngcontent-%COMP%], .mobile5[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text2[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text2[_ngcontent-%COMP%]   .text2_2[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%]   .text3_2[_ngcontent-%COMP%]{padding-top:10px}.page[_ngcontent-%COMP%]   .check_box[_ngcontent-%COMP%]{align-content:center;justify-content:center}.form-check[_ngcontent-%COMP%]{padding-left:3.25rem}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:30px}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 50px 20px 8px;border-radius:10px}.page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:table-row}.sign_up[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:10px}.name[_ngcontent-%COMP%]{margin-top:20px}.name[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.bday[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:38%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.age[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:20%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.gender[_ngcontent-%COMP%]{font-weight:bolder;font-size:17px}.dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 40px 20px 8px;border-radius:10px;position:relative;width:-webkit-max-content;width:max-content}.phone[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.password[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.form_elements[_ngcontent-%COMP%]{justify-content:center}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:10px 70px;background:#34383D;border-radius:5.25rem;color:#fff}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:active{outline:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 767px){.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}.check_box[_ngcontent-%COMP%]{align-items:center;justify-content:center;align-self:center}}@media (max-width: 991px){.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{left:-197px}.box[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]{display:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.mobile_box[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:19px}}@media screen and (max-width: 1200px){.image_button[_ngcontent-%COMP%]{position:relative;left:-74px}}@media screen and (max-width: 575px){.mobiles_mobile[_ngcontent-%COMP%]{padding-bottom:50px}.page_1[_ngcontent-%COMP%]{text-align:center;align-self:center}.image_button_2[_ngcontent-%COMP%]{text-align:center;align-self:center;align-items:center}.mobile_box[_ngcontent-%COMP%]{text-align:center}.mobile3[_ngcontent-%COMP%]:before{left:87px}}@media screen and (max-width: 510px){.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}}']}),c})(),s0=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-login"]],decls:2,vars:0,template:function(s,f){1&s&&(v.TgZ(0,"p"),v._uU(1,"login works!"),v.qZA())},styles:[""]}),c})(),Ev=(()=>{class c{constructor(s,f){this._renderer=s,this._elementRef=f,this.onChange=C=>{},this.onTouched=()=>{}}setProperty(s,f){this._renderer.setProperty(this._elementRef.nativeElement,s,f)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(v.Qsj),v.Y36(v.SBq))},c.\u0275dir=v.lG2({type:c}),c})(),_h=(()=>{class c extends Ev{}return c.\u0275fac=function(){let a;return function(f){return(a||(a=v.n5z(c)))(f||c)}}(),c.\u0275dir=v.lG2({type:c,features:[v.qOj]}),c})();const dl=new v.OlP("NgValueAccessor"),u0={provide:dl,useExisting:(0,v.Gpc)(()=>hl),multi:!0},l0=new v.OlP("CompositionEventMode");let hl=(()=>{class c extends Ev{constructor(s,f,C){super(s,f),this._compositionMode=C,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const c=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(c.toLowerCase())}())}writeValue(s){this.setProperty("value",null==s?"":s)}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(l0,8))},c.\u0275dir=v.lG2({type:c,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,f){1&s&&v.NdJ("input",function(D){return f._handleInput(D.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(D){return f._compositionEnd(D.target.value)})},features:[v._Bn([u0]),v.qOj]}),c})();function vh(c){return null==c||0===c.length}function c0(c){return null!=c&&"number"==typeof c.length}const wi=new v.OlP("NgValidators"),Rf=new v.OlP("NgAsyncValidators"),Dv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ro{static min(a){return c=a,a=>{if(vh(a.value)||vh(c))return null;const s=parseFloat(a.value);return!isNaN(s)&&s<c?{min:{min:c,actual:a.value}}:null};var c}static max(a){return c=a,a=>{if(vh(a.value)||vh(c))return null;const s=parseFloat(a.value);return!isNaN(s)&&s>c?{max:{max:c,actual:a.value}}:null};var c}static required(a){return vh(a.value)?{required:!0}:null}static requiredTrue(a){return!0===a.value?null:{required:!0}}static email(a){return vh((c=a).value)||Dv.test(c.value)?null:{email:!0};var c}static minLength(a){return c=a,a=>vh(a.value)||!c0(a.value)?null:a.value.length<c?{minlength:{requiredLength:c,actualLength:a.value.length}}:null;var c}static maxLength(a){return c=a,a=>c0(a.value)&&a.value.length>c?{maxlength:{requiredLength:c,actualLength:a.value.length}}:null;var c}static pattern(a){return function(c){if(!c)return bh;let a,s;return"string"==typeof c?(s="","^"!==c.charAt(0)&&(s+="^"),s+=c,"$"!==c.charAt(c.length-1)&&(s+="$"),a=new RegExp(s)):(s=c.toString(),a=c),f=>{if(vh(f.value))return null;const C=f.value;return a.test(C)?null:{pattern:{requiredPattern:s,actualValue:C}}}}(a)}static nullValidator(a){return null}static compose(a){return g0(a)}static composeAsync(a){return Av(a)}}function bh(c){return null}function Om(c){return null!=c}function Pm(c){const a=(0,v.QGY)(c)?(0,Lr.D)(c):c;return(0,v.CqO)(a),a}function Kr(c){let a={};return c.forEach(s=>{a=null!=s?Object.assign(Object.assign({},a),s):a}),0===Object.keys(a).length?null:a}function nE(c,a){return a.map(s=>s(c))}function Ky(c){return c.map(a=>function(c){return!c.validate}(a)?a:s=>a.validate(s))}function g0(c){if(!c)return null;const a=c.filter(Om);return 0==a.length?null:function(s){return Kr(nE(s,a))}}function Zy(c){return null!=c?g0(Ky(c)):null}function Av(c){if(!c)return null;const a=c.filter(Om);return 0==a.length?null:function(s){return Jd(nE(s,a).map(Pm)).pipe((0,an.U)(Kr))}}function Yy(c){return null!=c?Av(Ky(c)):null}function Mv(c,a){return null===c?[a]:Array.isArray(c)?[...c,a]:[c,a]}function m0(c){return c._rawValidators}function y0(c){return c._rawAsyncValidators}function xv(c){return c?Array.isArray(c)?c:[c]:[]}function Ch(c,a){return Array.isArray(c)?c.includes(a):c===a}function _0(c,a){const s=xv(a);return xv(c).forEach(C=>{Ch(s,C)||s.push(C)}),s}function v0(c,a){return xv(a).filter(s=>!Ch(c,s))}let b0=(()=>{class c{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(s){this._rawValidators=s||[],this._composedValidatorFn=Zy(this._rawValidators)}_setAsyncValidators(s){this._rawAsyncValidators=s||[],this._composedAsyncValidatorFn=Yy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(s){this._onDestroyCallbacks.push(s)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(s=>s()),this._onDestroyCallbacks=[]}reset(s){this.control&&this.control.reset(s)}hasError(s,f){return!!this.control&&this.control.hasError(s,f)}getError(s,f){return this.control?this.control.getError(s,f):null}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275dir=v.lG2({type:c}),c})(),io=(()=>{class c extends b0{get formDirective(){return null}get path(){return null}}return c.\u0275fac=function(){let a;return function(f){return(a||(a=v.n5z(c)))(f||c)}}(),c.\u0275dir=v.lG2({type:c,features:[v.qOj]}),c})();class cd extends b0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ov{constructor(a){this._cd=a}is(a){var s,f,C;return"submitted"===a?!!(null===(s=this._cd)||void 0===s?void 0:s.submitted):!!(null===(C=null===(f=this._cd)||void 0===f?void 0:f.control)||void 0===C?void 0:C[a])}}let Nf=(()=>{class c extends Ov{constructor(s){super(s)}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(cd,2))},c.\u0275dir=v.lG2({type:c,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,f){2&s&&v.ekj("ng-untouched",f.is("untouched"))("ng-touched",f.is("touched"))("ng-pristine",f.is("pristine"))("ng-dirty",f.is("dirty"))("ng-valid",f.is("valid"))("ng-invalid",f.is("invalid"))("ng-pending",f.is("pending"))},features:[v.qOj]}),c})(),eg=(()=>{class c extends Ov{constructor(s){super(s)}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(io,10))},c.\u0275dir=v.lG2({type:c,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,f){2&s&&v.ekj("ng-untouched",f.is("untouched"))("ng-touched",f.is("touched"))("ng-pristine",f.is("pristine"))("ng-dirty",f.is("dirty"))("ng-valid",f.is("valid"))("ng-invalid",f.is("invalid"))("ng-pending",f.is("pending"))("ng-submitted",f.is("submitted"))},features:[v.qOj]}),c})();function Rv(c,a){return[...a.path,c]}function Xy(c,a){Nv(c,a),a.valueAccessor.writeValue(c.value),function(c,a){a.valueAccessor.registerOnChange(s=>{c._pendingValue=s,c._pendingChange=!0,c._pendingDirty=!0,"change"===c.updateOn&&E0(c,a)})}(c,a),function(c,a){const s=(f,C)=>{a.valueAccessor.writeValue(f),C&&a.viewToModelUpdate(f)};c.registerOnChange(s),a._registerOnDestroy(()=>{c._unregisterOnChange(s)})}(c,a),function(c,a){a.valueAccessor.registerOnTouched(()=>{c._pendingTouched=!0,"blur"===c.updateOn&&c._pendingChange&&E0(c,a),"submit"!==c.updateOn&&c.markAsTouched()})}(c,a),function(c,a){if(a.valueAccessor.setDisabledState){const s=f=>{a.valueAccessor.setDisabledState(f)};c.registerOnDisabledChange(s),a._registerOnDestroy(()=>{c._unregisterOnDisabledChange(s)})}}(c,a)}function Rm(c,a,s=!0){const f=()=>{};a.valueAccessor&&(a.valueAccessor.registerOnChange(f),a.valueAccessor.registerOnTouched(f)),Nm(c,a),c&&(a._invokeOnDestroyCallbacks(),c._registerOnCollectionChange(()=>{}))}function Ff(c,a){c.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(a)})}function Nv(c,a){const s=m0(c);null!==a.validator?c.setValidators(Mv(s,a.validator)):"function"==typeof s&&c.setValidators([s]);const f=y0(c);null!==a.asyncValidator?c.setAsyncValidators(Mv(f,a.asyncValidator)):"function"==typeof f&&c.setAsyncValidators([f]);const C=()=>c.updateValueAndValidity();Ff(a._rawValidators,C),Ff(a._rawAsyncValidators,C)}function Nm(c,a){let s=!1;if(null!==c){if(null!==a.validator){const C=m0(c);if(Array.isArray(C)&&C.length>0){const D=C.filter(P=>P!==a.validator);D.length!==C.length&&(s=!0,c.setValidators(D))}}if(null!==a.asyncValidator){const C=y0(c);if(Array.isArray(C)&&C.length>0){const D=C.filter(P=>P!==a.asyncValidator);D.length!==C.length&&(s=!0,c.setAsyncValidators(D))}}}const f=()=>{};return Ff(a._rawValidators,f),Ff(a._rawAsyncValidators,f),s}function E0(c,a){c._pendingDirty&&c.markAsDirty(),c.setValue(c._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(c._pendingValue),c._pendingChange=!1}function Fv(c,a){if(!c.hasOwnProperty("model"))return!1;const s=c.model;return!!s.isFirstChange()||!Object.is(a,s.currentValue)}function e_(c,a){if(!a)return null;let s,f,C;return Array.isArray(a),a.forEach(D=>{D.constructor===hl?s=D:function(c){return Object.getPrototypeOf(c.constructor)===_h}(D)?f=D:C=D}),C||f||s||null}function t_(c,a){const s=c.indexOf(a);s>-1&&c.splice(s,1)}const km="VALID",Lm="INVALID",ng="PENDING",kf="DISABLED";function n_(c){return(Vv(c)?c.validators:c)||null}function kv(c){return Array.isArray(c)?Zy(c):c||null}function Lv(c,a){return(Vv(a)?a.asyncValidators:c)||null}function D0(c){return Array.isArray(c)?Yy(c):c||null}function Vv(c){return null!=c&&!Array.isArray(c)&&"object"==typeof c}class Vm{constructor(a,s){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=a,this._rawAsyncValidators=s,this._composedValidatorFn=kv(this._rawValidators),this._composedAsyncValidatorFn=D0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get valid(){return this.status===km}get invalid(){return this.status===Lm}get pending(){return this.status==ng}get disabled(){return this.status===kf}get enabled(){return this.status!==kf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._rawValidators=a,this._composedValidatorFn=kv(a)}setAsyncValidators(a){this._rawAsyncValidators=a,this._composedAsyncValidatorFn=D0(a)}addValidators(a){this.setValidators(_0(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(_0(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(v0(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(v0(a,this._rawAsyncValidators))}hasValidator(a){return Ch(this._rawValidators,a)}hasAsyncValidator(a){return Ch(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){this.touched=!0,this._parent&&!a.onlySelf&&this._parent.markAsTouched(a)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(a=>a.markAllAsTouched())}markAsUntouched(a={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}markAsDirty(a={}){this.pristine=!1,this._parent&&!a.onlySelf&&this._parent.markAsDirty(a)}markAsPristine(a={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}markAsPending(a={}){this.status=ng,!1!==a.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!a.onlySelf&&this._parent.markAsPending(a)}disable(a={}){const s=this._parentMarkedDirty(a.onlySelf);this.status=kf,this.errors=null,this._forEachChild(f=>{f.disable(Object.assign(Object.assign({},a),{onlySelf:!0}))}),this._updateValue(),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},a),{skipPristineCheck:s})),this._onDisabledChange.forEach(f=>f(!0))}enable(a={}){const s=this._parentMarkedDirty(a.onlySelf);this.status=km,this._forEachChild(f=>{f.enable(Object.assign(Object.assign({},a),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},a),{skipPristineCheck:s})),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(a){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(a){this._parent=a}updateValueAndValidity(a={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===km||this.status===ng)&&this._runAsyncValidator(a.emitEvent)),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity(a)}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kf:km}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a){if(this.asyncValidator){this.status=ng,this._hasOwnPendingAsyncValidator=!0;const s=Pm(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:a})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(a,s={}){this.errors=a,this._updateControlsErrors(!1!==s.emitEvent)}get(a){return function(c,a,s){if(null==a||(Array.isArray(a)||(a=a.split(".")),Array.isArray(a)&&0===a.length))return null;let f=c;return a.forEach(C=>{f=f instanceof rg?f.controls.hasOwnProperty(C)?f.controls[C]:null:f instanceof Uv&&f.at(C)||null}),f}(this,a)}getError(a,s){const f=s?this.get(s):this;return f&&f.errors?f.errors[a]:null}hasError(a,s){return!!this.getError(a,s)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(a)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?kf:this.errors?Lm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ng)?ng:this._anyControlsHaveStatus(Lm)?Lm:km}_anyControlsHaveStatus(a){return this._anyControls(s=>s.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a={}){this.pristine=!this._anyControlsDirty(),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}_updateTouched(a={}){this.touched=this._anyControlsTouched(),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}_isBoxedValue(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){Vv(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vs extends Vm{constructor(a=null,s,f){super(n_(s),Lv(f,s)),this._onChange=[],this._applyFormState(a),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(a,s={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(a,s={}){this.setValue(a,s)}reset(a=null,s={}){this._applyFormState(a),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){t_(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){t_(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){this._isBoxedValue(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}}class rg extends Vm{constructor(a,s,f){super(n_(s),Lv(f,s)),this.controls=a,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,s){return this.controls[a]?this.controls[a]:(this.controls[a]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(a,s,f={}){this.registerControl(a,s),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(a,s={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(a,s,f={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],s&&this.registerControl(a,s),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,s={}){this._checkAllValuesPresent(a),Object.keys(a).forEach(f=>{this._throwIfControlMissing(f),this.controls[f].setValue(a[f],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(a,s={}){null!=a&&(Object.keys(a).forEach(f=>{this.controls[f]&&this.controls[f].patchValue(a[f],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(a={},s={}){this._forEachChild((f,C)=>{f.reset(a[C],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(a,s,f)=>(a[f]=s instanceof vs?s.value:s.getRawValue(),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(s,f)=>!!f._syncPendingControls()||s);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[a])throw new Error(`Cannot find form control with name: ${a}.`)}_forEachChild(a){Object.keys(this.controls).forEach(s=>{const f=this.controls[s];f&&a(f,s)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const s of Object.keys(this.controls)){const f=this.controls[s];if(this.contains(s)&&a(f))return!0}return!1}_reduceValue(){return this._reduceChildren({},(a,s,f)=>((s.enabled||this.disabled)&&(a[f]=s.value),a))}_reduceChildren(a,s){let f=a;return this._forEachChild((C,D)=>{f=s(f,C,D)}),f}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(a){this._forEachChild((s,f)=>{if(void 0===a[f])throw new Error(`Must supply a value for form control with name: '${f}'.`)})}}class Uv extends Vm{constructor(a,s,f){super(n_(s),Lv(f,s)),this.controls=a,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[a]}push(a,s={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}insert(a,s,f={}){this.controls.splice(a,0,s),this._registerControl(s),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(a,s={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),this.updateValueAndValidity({emitEvent:s.emitEvent})}setControl(a,s,f={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),s&&(this.controls.splice(a,0,s),this._registerControl(s)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,s={}){this._checkAllValuesPresent(a),a.forEach((f,C)=>{this._throwIfControlMissing(C),this.at(C).setValue(f,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(a,s={}){null!=a&&(a.forEach((f,C)=>{this.at(C)&&this.at(C).patchValue(f,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(a=[],s={}){this._forEachChild((f,C)=>{f.reset(a[C],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this.controls.map(a=>a instanceof vs?a.value:a.getRawValue())}clear(a={}){this.controls.length<1||(this._forEachChild(s=>s._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_syncPendingControls(){let a=this.controls.reduce((s,f)=>!!f._syncPendingControls()||s,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_throwIfControlMissing(a){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(a))throw new Error(`Cannot find form control at index ${a}`)}_forEachChild(a){this.controls.forEach((s,f)=>{a(s,f)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(s=>s.enabled&&a(s))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_checkAllValuesPresent(a){this._forEachChild((s,f)=>{if(void 0===a[f])throw new Error(`Must supply a value for form control at index: ${f}.`)})}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}}const A0={provide:cd,useExisting:(0,v.Gpc)(()=>jv)},M0=(()=>Promise.resolve(null))();let jv=(()=>{class c extends cd{constructor(s,f,C,D){super(),this.control=new vs,this._registered=!1,this.update=new v.vpe,this._parent=s,this._setValidators(f),this._setAsyncValidators(C),this.valueAccessor=e_(0,D)}ngOnChanges(s){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in s&&this._updateDisabled(s),Fv(s,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Rv(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(s){M0.then(()=>{this.control.setValue(s,{emitViewToModelChange:!1})})}_updateDisabled(s){const f=s.isDisabled.currentValue,C=""===f||f&&"false"!==f;M0.then(()=>{C&&!this.control.disabled?this.control.disable():!C&&this.control.disabled&&this.control.enable()})}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(io,9),v.Y36(wi,10),v.Y36(Rf,10),v.Y36(dl,10))},c.\u0275dir=v.lG2({type:c,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v._Bn([A0]),v.qOj,v.TTD]}),c})(),r_=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275dir=v.lG2({type:c,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),c})();const $v={provide:dl,useExisting:(0,v.Gpc)(()=>qv),multi:!0};let x0=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({}),c})(),zv=(()=>{class c{constructor(){this._accessors=[]}add(s,f){this._accessors.push([s,f])}remove(s){for(let f=this._accessors.length-1;f>=0;--f)if(this._accessors[f][1]===s)return void this._accessors.splice(f,1)}select(s){this._accessors.forEach(f=>{this._isSameGroup(f,s)&&f[1]!==s&&f[1].fireUncheck(s.value)})}_isSameGroup(s,f){return!!s[0].control&&s[0]._parent===f._control._parent&&s[1].name===f.name}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=(0,v.Yz7)({factory:function(){return new c},token:c,providedIn:x0}),c})(),qv=(()=>{class c extends _h{constructor(s,f,C,D){super(s,f),this._registry=C,this._injector=D,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(cd),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(s){this._state=s===this.value,this.setProperty("checked",this._state)}registerOnChange(s){this._fn=s,this.onChange=()=>{s(this.value),this._registry.select(this)}}fireUncheck(s){this.writeValue(s)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(zv),v.Y36(v.zs3))},c.\u0275dir=v.lG2({type:c,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(s,f){1&s&&v.NdJ("change",function(){return f.onChange()})("blur",function(){return f.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[v._Bn([$v]),v.qOj]}),c})();const i_=new v.OlP("NgModelWithFormControlWarning"),eT={provide:io,useExisting:(0,v.Gpc)(()=>o_)};let o_=(()=>{class c extends io{constructor(s,f){super(),this.validators=s,this.asyncValidators=f,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(s),this._setAsyncValidators(f)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const f=this.form.get(s.path);return Xy(f,s),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),f}getControl(s){return this.form.get(s.path)}removeControl(s){Rm(s.control||null,s,!1),t_(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,f){this.form.get(s.path).setValue(f)}onSubmit(s){return this.submitted=!0,function(c,a){c._syncPendingControls(),a.forEach(s=>{const f=s.control;"submit"===f.updateOn&&f._pendingChange&&(s.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(s),!1}onReset(){this.resetForm()}resetForm(s){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const f=s.control,C=this.form.get(s.path);f!==C&&(Rm(f||null,s),C instanceof vs&&(Xy(C,s),s.control=C))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const f=this.form.get(s.path);(function(c,a){Nv(c,a)})(f,s),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const f=this.form.get(s.path);f&&function(c,a){return Nm(c,a)}(f,s)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nv(this.form,this),this._oldForm&&Nm(this._oldForm,this)}_checkFormPresent(){}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(wi,10),v.Y36(Rf,10))},c.\u0275dir=v.lG2({type:c,selectors:[["","formGroup",""]],hostBindings:function(s,f){1&s&&v.NdJ("submit",function(D){return f.onSubmit(D)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([eT]),v.qOj,v.TTD]}),c})();const og={provide:cd,useExisting:(0,v.Gpc)(()=>Zv)};let Zv=(()=>{class c extends cd{constructor(s,f,C,D,P){super(),this._ngModelWarningConfig=P,this._added=!1,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(f),this._setAsyncValidators(C),this.valueAccessor=e_(0,D)}set isDisabled(s){}ngOnChanges(s){this._added||this._setUpControl(),Fv(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return Rv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(io,13),v.Y36(wi,10),v.Y36(Rf,10),v.Y36(dl,10),v.Y36(i_,8))},c.\u0275dir=v.lG2({type:c,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([og]),v.qOj,v.TTD]}),c._ngModelWarningSentOnce=!1,c})(),sg=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({imports:[[x0]]}),c})(),TE=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({imports:[sg]}),c})(),W0=(()=>{class c{static withConfig(s){return{ngModule:c,providers:[{provide:i_,useValue:s.warnOnNgModelWithFormControl}]}}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({imports:[sg]}),c})(),DE=(()=>{class c{group(s,f=null){const C=this._reduceControls(s);let U,D=null,P=null;return null!=f&&(function(c){return void 0!==c.asyncValidators||void 0!==c.validators||void 0!==c.updateOn}(f)?(D=null!=f.validators?f.validators:null,P=null!=f.asyncValidators?f.asyncValidators:null,U=null!=f.updateOn?f.updateOn:void 0):(D=null!=f.validator?f.validator:null,P=null!=f.asyncValidator?f.asyncValidator:null)),new rg(C,{asyncValidators:P,updateOn:U,validators:D})}control(s,f,C){return new vs(s,f,C)}array(s,f,C){const D=s.map(P=>this._createControl(P));return new Uv(D,f,C)}_reduceControls(s){const f={};return Object.keys(s).forEach(C=>{f[C]=this._createControl(s[C])}),f}_createControl(s){return s instanceof vs||s instanceof rg||s instanceof Uv?s:Array.isArray(s)?this.control(s[0],s.length>1?s[1]:null,s.length>2?s[2]:null):this.control(s)}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275prov=(0,v.Yz7)({factory:function(){return new c},token:c,providedIn:W0}),c})();function SE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Username is required"),v.qZA())}function IE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1,"First Name Should be atleast 3 Characters"),v.qZA())}function AE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1,"First Name has limit of 35 Characters"),v.qZA())}function ME(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1,"First Name can have only Alphabets"),v.qZA())}function xE(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,SE,2,0,"div",42),v.YNc(2,IE,2,0,"div",42),v.YNc(3,AE,2,0,"div",42),v.YNc(4,ME,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.firstname.errors.required),v.xp6(1),v.Q6J("ngIf",s.f.firstname.errors.minlength),v.xp6(1),v.Q6J("ngIf",s.f.firstname.errors.maxlength),v.xp6(1),v.Q6J("ngIf",s.f.firstname.errors.pattern&&!s.f.firstname.errors.maxlength&&!s.f.firstname.errors.minlength)}}function OE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Lastname is required"),v.qZA())}function PE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1,"First Name Should be atleast 3 Characters"),v.qZA())}function sT(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1,"First Name has limit of 35 Characters"),v.qZA())}function RE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1,"First Name can have only Alphabets"),v.qZA())}function Bm(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,OE,2,0,"div",42),v.YNc(2,PE,2,0,"div",42),v.YNc(3,sT,2,0,"div",42),v.YNc(4,RE,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.lastname.errors.required),v.xp6(1),v.Q6J("ngIf",s.f.lastname.errors.minlength),v.xp6(1),v.Q6J("ngIf",s.f.lastname.errors.maxlength),v.xp6(1),v.Q6J("ngIf",s.f.lastname.errors.pattern&&!s.f.lastname.errors.maxlength&&!s.f.lastname.errors.minlength)}}function NE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Date Of Birth is required"),v.qZA())}function FE(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,NE,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.dateofbirth.errors.required)}}function kE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Enter your Age "),v.qZA())}function d_(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,kE,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.age.errors.pattern)}}function Vf(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Gender is required"),v.qZA())}function K0(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,Vf,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.gender.errors.required)}}function LE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Phone Number is Required"),v.qZA())}function aT(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Please Enter Valid Phone Number. "),v.qZA())}function VE(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,LE,2,0,"div",42),v.YNc(2,aT,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.phone.errors.required),v.xp6(1),v.Q6J("ngIf",s.f.phone.errors.pattern)}}function h_(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Email is Required"),v.qZA())}function UE(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Please Enter Valid Email "),v.qZA())}function BE(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,h_,2,0,"div",42),v.YNc(2,UE,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.email.errors.required),v.xp6(1),v.Q6J("ngIf",s.f.email.errors.pattern)}}function Z0(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Password is Required"),v.qZA())}function Y0(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Password should contains min 8 Charector"),v.qZA())}function nb(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,Z0,2,0,"div",42),v.YNc(2,Y0,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.password.errors.required),v.xp6(1),v.Q6J("ngIf",s.f.password.errors.minlength)}}function Q0(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," didnt match"),v.qZA())}function J0(c,a){1&c&&(v.TgZ(0,"div"),v._uU(1," Confirm your Password"),v.qZA())}function jE(c,a){if(1&c&&(v.TgZ(0,"div",41),v.YNc(1,Q0,2,0,"div",42),v.YNc(2,J0,2,0,"div",42),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngIf",s.f.Confirm_password.errors.MustMatch),v.xp6(1),v.Q6J("ngIf",s.f.Confirm_password.errors.required)}}let GE=(()=>{class c{constructor(s){this.formBuilder=s,this.submitted=!1,this.reactiveForm=this.formBuilder.group({firstname:new vs(null,[ro.required,ro.minLength(3),ro.maxLength(25),ro.pattern("^[a-zA-Z ]*$")]),lastname:new vs(null,[ro.required,ro.minLength(3),ro.maxLength(25),ro.pattern("^[a-zA-Z ]*$")]),dateofbirth:new vs(null,[ro.required]),age:new vs(null,[ro.required,ro.pattern("^(0|[1-9][0-9]*)$")]),email:new vs(null,[ro.required,ro.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),gender:new vs(null,[ro.required]),phone:new vs(null,[ro.required,ro.pattern("(0|91)?[7-9][0-9]{9}")]),Confirm_password:new vs(null,[ro.required]),password:new vs(null,[ro.required,ro.minLength(8)])},{validators:this.MustMatch("password","Confirm_password")}),this.reactiveForm.reset()}get f(){return this.reactiveForm.controls}MustMatch(s,f){return C=>{const P=C.controls[f];P.errors&&!P.errors.MustMatch||P.setErrors(C.controls[s].value!==P.value?{MustMatch:!0}:null)}}onSubmit(){this.submitted=!0,console.log(this.reactiveForm.value)}ngOnInit(){}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(DE))},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-signup"]],decls:83,vars:10,consts:[[1,"page"],[1,"container","sign_up"],[1,"row","check_box"],[1,"row","dotted"],[1,"form-check"],["type","radio","name","exampleRadios","id","exampleRadios1","value","option1","checked","",1,"form-check-input"],["for","exampleRadios1",1,"form-check-label"],["type","radio","name","exampleRadios","id","exampleRadios2","value","option2",1,"form-check-input"],["for","exampleRadios2",1,"form-check-label"],[1,"mt-5","formaction",3,"formGroup","ngSubmit"],[1,"row","name"],[1,"form-group","col-lg-6"],["for","firstname"],["type","text","id","firstname","placeholder","Enter name","name","firstname","formControlName","firstname",1,"form-control"],["class","err",4,"ngIf"],["for","lastname"],["type","text","id","lastname","placeholder","Enter Name","name","lastname","formControlName","lastname",1,"form-control"],[1,"row"],[1,"form-group","bday","col-lg-6"],["for","birthday"],["type","date","id","birthday","name","dateofbirth","formControlName","dateofbirth",1,"form-control"],[1,"form-group","age","col-lg-6"],["for","age"],["type","text","id","age","name","age","formControlName","age",1,"form-control"],[1,"gender"],[1,"form-check","for_gender"],["type","radio","name","male","id","exampleRadios1","value","male","formControlName","gender",1,"form-check-input"],["type","radio","name","male","id","exampleRadios2","value","female","formControlName","gender",1,"form-check-input"],[1,"row","phone"],["for","phone"],["type","text","id","phone","placeholder","Phone number","name","phone","formControlName","phone",1,"form-control"],["for","exampleFormControlInput1"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com","name","email","formControlName","email",1,"form-control"],[1,"row","password"],["for","inputPassword"],["type","password","id","inputPassword","placeholder","Password","name","password","formControlName","password",1,"form-control"],["for","confirmpass"],["type","password","id","confirmpass","placeholder","Password","name","password","formControlName","Confirm_password",1,"form-control"],[1,"col-12","mb-5","Registeration",2,"text-align","center"],["type","submit",1,"btn","btn","submit"],["href","/shapmeup/src/app/login/login.component.html"],[1,"err"],[4,"ngIf"]],template:function(s,f){1&s&&(v.TgZ(0,"main",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v.TgZ(3,"div",3),v.TgZ(4,"div",4),v._UZ(5,"input",5),v.TgZ(6,"label",6),v._uU(7," Coach "),v.qZA(),v.qZA(),v.TgZ(8,"div",4),v._UZ(9,"input",7),v.TgZ(10,"label",8),v._uU(11," Client "),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(12,"form",9),v.NdJ("ngSubmit",function(){return f.onSubmit()}),v.TgZ(13,"div",10),v.TgZ(14,"div",11),v.TgZ(15,"label",12),v._uU(16,"First Name*"),v.qZA(),v._UZ(17,"input",13),v.YNc(18,xE,5,4,"div",14),v.qZA(),v.TgZ(19,"div",11),v.TgZ(20,"label",15),v._uU(21,"Last Name*"),v.qZA(),v._UZ(22,"input",16),v.YNc(23,Bm,5,4,"div",14),v.qZA(),v.qZA(),v.TgZ(24,"div",17),v.TgZ(25,"div",18),v.TgZ(26,"label",19),v._uU(27,"Date of Birth*"),v.qZA(),v._UZ(28,"input",20),v.YNc(29,FE,2,1,"div",14),v.qZA(),v.TgZ(30,"div",21),v.TgZ(31,"label",22),v._uU(32,"Age"),v.qZA(),v._UZ(33,"input",23),v.YNc(34,d_,2,1,"div",14),v.qZA(),v.qZA(),v.TgZ(35,"h5",24),v._uU(36,"Gender*"),v.qZA(),v.TgZ(37,"div",3),v.TgZ(38,"div",25),v._UZ(39,"input",26),v.TgZ(40,"label",6),v._uU(41," Male "),v.qZA(),v.qZA(),v.TgZ(42,"div",4),v._UZ(43,"input",27),v.TgZ(44,"label",8),v._uU(45," Female "),v.qZA(),v.qZA(),v._uU(46," \xa0 "),v._UZ(47,"br"),v._UZ(48,"br"),v.YNc(49,K0,2,1,"div",14),v.qZA(),v._UZ(50,"br"),v.TgZ(51,"div",28),v.TgZ(52,"div",11),v.TgZ(53,"label",29),v._uU(54,"Phone number*"),v.qZA(),v._UZ(55,"input",30),v.YNc(56,VE,3,2,"div",14),v.qZA(),v.TgZ(57,"div",11),v.TgZ(58,"label",31),v._uU(59,"Email*"),v.qZA(),v._UZ(60,"input",32),v.YNc(61,BE,3,2,"div",14),v.qZA(),v.qZA(),v.TgZ(62,"div",33),v.TgZ(63,"div",11),v.TgZ(64,"label",34),v._uU(65,"Password*"),v.qZA(),v._UZ(66,"input",35),v.YNc(67,nb,3,2,"div",14),v.qZA(),v.TgZ(68,"div",11),v.TgZ(69,"label",36),v._uU(70,"Confirm Password*"),v.qZA(),v._UZ(71,"input",37),v.YNc(72,jE,3,2,"div",14),v.qZA(),v.qZA(),v._UZ(73,"br"),v._UZ(74,"br"),v.TgZ(75,"div",38),v.TgZ(76,"button",39),v._uU(77,"Finish Registeration"),v.qZA(),v._UZ(78,"br"),v.TgZ(79,"small"),v._uU(80,"Already have an account?"),v.TgZ(81,"a",40),v._uU(82,"Login"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&s&&(v.xp6(12),v.Q6J("formGroup",f.reactiveForm),v.xp6(6),v.Q6J("ngIf",f.submitted&&f.f.firstname.errors),v.xp6(5),v.Q6J("ngIf",f.submitted&&f.f.lastname.errors),v.xp6(6),v.Q6J("ngIf",f.submitted&&f.f.dateofbirth.errors),v.xp6(5),v.Q6J("ngIf",f.submitted&&f.f.age.errors),v.xp6(15),v.Q6J("ngIf",f.submitted&&f.f.gender.errors),v.xp6(7),v.Q6J("ngIf",f.submitted&&f.f.phone.errors),v.xp6(5),v.Q6J("ngIf",f.submitted&&f.f.email.errors),v.xp6(6),v.Q6J("ngIf",f.submitted&&f.f.password.errors),v.xp6(5),v.Q6J("ngIf",f.submitted&&f.f.Confirm_password.errors))},directives:[r_,eg,o_,hl,Nf,Zv,B.O5,qv],styles:["body[_ngcontent-%COMP%]{overflow-x:hidden}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:15px;font-weight:bolder}.container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:400px;height:30px}.boxes_coach[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.boxes_coach[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px}.mobile_1[_ngcontent-%COMP%], .mobile_5[_ngcontent-%COMP%]{background:#34383D}.mobile_box[_ngcontent-%COMP%]{display:none}.mobile_3[_ngcontent-%COMP%]{background:linear-gradient(99.33deg,#FEEFA8 .55%,#F5E383 108.61%)}.mobile_text1[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text1[_ngcontent-%COMP%]   .text1_1[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_1[_ngcontent-%COMP%]{color:#feefa8}.mobile_text1[_ngcontent-%COMP%]   .text1_2[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_2[_ngcontent-%COMP%]{color:#fff;line-height:1.4em;padding-top:5px}.mobile_1[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_2[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_3[_ngcontent-%COMP%]{position:relative;z-index:7}.mobile_4[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_5[_ngcontent-%COMP%]{position:relative;z-index:2}.frontpage[_ngcontent-%COMP%]{overflow-x:hidden}.image_button[_ngcontent-%COMP%]{position:relative;left:-133px}.mobile[_ngcontent-%COMP%], .mobile2[_ngcontent-%COMP%], .mobile3[_ngcontent-%COMP%], .mobile4[_ngcontent-%COMP%], .mobile5[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text2[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text2[_ngcontent-%COMP%]   .text2_2[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%]   .text3_2[_ngcontent-%COMP%]{padding-top:10px}.page[_ngcontent-%COMP%]   .check_box[_ngcontent-%COMP%]{align-content:center;justify-content:center}.form-check[_ngcontent-%COMP%]{padding-left:3.25rem}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:30px}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 50px 20px 8px;border-radius:10px}.page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:table-row}.sign_up[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:10px}.name[_ngcontent-%COMP%]{margin-top:20px}.name[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.bday[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:38%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.age[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:20%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.gender[_ngcontent-%COMP%]{font-weight:bolder;font-size:17px}.dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 40px 20px 8px;border-radius:10px;position:relative;width:-webkit-max-content;width:max-content}.phone[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.password[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.form_elements[_ngcontent-%COMP%]{justify-content:center}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:10px 70px;background:#34383D;border-radius:5.25rem;color:#fff}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:active{outline:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 767px){.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.form-check[_ngcontent-%COMP%]{padding-left:53px;padding-right:17px}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}.check_box[_ngcontent-%COMP%]{align-items:center;justify-content:center;align-self:center}}@media (max-width: 991px){.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{left:-197px}.box[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]{display:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.mobile_box[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:19px}}@media screen and (max-width: 1200px){.image_button[_ngcontent-%COMP%]{position:relative;left:-74px}}@media screen and (max-width: 575px){.mobiles_mobile[_ngcontent-%COMP%]{padding-bottom:50px}.page_1[_ngcontent-%COMP%]{text-align:center;align-self:center}.image_button_2[_ngcontent-%COMP%]{text-align:center;align-self:center;align-items:center}.mobile_box[_ngcontent-%COMP%]{text-align:center}.mobile3[_ngcontent-%COMP%]:before{left:87px}}@media screen and (max-width: 510px){.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}}.err[_ngcontent-%COMP%]{color:red}"]}),c})();var X0=$(9105);function eC(c,a,s){return s?eC(c,a).pipe((0,an.U)(f=>(0,pa.k)(f)?s(...f):s(f))):new jr.y(f=>{const C=(...P)=>f.next(1===P.length?P[0]:P);let D;try{D=c(C)}catch(P){return void f.error(P)}if((0,X0.m)(a))return()=>a(C,D)})}var rb=$(4022),f_=$(6682),jm=$(4458),Uf=$(7057),ag=$(6888);const Gm=["youtubeContainer"];let wa=(()=>{class c{constructor(s,f){this._ngZone=s,this._youtubeContainer=new yr.xQ,this._destroyed=new yr.xQ,this._playerChanges=new nr(void 0),this._videoId=new nr(void 0),this._height=new nr(390),this._width=new nr(640),this._startSeconds=new nr(void 0),this._endSeconds=new nr(void 0),this._suggestedQuality=new nr(void 0),this._playerVars=new nr(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,B.NF)(f)}get videoId(){return this._videoId.value}set videoId(s){this._videoId.next(s)}get height(){return this._height.value}set height(s){this._height.next(s||390)}get width(){return this._width.value}set width(s){this._width.next(s||640)}set startSeconds(s){this._startSeconds.next(s)}set endSeconds(s){this._endSeconds.next(s)}set suggestedQuality(s){this._suggestedQuality.next(s)}get playerVars(){return this._playerVars.value}set playerVars(s){this._playerVars.next(s)}ngOnInit(){if(!this._isBrowser)return;let s=(0,Ot.of)(!0);if(!window.YT||!window.YT.Player){const C=new yr.xQ;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>C.next(!0))},s=C.pipe((0,Su.q)(1),(0,ec.O)(!1))}const f=function(c,a,s,f,C,D,P){const U=ns([a,D]).pipe((0,Uf.M)(ns([f,C])),(0,an.U)(([W,me])=>{const[we,He]=W,[je,nt]=me;return we?{videoId:we,playerVars:He,width:je,height:nt}:void 0}));return ns([c,U,(0,Ot.of)(P)]).pipe(function(c){return(0,rb.z)(function(...c){let a=null;return"function"==typeof c[c.length-1]&&(a=c.pop()),1===c.length&&(0,pa.k)(c[0])&&(c=c[0].slice()),s=>s.lift.call((0,Lr.D)([s,...c]),new Vr(a))}(c),(0,ag.n)(([a,s])=>!s),(0,an.U)(([a])=>a))}(s),(0,Sy.R)(cT,void 0),(0,Ai.x)())}(this._youtubeContainer,this._videoId,s,this._width,this._height,this._playerVars,this._ngZone).pipe((0,Ei.b)(C=>{this._playerChanges.next(C)}),(0,Io.zg)(a=>a?Ta(a)?(0,Ot.of)(a):new jr.y(s=>{let f=!1,C=!1;const D=P=>{C=!0,f||(P.target.removeEventListener("onReady",D),s.next(P.target))};return a.addEventListener("onReady",D),()=>{f=!0,C||(C=>{Ta(C)||C.destroy()})(a)}}).pipe((0,Su.q)(1),(0,ec.O)(void 0)):(0,Ot.of)(void 0)),Js(this._destroyed),(0,jm.O)(new yr.xQ));f.subscribe(C=>{this._player=C,C&&this._pendingPlayerState&&this._initializePlayer(C,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(c,a,s){ns([c,a,s]).subscribe(([f,C,D])=>f&&f.setSize(C,D))}(f,this._width,this._height),function(c,a){ns([c,a]).subscribe(([s,f])=>s&&f&&s.setPlaybackQuality(f))}(f,this._suggestedQuality),function(c,a,s,f,C,D){const P=ns([s,f]).pipe((0,an.U)(([we,He])=>({startSeconds:we,endSeconds:He}))),U=P.pipe(Mr(c,we=>!!we&&!function(c){const a=c.getPlayerState();return a!==YT.PlayerState.UNSTARTED&&a!==YT.PlayerState.CUED}(we))),W=a.pipe(Mr(c,(we,He)=>!!we&&we.videoId!==He)),me=c.pipe(Mr(ns([a,P]),([we,He],je)=>!(!je||we==je.videoId&&!He.startSeconds&&!He.endSeconds)));(0,f_.T)(me,W,U).pipe((0,Uf.M)(ns([c,a,P,C])),(0,an.U)(([we,He])=>He),Js(D)).subscribe(([we,He,je,nt])=>{!He||!we||(we.videoId=He,we.cueVideoById(Object.assign({videoId:He,suggestedQuality:nt},je)))})}(f,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),f.connect()}createEventsBoundInZone(){return{}}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(s,f){this._player?this._player.seekTo(s,f):this._getPendingState().seek={seconds:s,allowSeekAhead:f}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(s){this._player?this._player.setVolume(s):this._getPendingState().volume=s}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(s){if(this._player)return this._player.setPlaybackRate(s);this._getPendingState().playbackRate=s}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(s,f){const{playbackState:C,playbackRate:D,volume:P,muted:U,seek:W}=f;switch(C){case YT.PlayerState.PLAYING:s.playVideo();break;case YT.PlayerState.PAUSED:s.pauseVideo();break;case YT.PlayerState.CUED:s.stopVideo()}null!=D&&s.setPlaybackRate(D),null!=P&&s.setVolume(P),null!=U&&(U?s.mute():s.unMute()),null!=W&&s.seekTo(W.seconds,W.allowSeekAhead)}_getLazyEmitter(s){return this._playerChanges.pipe((0,En.w)(f=>f?eC(C=>{f.addEventListener(s,C)},C=>{try{f.removeEventListener&&f.removeEventListener(s,C)}catch(D){}}):(0,Ot.of)()),f=>new jr.y(C=>f.subscribe({next:D=>this._ngZone.run(()=>C.next(D)),error:D=>C.error(D),complete:()=>C.complete()})),Js(this._destroyed))}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(v.R0b),v.Y36(v.Lbi))},c.\u0275cmp=v.Xpm({type:c,selectors:[["youtube-player"]],viewQuery:function(s,f){if(1&s&&v.Gf(Gm,5),2&s){let C;v.iGM(C=v.CRH())&&(f.youtubeContainer=C.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(s,f){1&s&&v._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),c})();function cT(c,[a,s,f]){if(c&&s&&c.playerVars!==s.playerVars)c.destroy();else{if(!s)return void(c&&c.destroy());if(c)return c}const C=f.runOutsideAngular(()=>new YT.Player(a,s));return C.videoId=s.videoId,C.playerVars=s.playerVars,C}function Ta(c){return"getPlayerStatus"in c}function Mr(c,a){return(0,rb.z)((0,Uf.M)(c),(0,Ju.h)(([s,f])=>a(f,s)),(0,an.U)(([s])=>s))}let rC=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({}),c})();function qE(c,a){if(1&c&&(v.TgZ(0,"div",6),v._uU(1),v.TgZ(2,"div",7),v.TgZ(3,"p",8),v._UZ(4,"youtube-player",9),v.qZA(),v.qZA(),v.qZA()),2&c){const s=a.$implicit;v.xp6(1),v.hij(" ",s.name," "),v.xp6(3),v.Q6J("height",200)("width",400)("startSeconds",4)("endSeconds",8)}}function iC(c,a){if(1&c&&(v.TgZ(0,"div",4),v.YNc(1,qE,5,5,"div",5),v.qZA()),2&c){const s=v.oxw();v.xp6(1),v.Q6J("ngForOf",s.items)}}const ug=[{path:"",redirectTo:"/mobile",pathMatch:"full"},{path:"about",component:eE},{path:"mobile",component:XC},{path:"excercise",component:(()=>{class c{constructor(s){this.itemService=s,this.items=[]}ngOnInit(){this.itemService.getItems().subscribe(s=>{console.log(s),this.items=s})}Search(){""==this.name?this.ngOnInit():this.name==this.name&&(this.items=this.items.filter(s=>s.name.toLocaleLowerCase().match(this.name.toLocaleLowerCase())))}}return c.\u0275fac=function(s){return new(s||c)(v.Y36(Wy))},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-excercise"]],decls:6,vars:2,consts:[[1,"container","p-5",2,"text-align","center"],["for","cars"],["type","text","placeholder","search","name","name",3,"ngModel","ngModelChange"],["class","boxes_Excercise",4,"ngIf"],[1,"boxes_Excercise"],["class","dropdown",4,"ngFor","ngForOf"],[1,"dropdown"],[1,"dropdown_content"],[1,"mt-5","video",2,"color","white"],["videoId","GYAB4Td62zI","suggestedQuality","highres",3,"height","width","startSeconds","endSeconds"]],template:function(s,f){1&s&&(v.TgZ(0,"main"),v.TgZ(1,"div",0),v.TgZ(2,"label",1),v._uU(3,"Workout Categories"),v.qZA(),v.TgZ(4,"input",2),v.NdJ("ngModelChange",function(D){return f.name=D})("ngModelChange",function(){return f.Search()}),v.qZA(),v.qZA(),v.YNc(5,iC,2,1,"div",3),v.qZA()),2&s&&(v.xp6(4),v.Q6J("ngModel",f.name),v.xp6(1),v.Q6J("ngIf",f.items.length>0))},directives:[hl,Nf,jv,B.O5,B.sg,wa],styles:['body[_ngcontent-%COMP%]{width:100%;height:100%}.boxes_Excercise[_ngcontent-%COMP%]{display:grid;justify-content:center;grid-template-columns:repeat(4,auto);grid-column-gap:20px}.dropdown[_ngcontent-%COMP%]{background:#FEEFA8;display:flex;align-items:center;justify-content:center;padding:20px;color:#000;text-align:center;box-sizing:content-box;width:200px;margin:10px;height:200px}.boxes_Excercise[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){background:#34383D;color:#fff}.boxes_Excercise[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){background:#34383D;color:#fff}.boxes_Excercise[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){background:#34383D;color:#fff}.boxes_Excercise[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){background:#34383D;color:#fff}.dropdown_content[_ngcontent-%COMP%]{display:none;position:absolute;background:#34383D;box-shadow:0 8px 16px #0003;z-index:1;width:513px;height:298px;border-radius:5px;left:10px;margin-bottom:150px;margin-top:728px}.boxes_Excercise[_ngcontent-%COMP%]{margin-bottom:200px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown_content[_ngcontent-%COMP%]:before{position:absolute;background:#34383D;width:224px;height:59px;border-top:0px solid #34383D;border-left:0px solid #34383D;border-right:2px solid #34383D;border-bottom:2px solid #34383D;top:20%;left:10%;z-index:-1;content:"";transform:rotate(45deg);margin-top:-21px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown_content[_ngcontent-%COMP%]{display:block;display:flex;justify-content:space-around}.dropdown_content[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{align-items:center;text-align:center}@media (max-width: 1117px){.boxes_Excercise[_ngcontent-%COMP%]{grid-template-columns:repeat(3,auto)}}@media (max-width: 831px){.boxes_Excercise[_ngcontent-%COMP%]{grid-template-columns:repeat(1,auto)}}@media (max-width: 573px){.dropdown[_ngcontent-%COMP%]{padding:20px;width:100px;margin:10px;height:100px}}@media (max-width: 331px){.boxes_Excercise[_ngcontent-%COMP%]{grid-template-columns:repeat(1,auto)}.dropdown[_ngcontent-%COMP%]:hover   .dropdown_content[_ngcontent-%COMP%]:before{width:150px;height:59px;left:56px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown_content[_ngcontent-%COMP%]{width:281px;height:224px;left:-70px;margin-top:522px}}@media (max-width: 1259px){.dropdown_content[_ngcontent-%COMP%]{left:-31px}}@media (max-width: 573px){.dropdown_content[_ngcontent-%COMP%]{width:338px;height:102px;left:-61px;margin-top:305px}}body[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:poppins}.box[_ngcontent-%COMP%]{background:#FEEFA8;margin-top:100px}.btn-dark[_ngcontent-%COMP%]{background:#34383D!important}#button[_ngcontent-%COMP%]{margin:10px}.page[_ngcontent-%COMP%]{overflow-x:hidden}.product_1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-size:17px;margin-bottom:100px}.product_1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px}.product_2[_ngcontent-%COMP%]{background:#34383D;z-index:-7;position:relative}.biss_module[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%], .client_module[_ngcontent-%COMP%]{text-align:left;padding-top:60px}.coach_module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:100px}.coach_module[_ngcontent-%COMP%]{margin-top:100px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-436px;left:-30px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:481px;height:700px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-263px;left:-113px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"";width:563px;height:3102px;position:absolute;background-repeat:no-repeat;z-index:-5;top:-161px;left:-113px}.product_2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]   .coach_text[_ngcontent-%COMP%]{align-self:center}.box_1[_ngcontent-%COMP%], .box_3[_ngcontent-%COMP%], .box_6[_ngcontent-%COMP%], .box_8[_ngcontent-%COMP%]{background:#FEEFA8;padding:20px;text-align:center;box-sizing:content-box;width:200px;height:200px;display:flex;margin:10px;align-items:center;justify-content:center}.box_2[_ngcontent-%COMP%], .box_4[_ngcontent-%COMP%], .box_5[_ngcontent-%COMP%], .box_7[_ngcontent-%COMP%]{background:#34383D;display:flex;align-items:center;justify-content:center;padding:20px;color:#fff;text-align:center;box-sizing:content-box;width:200px;margin:10px;height:200px}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:15px;font-weight:bolder}.container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:400px;height:30px}.boxes_coach[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.boxes_coach[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px}.mobile_1[_ngcontent-%COMP%], .mobile_5[_ngcontent-%COMP%]{background-color:#34383d}.mobile_box[_ngcontent-%COMP%]{display:none}.mobile_3[_ngcontent-%COMP%]{background:linear-gradient(99.33deg,#FEEFA8 .55%,#F5E383 108.61%)}.mobile_text1[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text1[_ngcontent-%COMP%]   .text1_1[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_1[_ngcontent-%COMP%]{color:#feefa8}.mobile_text1[_ngcontent-%COMP%]   .text1_2[_ngcontent-%COMP%], .mobile_text5[_ngcontent-%COMP%]   .text5_2[_ngcontent-%COMP%]{color:#fff;line-height:1.4em;padding-top:5px}.mobile_1[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile[_ngcontent-%COMP%]:before{content:"";width:685px;height:3173px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-14px;top:139px}.mobile_2[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_3[_ngcontent-%COMP%]{position:relative;z-index:7}.mobile_4[_ngcontent-%COMP%]{position:relative;z-index:5}.mobile_5[_ngcontent-%COMP%]{position:relative;z-index:2}.mobile2[_ngcontent-%COMP%]:before{content:"";width:800px;height:3173px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-146px;top:260px}.mobile3[_ngcontent-%COMP%]:before{content:"";width:600px;height:3000px;position:absolute;z-index:-5;background-repeat:no-repeat;left:103px;top:49px}.mobile4[_ngcontent-%COMP%]:before{content:"";width:756px;height:900px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-70px;top:60px}.mobile5[_ngcontent-%COMP%]:before{content:"";width:872px;height:900px;position:absolute;z-index:-5;background-repeat:no-repeat;left:-350px;top:195px}.frontpage[_ngcontent-%COMP%]{overflow-x:hidden}.image_button[_ngcontent-%COMP%]{position:relative;left:-133px}.mobile[_ngcontent-%COMP%], .mobile2[_ngcontent-%COMP%], .mobile3[_ngcontent-%COMP%], .mobile4[_ngcontent-%COMP%], .mobile5[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text2[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile_text2[_ngcontent-%COMP%]   .text2_2[_ngcontent-%COMP%], .mobile_text3[_ngcontent-%COMP%]   .text3_2[_ngcontent-%COMP%]{padding-top:10px}.page[_ngcontent-%COMP%]   .check_box[_ngcontent-%COMP%]{align-content:center;justify-content:center}.form-check[_ngcontent-%COMP%]{padding-left:3.25rem}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:30px}.check_box[_ngcontent-%COMP%]   .dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 50px 20px 8px;border-radius:10px}.page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:table-row}.sign_up[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:10px}.name[_ngcontent-%COMP%]{margin-top:20px}.name[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.bday[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:38%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.age[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:20%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.gender[_ngcontent-%COMP%]{font-weight:bolder;font-size:17px}.dotted[_ngcontent-%COMP%]{border:dotted black;padding:20px 40px 20px 8px;border-radius:10px;position:relative;width:-webkit-max-content;width:max-content}.phone[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.password[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:79%;height:calc(1.5em + .75rem + 6px);border-radius:5.25rem}.form_elements[_ngcontent-%COMP%]{justify-content:center}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:10px 70px;background:#34383D;border-radius:5.25rem;color:#fff}.sign_up[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:active{outline:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 767px){.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{width:0px}.biss_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#feefa8}.coach_module[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.client_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}.check_box[_ngcontent-%COMP%]{align-items:center;justify-content:center;align-self:center}}@media (max-width: 991px){.coach_module[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{left:-197px}.box[_ngcontent-%COMP%]{margin-top:0}.text[_ngcontent-%COMP%]{display:none}.text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}.mobile_box[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:19px}}@media screen and (max-width: 1200px){.image_button[_ngcontent-%COMP%]{position:relative;left:-74px}}@media screen and (max-width: 575px){.mobiles_mobile[_ngcontent-%COMP%]{padding-bottom:50px}.page_1[_ngcontent-%COMP%]{text-align:center;align-self:center}.image_button_2[_ngcontent-%COMP%]{text-align:center;align-self:center;align-items:center}.mobile_box[_ngcontent-%COMP%]{text-align:center}.mobile3[_ngcontent-%COMP%]:before{left:87px}}@media screen and (max-width: 510px){.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}}']}),c})()},{path:"coach",component:o0},{path:"login",component:s0},{path:"signup",component:GE}];let Hm=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c}),c.\u0275inj=v.cJS({imports:[[e0.forRoot(ug)],e0]}),c})();function WE(c,a){1&c&&(v.TgZ(0,"ul",9),v.TgZ(1,"li",10),v.TgZ(2,"a",11),v._uU(3,"Apps"),v.qZA(),v.qZA(),v.TgZ(4,"li",10),v.TgZ(5,"a",12),v._uU(6,"About"),v.qZA(),v.qZA(),v.TgZ(7,"li",10),v.TgZ(8,"a",13),v._uU(9," Excercise "),v.qZA(),v.qZA(),v.TgZ(10,"li",10),v.TgZ(11,"a",14),v._uU(12," Coach "),v.qZA(),v.qZA(),v.qZA())}function jf(c,a){1&c&&(v.TgZ(0,"ul",15),v.TgZ(1,"li",10),v.TgZ(2,"a",16),v._uU(3,"Log In"),v.qZA(),v.qZA(),v.TgZ(4,"li",10),v.TgZ(5,"a",17),v._uU(6,"Sign Up"),v.qZA(),v.qZA(),v.qZA())}(0,v.G48)();let KE=(()=>{class c{constructor(){this.showMe=!0}ngOnInit(){}toggleTag(){this.showMe=!this.showMe}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-navbar"]],decls:12,vars:2,consts:[[1,"navbar","mat-elevation-z8"],[1,"nav-container"],[1,"nav_brand"],["routerLink","/",1,"nav-logo"],[1,"nav_links"],["class","nav-menu",4,"ngIf"],["class","nav-menu2",4,"ngIf"],[1,"nav-icon"],[1,"fas","fa-times",3,"click"],[1,"nav-menu"],[1,"nav-item"],["routerLink","mobile",1,"nav-links"],["routerLink","about",1,"nav-links"],["routerLink","excercise",1,"nav-links"],["routerLink","coach",1,"nav-links"],[1,"nav-menu2"],["routerLink","login",1,"nav-links","login"],["routerLink","signup",1,"nav-links"]],template:function(s,f){1&s&&(v.TgZ(0,"nav",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v.TgZ(3,"div",3),v._uU(4," SHAPEMEUP "),v.qZA(),v.qZA(),v.TgZ(5,"div",4),v.YNc(6,WE,13,0,"ul",5),v.YNc(7,jf,7,0,"ul",6),v.qZA(),v.TgZ(8,"div",7),v.TgZ(9,"i",8),v.NdJ("click",function(){return f.toggleTag()}),v.TgZ(10,"mat-icon"),v._uU(11,"menu"),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&s&&(v.xp6(6),v.Q6J("ngIf",f.showMe),v.xp6(1),v.Q6J("ngIf",f.showMe))},directives:[Gy,B.O5,Ey,Mm],styles:['body[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:poppins}.navbar[_ngcontent-%COMP%]{background:#FEEFA8;font-family:poppins;padding:18px;height:80px;display:flex;justify-content:space-around;width:100%;position:sticky;top:0;z-index:20}.nav-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:29px;max-width:1500px}.nav_brand[_ngcontent-%COMP%]{align-self:center}.nav-logo[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;border-radius:226px;background:#34383D;color:#feefa8;font-size:12px;padding:15px;cursor:pointer}.nav_links[_ngcontent-%COMP%]{display:flex;list-style:none;justify-content:space-between;align-items:center}.nav-menu2[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center}.nav-menu2[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{background:#F2994A;border-radius:20px}.nav-menu[_ngcontent-%COMP%]{display:flex;list-style:none;margin-right:8rem;align-items:center}.nav-links[_ngcontent-%COMP%]{color:#000;text-decoration:none;padding:.5rem 1rem;height:100%;border-bottom:3px solid transparent}.fa-code[_ngcontent-%COMP%]{margin-left:1rem}fa[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{font-weight:900;color:#000}.nav-item[_ngcontent-%COMP%]{line-height:40px;margin-right:1rem;align-items:center;cursor:pointer;font-size:1rem}dl[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin-top:1rem}.nav-item[_ngcontent-%COMP%]:after{content:"";display:block;height:3px;width:0;background:transparent;transition:width .7s ease,background-color .5s ease}.nav-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none}.nav-item[_ngcontent-%COMP%]:hover:after{width:100%;background:#F2994A}.nav-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000;font-weight:bolder}.nav-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 1081px){.nav-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;border-top:1pxsolid #fff;position:absolute;top:61px;background:#FEEFA8;left:0px;opacity:1;transition:all .5s ease}.nav-menu2[_ngcontent-%COMP%]{display:flex;list-style:none;text-align:center;margin-right:5rem;background:#FEEFA8;position:absolute;top:528px;left:0px;width:100%;transition:all .5s ease}.nav-menu.active[_ngcontent-%COMP%]{background:#FEEFA8;left:0px;opacity:1;transition:all .5s ease;z-index:1}.nav-links[_ngcontent-%COMP%]{padding:1.5rem;width:100%;display:table}.nav-icon[_ngcontent-%COMP%]{display:block;position:absolute;top:0;right:0;transform:translate(-100%,60%);font-size:1.8rem;cursor:pointer;color:#ffdd40}}']}),c})(),sC=(()=>{class c{constructor(){this.title="shapmeup"}}return c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=v.Xpm({type:c,selectors:[["app-root"]],decls:2,vars:0,template:function(s,f){1&s&&(v._UZ(0,"app-navbar"),v._UZ(1,"router-outlet"))},directives:[KE,$y],styles:["You[_ngcontent-%COMP%]   can[_ngcontent-%COMP%]   add[_ngcontent-%COMP%]   global[_ngcontent-%COMP%]   styles[_ngcontent-%COMP%]   to[_ngcontent-%COMP%]   this[_ngcontent-%COMP%]   file[_ngcontent-%COMP%], and[_ngcontent-%COMP%]   also[_ngcontent-%COMP%]   import[_ngcontent-%COMP%]   other[_ngcontent-%COMP%]   style[_ngcontent-%COMP%]   files[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;font-family:poppins}.box[_ngcontent-%COMP%]{background:#FEEFA8;margin-top:100px}.btn-dark[_ngcontent-%COMP%]{background:#34383D!important}#button[_ngcontent-%COMP%]{margin:10px}.page[_ngcontent-%COMP%]{overflow-x:hidden}.product_1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-size:17px;margin-bottom:100px;justify-content:center;align-items:center}.product_1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:30px;text-align:center}.product_2[_ngcontent-%COMP%]{background:#34383D;z-index:-7;position:relative}.biss_module[_ngcontent-%COMP%], .coach_module[_ngcontent-%COMP%], .client_module[_ngcontent-%COMP%]{text-align:left;padding-top:60px}.coach_module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-bottom:100px}.coach_module[_ngcontent-%COMP%]{margin-top:100px}"]}),c})();const p__firebase={apiKey:"AIzaSyAdAQ4pq3069yw0a-9MnyWoH8VFUYAwlTI",authDomain:"fitness-34f07.firebaseapp.com",databaseURL:"https://fitness-34f07-default-rtdb.firebaseio.com",projectId:"fitness-34f07",storageBucket:"fitness-34f07.appspot.com",messagingSenderId:"483821618138",appId:"1:483821618138:web:e8c7ec344aa4c53aeaf6e3",measurementId:"G-PC5FJNF5J7"};var $m=$(2372),ob=$(5691);let aC=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=v.oAB({type:c,bootstrap:[sC]}),c.\u0275inj=v.cJS({providers:[Wy],imports:[[ss,Hm,Pg,L_,Op,TE,W0,ob.AngularFireDatabaseModule,$m.AngularFireModule.initializeApp(p__firebase,"shapmeup"),r0.AngularFirestoreModule,rC]]}),c})();(0,v.G48)(),Or().bootstrapModule(aC).catch(c=>console.error(c))},4762:(pt,Oe,$)=>{"use strict";$.d(Oe,{ZT:()=>v,pi:()=>G,mG:()=>se,Jh:()=>ue,XA:()=>te,CR:()=>_e,ev:()=>ze});var B=function(ye,Pe){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,De){be.__proto__=De}||function(be,De){for(var qe in De)Object.prototype.hasOwnProperty.call(De,qe)&&(be[qe]=De[qe])})(ye,Pe)};function v(ye,Pe){if("function"!=typeof Pe&&null!==Pe)throw new TypeError("Class extends value "+String(Pe)+" is not a constructor or null");function be(){this.constructor=ye}B(ye,Pe),ye.prototype=null===Pe?Object.create(Pe):(be.prototype=Pe.prototype,new be)}var G=function(){return(G=Object.assign||function(Pe){for(var be,De=1,qe=arguments.length;De<qe;De++)for(var Re in be=arguments[De])Object.prototype.hasOwnProperty.call(be,Re)&&(Pe[Re]=be[Re]);return Pe}).apply(this,arguments)};function se(ye,Pe,be,De){return new(be||(be=Promise))(function(Re,gt){function rt(_t){try{yt(De.next(_t))}catch(Ke){gt(Ke)}}function jt(_t){try{yt(De.throw(_t))}catch(Ke){gt(Ke)}}function yt(_t){_t.done?Re(_t.value):function(Re){return Re instanceof be?Re:new be(function(gt){gt(Re)})}(_t.value).then(rt,jt)}yt((De=De.apply(ye,Pe||[])).next())})}function ue(ye,Pe){var De,qe,Re,gt,be={label:0,sent:function(){if(1&Re[0])throw Re[1];return Re[1]},trys:[],ops:[]};return gt={next:rt(0),throw:rt(1),return:rt(2)},"function"==typeof Symbol&&(gt[Symbol.iterator]=function(){return this}),gt;function rt(yt){return function(_t){return function(yt){if(De)throw new TypeError("Generator is already executing.");for(;be;)try{if(De=1,qe&&(Re=2&yt[0]?qe.return:yt[0]?qe.throw||((Re=qe.return)&&Re.call(qe),0):qe.next)&&!(Re=Re.call(qe,yt[1])).done)return Re;switch(qe=0,Re&&(yt=[2&yt[0],Re.value]),yt[0]){case 0:case 1:Re=yt;break;case 4:return be.label++,{value:yt[1],done:!1};case 5:be.label++,qe=yt[1],yt=[0];continue;case 7:yt=be.ops.pop(),be.trys.pop();continue;default:if(!(Re=(Re=be.trys).length>0&&Re[Re.length-1])&&(6===yt[0]||2===yt[0])){be=0;continue}if(3===yt[0]&&(!Re||yt[1]>Re[0]&&yt[1]<Re[3])){be.label=yt[1];break}if(6===yt[0]&&be.label<Re[1]){be.label=Re[1],Re=yt;break}if(Re&&be.label<Re[2]){be.label=Re[2],be.ops.push(yt);break}Re[2]&&be.ops.pop(),be.trys.pop();continue}yt=Pe.call(ye,be)}catch(_t){yt=[6,_t],qe=0}finally{De=Re=0}if(5&yt[0])throw yt[1];return{value:yt[0]?yt[1]:void 0,done:!0}}([yt,_t])}}}function te(ye){var Pe="function"==typeof Symbol&&Symbol.iterator,be=Pe&&ye[Pe],De=0;if(be)return be.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&De>=ye.length&&(ye=void 0),{value:ye&&ye[De++],done:!ye}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(ye,Pe){var be="function"==typeof Symbol&&ye[Symbol.iterator];if(!be)return ye;var qe,gt,De=be.call(ye),Re=[];try{for(;(void 0===Pe||Pe-- >0)&&!(qe=De.next()).done;)Re.push(qe.value)}catch(rt){gt={error:rt}}finally{try{qe&&!qe.done&&(be=De.return)&&be.call(De)}finally{if(gt)throw gt.error}}return Re}function ze(ye,Pe,be){if(be||2===arguments.length)for(var Re,De=0,qe=Pe.length;De<qe;De++)(Re||!(De in Pe))&&(Re||(Re=Array.prototype.slice.call(Pe,0,De)),Re[De]=Pe[De]);return ye.concat(Re||Array.prototype.slice.call(Pe))}}},pt=>{pt(pt.s=9149)}]);